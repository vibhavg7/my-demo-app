(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{lE2P:function(t,c,r){"use strict";r.r(c);var e=r("fXoL"),o=r("QJ7G"),i=r("tyNb"),a=r("ofXK"),d=r("Q6/5");const n=["class","card",4,"ngIf"],s=["class","alert alert-danger",4,"ngIf"],u=[1,"card"],b=[1,"card-header"],l=[1,"card-body"],p=[1,"row"],g=[1,"col-md-8"],m=[1,"col-md-4"],v=[3,"rating","ratingClicked"],f=[1,"center-block","img-responsive",3,"src","title"],h=[1,"card-footer"],C=[1,"btn","btn-outline-secondary",2,"width","80px",3,"click"],W=[1,"fa","fa-chevron-left"];function Y(t,c){if(1&t){const t=e.Zb();e.Yb(0,"div",u),e.Yb(1,"div",b),e.Mc(2),e.Wb(),e.Yb(3,"div",l),e.Yb(4,"div",p),e.Yb(5,"div",g),e.Yb(6,"div",p),e.Yb(7,"div",m),e.Mc(8,"Name:"),e.Wb(),e.Yb(9,"div",g),e.Mc(10),e.Wb(),e.Wb(),e.Yb(11,"div",p),e.Yb(12,"div",m),e.Mc(13,"Code:"),e.Wb(),e.Yb(14,"div",g),e.Mc(15),e.Wb(),e.Wb(),e.Yb(16,"div",p),e.Yb(17,"div",m),e.Mc(18,"Release Date:"),e.Wb(),e.Yb(19,"div",g),e.Mc(20),e.nc(21,"date"),e.Wb(),e.Wb(),e.Yb(22,"div",p),e.Yb(23,"div",m),e.Mc(24,"Last Updated:"),e.Wb(),e.Yb(25,"div",g),e.Mc(26),e.nc(27,"date"),e.Wb(),e.Wb(),e.Yb(28,"div",p),e.Yb(29,"div",m),e.Mc(30,"Description:"),e.Wb(),e.Yb(31,"div",g),e.Mc(32),e.Wb(),e.Wb(),e.Yb(33,"div",p),e.Yb(34,"div",m),e.Mc(35,"Price:"),e.Wb(),e.Yb(36,"div",g),e.Mc(37),e.Wb(),e.Wb(),e.Yb(38,"div",p),e.Yb(39,"div",m),e.Mc(40,"Star Rating:"),e.Wb(),e.Yb(41,"div",g),e.Yb(42,"app-star",v),e.jc("ratingClicked",(function(c){return e.Ac(t),e.mc().onRatingClicked(c)})),e.Wb(),e.Wb(),e.Wb(),e.Yb(43,"div",p),e.Yb(44,"div",m),e.Mc(45,"Category Name:"),e.Wb(),e.Yb(46,"div",g),e.Mc(47),e.Wb(),e.Wb(),e.Yb(48,"div",p),e.Yb(49,"div",m),e.Mc(50,"Available:"),e.Wb(),e.Yb(51,"div",g),e.Mc(52),e.Wb(),e.Wb(),e.Wb(),e.Yb(53,"div",m),e.Yb(54,"img",f),e.Ic(),e.Wb(),e.Wb(),e.Wb(),e.Wb(),e.Yb(55,"div",h),e.Yb(56,"button",C),e.jc("click",(function(c){return e.Ac(t),e.mc().onBack()})),e.Tb(57,"i",W),e.Mc(58," Back "),e.Wb(),e.Yb(59,"button",C),e.jc("click",(function(c){return e.Ac(t),e.mc().onEdit()})),e.Tb(60,"i",W),e.Mc(61," Edit "),e.Wb(),e.Wb(),e.Wb()}if(2&t){const t=e.mc();e.Cc(2),e.Oc(" ",t.pageTitle," "),e.Cc(10),e.Nc(null==t.productData?null:t.productData.productName),e.Cc(15),e.Nc(null==t.productData?null:t.productData.productCode),e.Cc(20),e.Nc(e.pc(21,14,null==t.productData?null:t.productData.releaseDate,"medium")),e.Cc(26),e.Nc(e.pc(27,17,null==t.productData?null:t.productData.lastUpdated,"medium")),e.Cc(32),e.Nc(null==t.productData?null:t.productData.description),e.Cc(37),e.Nc(null==t.productData?null:t.productData.price),e.Cc(42),e.sc("rating",null==t.productData?null:t.productData.starRating),e.Cc(47),e.Nc(null==t.productData?null:t.productData.categoryName),e.Cc(52),e.Nc(null==t.productData?null:t.productData.available?"Available":"Not Available"),e.Cc(54),e.Hc("width",200,"px"),e.Hc("margin",2,"px"),e.Jc(),e.uc("src","assets/product_images/",null==t.productData?null:t.productData.image_url,"",e.Bc),e.sc("title",null==t.productData?null:t.productData.productName)}}const D=[1,"alert","alert-danger"];function y(t,c){if(1&t&&(e.Yb(0,"div",D),e.Mc(1),e.Wb()),2&t){const t=e.mc();e.Cc(1),e.Oc("",t.errorMessage,"\n")}}let M=(()=>{class t{constructor(t,c,r){this._productService=t,this.router=c,this._activatedRoute=r}onBack(){this.router.navigate(["/products"],{queryParamsHandling:"preserve"})}onEdit(){this.router.navigate(["products",this.productId,"edit"])}ngOnInit(){const t=this._activatedRoute.snapshot.data.product;this.errorMessage=t.error,this.onProductRetrieved(t.product)}onRatingClicked(t){console.log(t)}onProductRetrieved(t){this.productData=t,this.pageTitle=this.productData?`Product Detail: ${this.productData.productName}`:"No product found"}}return t.ngComponentDef=e.Mb({type:t,selectors:[["ng-component"]],factory:function(c){return new(c||t)(e.Sb(o.a),e.Sb(i.f),e.Sb(i.a))},consts:2,vars:2,template:function(t,c){1&t&&(e.Kc(0,Y,62,20,"div",n),e.Kc(1,y,2,1,"div",s)),2&t&&(e.sc("ngIf",c.productData),e.Cc(1),e.sc("ngIf",c.errorMessage))},directives:[a.m,d.a],pipes:[a.d],styles:[""]}),t})();var P=r("PCNd"),I=r("LRne"),_=r("lJxs"),N=r("JIr8");let S=(()=>{class t{constructor(t){this.productDataService=t}resolve(t,c){const r=+t.paramMap.get("id");if(isNaN(r)){const t=`Product id is not a number:${r}`;return console.error(t),Object(I.a)({product:null,error:t})}return this.productDataService.getProduct(r).pipe(Object(_.a)(t=>({product:t,error:""})),Object(N.a)(t=>{const c=`Retrieval error: ${t}`;return Object(I.a)({product:null,error:c})}))}}return t.ngInjectableDef=e.Ob({token:t,factory:function(c){return new(c||t)(e.hc(o.a))},providedIn:"root"}),t})(),k=(()=>{class t{constructor(t){this.productDataService=t}resolve(t,c){return this.productDataService.getProducts(1,20,"").pipe(Object(_.a)(t=>({product:t.products,product_total_count:t.productCount,error:""})),Object(N.a)(t=>{const c=`Retrieval error: ${t}`;return Object(I.a)({product:null,error:c})}))}}return t.ngInjectableDef=e.Ob({token:t,factory:function(c){return new(c||t)(e.hc(o.a))},providedIn:"root"}),t})();var O=r("vkgz"),j=r("/uUt"),w=r("Kj3r"),R=r("eIep"),F=r("kt0X");const K={showProductCode:!0,currentProduct:null,products:[]};function T(t=K,c){switch(c.type){case"TOGGLE_PRODUCT_CODE":return Object.assign({},t,{showProductCode:c.payload});default:return t}}const x=Object(F.m)("products"),q=Object(F.n)(x,t=>t.showProductCode);var A=r("3Pt+"),E=r("Exvd"),B=r("CvK3");const V=[4,"ngIf"];function U(t,c){if(1&t&&(e.Vb(0),e.Mc(1),e.Ub()),2&t){const t=e.mc();e.Cc(1),e.Oc(" - ",null==t.productData?null:t.productData.productCode,"\n")}}let $=(()=>{class t{constructor(t){this.store=t,this.showProductCode=!1}ngOnInit(){this.store.pipe(Object(F.o)(q)).subscribe(t=>{this.showProductCode=t})}}return t.ngComponentDef=e.Mb({type:t,selectors:[["app-product-shell-list-item"]],factory:function(c){return new(c||t)(e.Sb(F.h))},inputs:{productData:["productInfo1","productData"]},consts:3,vars:4,template:function(t,c){1&t&&(e.Mc(0),e.nc(1,"upperCaseName"),e.Kc(2,U,2,1,"ng-container",V)),2&t&&(e.Oc("",e.oc(1,2,null==c.productData?null:c.productData.productName),"\n"),e.Cc(2),e.sc("ngIf",c.showProductCode))},directives:[a.m],pipes:[B.a],styles:[""]}),t})();const G=[1,"card"],L=[1,"card-header"],J=[1,"btn","btn-outline-secondary",2,"float","right",3,"click"],Z=[1,"card-body"],H=[3,"formGroup"],z=[1,"form-group"],Q=["formControlName","searchCriteria","type","text","id","inputError","autocomplete","off","autofocus","","placeholder","Search Products",1,"form-control",3,"keyup"],X=[1,"glyphicon","glyphicon-remove","form-control-feedback"],tt=[4,"ngIf"],ct=[1,"card-footer"],rt=[1,"row"],et=[1,"form-check","col-md-12"],ot=["type","checkbox",1,"form-check-input",3,"checked","change"],it=["class","alert alert-danger",4,"ngIf"],at=[3,"totalItemCount","currentPage",4,"ngIf"],dt=[1,"list-group"],nt=["type","button","class","list-group-item",3,"ngClass","click",4,"ngFor","ngForOf"],st=[3,"totalItemCount","currentPage"];function ut(t,c){if(1&t){const t=e.Zb();e.Yb(0,"app-pagination",st),e.jc("currentPage",(function(c){return e.Ac(t),e.mc(2).currentPageFn(c)})),e.Wb()}if(2&t){const t=e.mc(2);e.sc("totalItemCount",t.productsCount)}}const bt=["type","button",1,"list-group-item",3,"ngClass","click"],lt=[3,"productInfo1"],pt=function(t){return{active:t}};function gt(t,c){if(1&t){const t=e.Zb();e.Yb(0,"button",bt),e.jc("click",(function(r){e.Ac(t);const o=c.$implicit;return e.mc(2).onSelected(o)})),e.Tb(1,"app-product-shell-list-item",lt),e.Wb()}if(2&t){const t=c.$implicit,r=e.mc(2);e.sc("ngClass",e.vc(2,pt,(null==r.selectedProduct?null:r.selectedProduct.productId)==(null==t?null:t.productId))),e.Cc(1),e.sc("productInfo1",t)}}function mt(t,c){if(1&t&&(e.Yb(0,"div"),e.Kc(1,ut,1,1,"app-pagination",at),e.Yb(2,"div",dt),e.Kc(3,gt,2,4,"button",nt),e.Wb(),e.Wb()),2&t){const t=e.mc();e.Cc(1),e.sc("ngIf",t.productsCount>0),e.Cc(3),e.sc("ngForOf",t.products)}}function vt(t,c){1&t&&(e.Yb(0,"div"),e.Yb(1,"span"),e.Mc(2,"No Products Found in catelog"),e.Wb(),e.Wb())}const ft=[1,"alert","alert-danger"];function ht(t,c){if(1&t&&(e.Yb(0,"div",ft),e.Mc(1),e.Wb()),2&t){const t=e.mc();e.Cc(1),e.Oc(" Error: ",t.errorMessage," ")}}let Ct=(()=>{class t{constructor(t,c,r,e,o){this._productService=t,this.router=c,this.formBuilder=r,this.store=e,this._activatedRoute=o,this.filterBy="",this.pageTitle="Products Listing",this.productsCount=0,this.Pages=[],this.pageSize=20,this.searchCriteriaForm=this.formBuilder.group({searchCriteria:[""]})}ngOnInit(){this.currentPage=1,this.sub=this._productService.selectProductChanges$.subscribe(t=>{this.selectedProduct=t}),this.store.pipe(Object(F.o)(q)).subscribe(t=>{this.displayCode=t});let t=this._activatedRoute.snapshot.data.products.product;this.productsCount=+this._activatedRoute.snapshot.data.products.product_total_count,this.onProductRetrieved(t)}onChanges(){this.searchCriteriaForm.get("searchCriteria").valueChanges.pipe(Object(O.a)(t=>{console.log(t)}),Object(j.a)(),Object(w.a)(2e3),Object(R.a)(t=>(this.filterBy=t,console.log(this.filterBy),this._productService.getProducts(this.currentPage,this.pageSize,this.filterBy)))).subscribe(t=>{this.onProductRetrieved(t.products),this.productsCount=t.productCount})}currentPageFn(t){this.currentPage=t,this._productService.getProducts(this.currentPage,this.pageSize,this.filterBy).subscribe(t=>{this.onProductRetrieved(t.products)})}checkChanged(t){this.store.dispatch({type:"TOGGLE_PRODUCT_CODE",payload:t})}onSelected(t){this._productService.changeSelectedProduct(t.productId)}onProductRetrieved(t){this.products=t}addProduct(){this.router.navigate(["products","0","edit"])}ngOnDestroy(){this.sub.unsubscribe()}}return t.ngComponentDef=e.Mb({type:t,selectors:[["app-product-shell-list"]],factory:function(c){return new(c||t)(e.Sb(o.a),e.Sb(i.f),e.Sb(A.c),e.Sb(F.h),e.Sb(i.a))},consts:20,vars:6,template:function(t,c){1&t&&(e.Yb(0,"div",G),e.Yb(1,"div",L),e.Mc(2),e.Yb(3,"button",J),e.jc("click",(function(t){return c.addProduct()})),e.Mc(4," Add Product "),e.Wb(),e.Wb(),e.Yb(5,"div",Z),e.Yb(6,"form",H),e.Yb(7,"div",z),e.Yb(8,"div"),e.Yb(9,"input",Q),e.jc("keyup",(function(t){return c.onChanges()})),e.Wb(),e.Tb(10,"span",X),e.Wb(),e.Wb(),e.Wb(),e.Kc(11,mt,4,2,"div",tt),e.Kc(12,vt,3,0,"div",tt),e.Wb(),e.Yb(13,"div",ct),e.Yb(14,"div",rt),e.Yb(15,"div",et),e.Yb(16,"label"),e.Yb(17,"input",ot),e.jc("change",(function(t){return c.checkChanged(t.target.checked)})),e.Wb(),e.Mc(18," Display Product Code "),e.Wb(),e.Wb(),e.Wb(),e.Wb(),e.Kc(19,ht,2,1,"div",it),e.Wb()),2&t&&(e.Cc(2),e.Oc(" ",c.pageTitle," "),e.Cc(6),e.sc("formGroup",c.searchCriteriaForm),e.Cc(11),e.sc("ngIf",c.productsCount>0),e.Cc(12),e.sc("ngIf",0==c.productsCount),e.Cc(17),e.sc("checked",c.displayCode),e.Cc(19),e.sc("ngIf",c.errorMessage))},directives:[A.t,A.j,A.e,A.b,A.i,A.d,a.m,a.l,E.a,a.k,$],styles:[""]}),t})();var Wt=r("chph"),Yt=r("1kSV");const Dt=["class","card card-primary",4,"ngIf"],yt=[1,"card","card-primary"],Mt=[1,"card-header"],Pt=[1,"card-body"],It=[1,"row"],_t=[1,"col-md-8"],Nt=[1,"col-md-4","product-detail-label"],St=[3,"rating","ratingClicked"],kt=[1,"col-md-4"],Ot=["class","center-block img-responsive","src","assets/product_images/default_image.jpg",3,"title","width","margin",4,"ngIf"],jt=["class","center-block img-responsive",3,"src","title","width","margin",4,"ngIf"],wt=["style","display:block;text-align:center;cursor:pointer;color:blue",3,"click",4,"ngIf"],Rt=[1,"card-footer"],Ft=[1,"row","mb-2"],Kt=[1,"btn","btn-primary","mr-3",3,"routerLink"],Tt=[1,"fa","fa-edit"],xt=["class","alert alert-danger",4,"ngIf"],qt=["src","assets/product_images/default_image.jpg",1,"center-block","img-responsive",3,"title"];function At(t,c){if(1&t&&(e.Yb(0,"img",qt),e.Ic(),e.Wb()),2&t){const t=e.mc(2);e.Hc("width",200,"px"),e.Hc("margin",2,"px"),e.Jc(),e.sc("title",null==t.productData?null:t.productData.productName)}}const Et=[1,"center-block","img-responsive",3,"src","title"];function Bt(t,c){if(1&t&&(e.Yb(0,"img",Et),e.Ic(),e.Wb()),2&t){const t=e.mc(2);e.Hc("width",200,"px"),e.Hc("margin",2,"px"),e.Jc(),e.tc("src",t.imageurl,e.Bc),e.sc("title",null==t.productData?null:t.productData.productName)}}const Vt=[2,"display","block","text-align","center","cursor","pointer","color","blue",3,"click"];function Ut(t,c){if(1&t){const t=e.Zb();e.Yb(0,"span",Vt),e.jc("click",(function(c){return e.Ac(t),e.mc(2).uploadImage()})),e.Mc(1," Upload Image "),e.Wb()}}function $t(t,c){if(1&t){const t=e.Zb();e.Yb(0,"span",Vt),e.jc("click",(function(c){return e.Ac(t),e.mc(2).uploadImage()})),e.Mc(1," Change Image "),e.Wb()}}const Gt=[1,"alert","alert-danger"];function Lt(t,c){if(1&t&&(e.Yb(0,"div",Gt),e.Mc(1),e.Wb()),2&t){const t=e.mc(2);e.Cc(1),e.Oc("",t.errorMessage," ")}}const Jt=function(t){return["/products",t,"edit"]};function Zt(t,c){if(1&t){const t=e.Zb();e.Yb(0,"div",yt),e.Yb(1,"div",Mt),e.Mc(2),e.Wb(),e.Yb(3,"div",Pt),e.Yb(4,"div",It),e.Yb(5,"div",_t),e.Yb(6,"div",It),e.Yb(7,"div",Nt),e.Mc(8,"Name:"),e.Wb(),e.Yb(9,"div",_t),e.Mc(10),e.nc(11,"upperCaseName"),e.Wb(),e.Wb(),e.Yb(12,"div",It),e.Yb(13,"div",Nt),e.Mc(14,"Code:"),e.Wb(),e.Yb(15,"div",_t),e.Mc(16),e.nc(17,"upperCaseName"),e.Wb(),e.Wb(),e.Yb(18,"div",It),e.Yb(19,"div",Nt),e.Mc(20,"Weight:"),e.Wb(),e.Yb(21,"div",_t),e.Mc(22),e.Wb(),e.Wb(),e.Yb(23,"div",It),e.Yb(24,"div",Nt),e.Mc(25,"Release Date:"),e.Wb(),e.Yb(26,"div",_t),e.Mc(27),e.nc(28,"date"),e.Wb(),e.Wb(),e.Yb(29,"div",It),e.Yb(30,"div",Nt),e.Mc(31,"Last Updated:"),e.Wb(),e.Yb(32,"div",_t),e.Mc(33),e.nc(34,"date"),e.Wb(),e.Wb(),e.Yb(35,"div",It),e.Yb(36,"div",Nt),e.Mc(37,"Description:"),e.Wb(),e.Yb(38,"div",_t),e.Mc(39),e.Wb(),e.Wb(),e.Yb(40,"div",It),e.Yb(41,"div",Nt),e.Mc(42,"Price:"),e.Wb(),e.Yb(43,"div",_t),e.Mc(44),e.Wb(),e.Wb(),e.Yb(45,"div",It),e.Yb(46,"div",Nt),e.Mc(47,"Star Rating:"),e.Wb(),e.Yb(48,"div",_t),e.Yb(49,"app-star",St),e.jc("ratingClicked",(function(c){return e.Ac(t),e.mc().onRatingClicked(c)})),e.Wb(),e.Wb(),e.Wb(),e.Yb(50,"div",It),e.Yb(51,"div",Nt),e.Mc(52,"Category Name:"),e.Wb(),e.Yb(53,"div",_t),e.Mc(54),e.nc(55,"upperCaseName"),e.Wb(),e.Wb(),e.Yb(56,"div",It),e.Yb(57,"div",Nt),e.Mc(58,"Available:"),e.Wb(),e.Yb(59,"div",_t),e.Mc(60),e.Wb(),e.Wb(),e.Wb(),e.Yb(61,"div",kt),e.Kc(62,At,1,3,"img",Ot),e.Kc(63,Bt,1,4,"img",jt),e.Kc(64,Ut,2,0,"span",wt),e.Kc(65,$t,2,0,"span",wt),e.Wb(),e.Wb(),e.Wb(),e.Yb(66,"div",Rt),e.Yb(67,"div",Ft),e.Yb(68,"div",_t),e.Yb(69,"button",Kt),e.Tb(70,"i",Tt),e.Mc(71," Edit "),e.Wb(),e.Wb(),e.Wb(),e.Wb(),e.Kc(72,Lt,2,1,"div",xt),e.Wb()}if(2&t){const t=e.mc();e.Cc(2),e.Oc(" ",null==t.productData?null:t.productData.productName," "),e.Cc(10),e.Nc(e.oc(11,18,null==t.productData?null:t.productData.productName)),e.Cc(16),e.Nc(e.oc(17,20,null==t.productData?null:t.productData.productCode)),e.Cc(22),e.Pc("",null==t.productData?null:t.productData.product_weight," ",null==t.productData?null:t.productData.weight_text,""),e.Cc(27),e.Nc(e.pc(28,22,null==t.productData?null:t.productData.releaseDate,"short")),e.Cc(33),e.Nc(e.pc(34,25,null==t.productData?null:t.productData.lastUpdated,"short")),e.Cc(39),e.Nc(null==t.productData?null:t.productData.description),e.Cc(44),e.Nc(null==t.productData?null:t.productData.price),e.Cc(49),e.sc("rating",null==t.productData?null:t.productData.starRating),e.Cc(54),e.Nc(e.oc(55,28,null==t.productData?null:t.productData.categoryName)),e.Cc(60),e.Nc(null==t.productData?null:t.productData.available?"Available":"Not Available"),e.Cc(62),e.sc("ngIf",!t.imageurl),e.Cc(63),e.sc("ngIf",t.imageurl),e.Cc(64),e.sc("ngIf",!t.imageurl),e.Cc(65),e.sc("ngIf",t.imageurl),e.Cc(69),e.sc("routerLink",e.vc(30,Jt,t.productData.productId)),e.Cc(72),e.sc("ngIf",t.errorMessage)}}let Ht=(()=>{class t{constructor(t,c){this.productService=t,this.modalService=c,this.pageTitle="Product Detail",this.imageurl="",this.productid=""}ngOnInit(){this.sub=this.productService.selectProductChanges$.subscribe(t=>{t&&(this.imageurl=t.image_url,this.productid=t.productId),this.productData=t,console.log(this.productData)})}onRatingClicked(t){}uploadImage(){const t=this.modalService.open(Wt.a);t.componentInstance.title="Image Upload",t.componentInstance.image_type="products",t.componentInstance.id=this.productid,t.componentInstance.productImage.subscribe(t=>{this.imageurl=t.image_url,this.productService.updateProductImageUrl(this.imageurl,this.productid)})}ngOnDestroy(){this.sub.unsubscribe()}}return t.ngComponentDef=e.Mb({type:t,selectors:[["app-product-shell-detail"]],factory:function(c){return new(c||t)(e.Sb(o.a),e.Sb(Yt.b))},consts:1,vars:1,template:function(t,c){1&t&&e.Kc(0,Zt,73,32,"div",Dt),2&t&&e.sc("ngIf",c.productData)},directives:[a.m,d.a,i.g],pipes:[B.a,a.d],styles:[".product-detail-label[_ngcontent-%COMP%]{font-weight:700}"]}),t})();const zt=[1,"row"],Qt=[1,"scroll"],Xt=[1,"col-md-8"];let tc=(()=>{class t{constructor(){}ngOnInit(){}}return t.ngComponentDef=e.Mb({type:t,selectors:[["app-product-shell"]],factory:function(c){return new(c||t)},consts:5,vars:0,template:function(t,c){1&t&&(e.Yb(0,"div",zt),e.Yb(1,"div",Qt),e.Tb(2,"app-product-shell-list"),e.Wb(),e.Yb(3,"div",Xt),e.Tb(4,"app-product-shell-detail"),e.Wb(),e.Wb())},directives:[Ct,Ht],styles:["div.scroll[_ngcontent-%COMP%]{margin:4px,;padding:4px;width:350px;height:500px;overflow-x:auto;text-align:justify}"]}),t})();var cc=r("9d4Z");const rc=[1,"jumbotron"],ec=[1,"container"],oc=[1,"row"],ic=[1,"col-md-6","offset-md-3"],ac=[3,"formGroup","ngSubmit"],dc=[1,"form-group"],nc=["type","text","formControlName","productName",1,"form-control",3,"ngClass"],sc=["class","invalid-feedback",4,"ngIf"],uc=["formControlName","storeCategoryName",1,"form-control",3,"change"],bc=[3,"value",4,"ngFor","ngForOf"],lc=[1,"col-md-6"],pc=["formControlName","storeSubCategoryName",1,"form-control",3,"change"],gc=["formControlName","subCategoryName",1,"form-control"],mc=["formControlName","productWeightType",1,"form-control"],vc=["selected","","value","1"],fc=["value","2"],hc=["value","3"],Cc=["value","5"],Wc=["value","4"],Yc=["value","6"],Dc=["type","text","formControlName","productPrice",1,"form-control",3,"ngClass"],yc=["type","text","formControlName","productWeight",1,"form-control",3,"ngClass"],Mc=["type","text","formControlName","productCode",1,"form-control",3,"ngClass"],Pc=["row","3","formControlName","productDescription",1,"form-control",3,"ngClass"],Ic=["type","text","formControlName","productRating",1,"form-control",3,"ngClass"],_c=["for",""],Nc=["formControlName","status",1,"form-control"],Sc=["value","1"],kc=["value","0"],Oc=[1,"btn","btn-primary","mr-3"],jc=[1,"fa","fa-save"],wc=["class","btn btn-primary mr-3",3,"click",4,"ngIf"],Rc=[1,"invalid-feedback"],Fc=[4,"ngIf"];function Kc(t,c){1&t&&(e.Yb(0,"div"),e.Mc(1,"Product Name is required"),e.Wb())}function Tc(t,c){if(1&t&&(e.Yb(0,"div",Rc),e.Kc(1,Kc,2,0,"div",Fc),e.Wb()),2&t){const t=e.mc();e.Cc(1),e.sc("ngIf",t.f.productName.errors.required)}}const xc=[3,"value"];function qc(t,c){if(1&t&&(e.Yb(0,"option",xc),e.Mc(1),e.Wb()),2&t){const t=c.$implicit;e.tc("value",null==t?null:t.store_category_id),e.Cc(1),e.Oc(" ",t.store_category_name," ")}}function Ac(t,c){if(1&t&&(e.Yb(0,"option",xc),e.Mc(1),e.nc(2,"upperCaseName"),e.Wb()),2&t){const t=c.$implicit;e.tc("value",null==t?null:t.store_sub_category_id),e.Cc(1),e.Oc(" ",e.oc(2,2,t.store_sub_category)," ")}}function Ec(t,c){if(1&t&&(e.Yb(0,"option",xc),e.Mc(1),e.nc(2,"upperCaseName"),e.Wb()),2&t){const t=c.$implicit;e.tc("value",null==t?null:t.sub_category_id),e.Cc(1),e.Oc(" ",e.oc(2,2,t.sub_category_name)," ")}}function Bc(t,c){1&t&&(e.Yb(0,"div"),e.Mc(1,"Product Price is required"),e.Wb())}function Vc(t,c){if(1&t&&(e.Yb(0,"div",Rc),e.Kc(1,Bc,2,0,"div",Fc),e.Wb()),2&t){const t=e.mc();e.Cc(1),e.sc("ngIf",t.f.productPrice.errors.required)}}function Uc(t,c){1&t&&(e.Yb(0,"div"),e.Mc(1,"Product weight is required"),e.Wb())}function $c(t,c){if(1&t&&(e.Yb(0,"div",Rc),e.Kc(1,Uc,2,0,"div",Fc),e.Wb()),2&t){const t=e.mc();e.Cc(1),e.sc("ngIf",t.f.productWeight.errors.required)}}function Gc(t,c){1&t&&(e.Yb(0,"div"),e.Mc(1,"Product Code is required"),e.Wb())}function Lc(t,c){if(1&t&&(e.Yb(0,"div",Rc),e.Kc(1,Gc,2,0,"div",Fc),e.Wb()),2&t){const t=e.mc();e.Cc(1),e.sc("ngIf",t.f.productCode.errors.required)}}function Jc(t,c){1&t&&(e.Yb(0,"div"),e.Mc(1,"Product Description is required"),e.Wb())}function Zc(t,c){if(1&t&&(e.Yb(0,"div",Rc),e.Kc(1,Jc,2,0,"div",Fc),e.Wb()),2&t){const t=e.mc();e.Cc(1),e.sc("ngIf",t.f.productDescription.errors.required)}}function Hc(t,c){1&t&&(e.Yb(0,"div"),e.Mc(1,"Product Rating is required"),e.Wb())}function zc(t,c){if(1&t&&(e.Yb(0,"div",Rc),e.Kc(1,Hc,2,0,"div",Fc),e.Wb()),2&t){const t=e.mc();e.Cc(1),e.sc("ngIf",t.f.productRating.errors.required)}}const Qc=[1,"btn","btn-primary","mr-3",3,"click"],Xc=[1,"fa","fa-trash"];function tr(t,c){if(1&t){const t=e.Zb();e.Yb(0,"button",Qc),e.jc("click",(function(c){return e.Ac(t),e.mc().deleteProduct()})),e.Tb(1,"i",Xc),e.Mc(2," Delete "),e.Wb()}}const cr=function(t){return{"is-invalid":t}},rr=[{path:"",component:tc,resolve:{products:k}},{path:":id",component:M,resolve:{product:S}},{path:":id/edit",component:(()=>{class t{constructor(t,c,r,e,o){this.formBuilder=t,this._router=c,this._activatedRoute=r,this._categoryService=e,this._productService=o,this.addProductForm=this.formBuilder.group({productName:["",A.r.required],storeCategoryName:["",A.r.required],storeSubCategoryName:["",A.r.required],subCategoryName:[""],productWeightType:["",A.r.required],productPrice:["",A.r.required],productWeight:["",A.r.required],productCode:["",A.r.required],productDescription:["",A.r.required],productRating:["",A.r.required],status:["",A.r.required]})}get f(){return this.addProductForm.controls}ngOnInit(){this._categoryService.getAllStoreCategory("").subscribe(t=>{this.storeCategories=t.store_categories,this.productId=this._activatedRoute.snapshot.paramMap.get("id"),0!==this.productId&&(this.productData=this._activatedRoute.snapshot.data.productData.product,this.addProductForm.get("storeCategoryName").setValue(this.productData.store_category_id),this.addProductForm.get("storeSubCategoryName").setValue(this.productData.store_sub_category_id),this.addProductForm.get("subCategoryName").setValue(this.productData.sub_category_id),this.addProductForm.get("productName").setValue(this.productData.productName),this.addProductForm.get("productPrice").setValue(this.productData.price),this.addProductForm.get("productCode").setValue(this.productData.productCode),this.addProductForm.get("productWeightType").setValue(this.productData.productWeightType),this.addProductForm.get("productWeight").setValue(this.productData.product_weight),this.addProductForm.get("productDescription").setValue(this.productData.description),this.addProductForm.get("productRating").setValue(this.productData.starRating),this.addProductForm.get("status").setValue(this.productData.available),console.log(this.productData),this.storeCategoryChange(this.productData.store_category_id,+this.productData.store_sub_category_id))})}fetchSubCategories(t){}deleteProduct(){0!=this.productId&&confirm("Are you sure to delete ")&&this._productService.deleteProduct(this.productId).subscribe(t=>{console.log(t),this._router.navigate(["products"])})}onSubmit(){console.log(this.addProductForm.value),this.submitted=!0,this.addProductForm.invalid||(0==this.productId?this._productService.createProduct(this.addProductForm.value).subscribe(t=>{200==t.status?this._router.navigate(["products"]):400==t.status&&alert("Product Not Added . Internal Server Error")},t=>{console.log(t)}):this._productService.updateProduct(this.addProductForm.value,this.productId).subscribe(t=>{console.log(t),200==t.status?this._router.navigate(["products"]):400==t.status&&alert("Product Not Added . Internal Server Error")},t=>{this.errorMessage=t}))}storeCategoryChange(t,c){this.storeSubCategoryData=[],this.subCategoryData=[],this._categoryService.getStoreCategoryData(+t).subscribe(t=>{this.storeSubCategoryData=t.store_categories[0].store_sub_category_name,0==+c||(this.subCategoryData=this.storeSubCategoryData.filter(t=>t.store_sub_category_id===c)[0].sub_category_data)})}storeSubCategoryChange(t){this.storeSubCategoryData.filter(c=>{c.store_sub_category_id===+t&&(this.subCategoryData=c.sub_category_data,this.subCategoryData.length<1&&(this.addProductForm.patchValue({subCategoryName:""}),this.subCategoryData=[]))})}}return t.ngComponentDef=e.Mb({type:t,selectors:[["app-product-shell-add"]],factory:function(c){return new(c||t)(e.Sb(A.c),e.Sb(i.f),e.Sb(i.a),e.Sb(cc.a),e.Sb(o.a))},consts:89,vars:29,template:function(t,c){1&t&&(e.Yb(0,"div",rc),e.Yb(1,"div",ec),e.Yb(2,"div",oc),e.Yb(3,"div",ic),e.Yb(4,"h2"),e.Mc(5,"Add New Product"),e.Wb(),e.Yb(6,"form",ac),e.jc("ngSubmit",(function(t){return c.onSubmit()})),e.Yb(7,"div",dc),e.Yb(8,"label"),e.Mc(9,"Product Name"),e.Wb(),e.Tb(10,"input",nc),e.Kc(11,Tc,2,1,"div",sc),e.Wb(),e.Yb(12,"div",dc),e.Yb(13,"label"),e.Mc(14,"Store Category Name"),e.Wb(),e.Yb(15,"div"),e.Yb(16,"select",uc),e.jc("change",(function(t){return c.storeCategoryChange(t.target.value,0)})),e.Kc(17,qc,2,2,"option",bc),e.Wb(),e.Wb(),e.Wb(),e.Yb(18,"div",oc),e.Yb(19,"div",lc),e.Yb(20,"div",dc),e.Yb(21,"label"),e.Mc(22,"Store Sub Category"),e.Wb(),e.Yb(23,"div"),e.Yb(24,"select",pc),e.jc("change",(function(t){return c.storeSubCategoryChange(t.target.value)})),e.Kc(25,Ac,3,4,"option",bc),e.Wb(),e.Wb(),e.Wb(),e.Wb(),e.Yb(26,"div",lc),e.Yb(27,"div",dc),e.Yb(28,"label"),e.Mc(29,"Sub Category"),e.Wb(),e.Yb(30,"div"),e.Yb(31,"select",gc),e.Kc(32,Ec,3,4,"option",bc),e.Wb(),e.Wb(),e.Wb(),e.Wb(),e.Wb(),e.Yb(33,"div",dc),e.Yb(34,"label"),e.Mc(35,"Weight Type"),e.Wb(),e.Yb(36,"div"),e.Yb(37,"select",mc),e.Yb(38,"option",vc),e.Mc(39,"kg"),e.Wb(),e.Yb(40,"option",fc),e.Mc(41,"gms"),e.Wb(),e.Yb(42,"option",hc),e.Mc(43,"litre"),e.Wb(),e.Yb(44,"option",Cc),e.Mc(45,"ml"),e.Wb(),e.Yb(46,"option",Wc),e.Mc(47,"packet"),e.Wb(),e.Yb(48,"option",Yc),e.Mc(49,"pieces"),e.Wb(),e.Wb(),e.Wb(),e.Wb(),e.Yb(50,"div",dc),e.Yb(51,"label"),e.Mc(52,"Orignal Price(M.R.P)"),e.Wb(),e.Tb(53,"input",Dc),e.Kc(54,Vc,2,1,"div",sc),e.Wb(),e.Yb(55,"div",dc),e.Yb(56,"label"),e.Mc(57,"Product Weight"),e.Wb(),e.Tb(58,"input",yc),e.Kc(59,$c,2,1,"div",sc),e.Wb(),e.Yb(60,"div",dc),e.Yb(61,"label"),e.Mc(62,"Product Code"),e.Wb(),e.Tb(63,"input",Mc),e.Kc(64,Lc,2,1,"div",sc),e.Wb(),e.Yb(65,"div",dc),e.Yb(66,"label"),e.Mc(67,"Product Desciption"),e.Wb(),e.Tb(68,"textarea",Pc),e.Kc(69,Zc,2,1,"div",sc),e.Wb(),e.Yb(70,"div",dc),e.Yb(71,"label"),e.Mc(72,"Product Rating"),e.Wb(),e.Tb(73,"input",Ic),e.Kc(74,zc,2,1,"div",sc),e.Wb(),e.Yb(75,"div",dc),e.Yb(76,"label",_c),e.Mc(77,"Status"),e.Wb(),e.Yb(78,"div"),e.Yb(79,"select",Nc),e.Yb(80,"option",Sc),e.Mc(81,"Enabled"),e.Wb(),e.Yb(82,"option",kc),e.Mc(83,"Disabled"),e.Wb(),e.Wb(),e.Wb(),e.Wb(),e.Yb(84,"div",dc),e.Yb(85,"button",Oc),e.Tb(86,"i",jc),e.Mc(87," Save"),e.Wb(),e.Kc(88,tr,3,0,"button",wc),e.Wb(),e.Wb(),e.Wb(),e.Wb(),e.Wb(),e.Wb()),2&t&&(e.Cc(6),e.sc("formGroup",c.addProductForm),e.Cc(10),e.sc("ngClass",e.vc(17,cr,c.submitted&&c.f.productName.errors)),e.Cc(11),e.sc("ngIf",c.submitted&&c.f.productName.errors),e.Cc(17),e.sc("ngForOf",c.storeCategories),e.Cc(25),e.sc("ngForOf",c.storeSubCategoryData),e.Cc(32),e.sc("ngForOf",c.subCategoryData),e.Cc(53),e.sc("ngClass",e.vc(19,cr,c.submitted&&c.f.productPrice.errors)),e.Cc(54),e.sc("ngIf",c.submitted&&c.f.productPrice.errors),e.Cc(58),e.sc("ngClass",e.vc(21,cr,c.submitted&&c.f.productWeight.errors)),e.Cc(59),e.sc("ngIf",c.submitted&&c.f.productWeight.errors),e.Cc(63),e.sc("ngClass",e.vc(23,cr,c.submitted&&c.f.productCode.errors)),e.Cc(64),e.sc("ngIf",c.submitted&&c.f.productCode.errors),e.Cc(68),e.sc("ngClass",e.vc(25,cr,c.submitted&&c.f.productDescription.errors)),e.Cc(69),e.sc("ngIf",c.submitted&&c.f.productDescription.errors),e.Cc(73),e.sc("ngClass",e.vc(27,cr,c.submitted&&c.f.productRating.errors)),e.Cc(74),e.sc("ngIf",c.submitted&&c.f.productRating.errors),e.Cc(88),e.sc("ngIf",0!=c.productId))},directives:[A.t,A.j,A.e,A.b,A.i,A.d,a.k,a.m,A.q,a.l,A.m,A.s],pipes:[B.a],styles:[""]}),t})(),resolve:{productData:S}}];let er=(()=>{class t{}return t.ngModuleDef=e.Qb({type:t}),t.ngInjectorDef=e.Pb({factory:function(c){return new(c||t)},imports:[[i.j.forChild(rr)],i.j]}),t})();i.j.forChild(rr),r.d(c,"ProductModule",(function(){return or}));let or=(()=>{class t{}return t.ngModuleDef=e.Qb({type:t}),t.ngInjectorDef=e.Pb({factory:function(c){return new(c||t)},providers:[],imports:[[F.j.forFeature("products",T),er,A.o,P.a]]}),t})();F.j.forFeature("products",T)}}]);