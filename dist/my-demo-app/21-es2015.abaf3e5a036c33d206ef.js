(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"+p+5":function(t,e,r){"use strict";r.r(e),r.d(e,"OrderModule",(function(){return Qt}));var n=r("ofXK"),o=r("tyNb"),i=r("fXoL");function a(t,e){1&t&&i.Rb(0,"img",12),2&t&&i.Ic("width",80,"px")("margin",2,"px")}function c(t,e){if(1&t&&i.Rb(0,"img",13),2&t){const t=i.mc().$implicit;i.Ic("width",80,"px")("margin",2,"px"),i.uc("src",null==t?null:t.image_url,i.Ec),i.tc("title",null==t?null:t.product_name)}}function s(t,e){if(1&t&&(i.Wb(0,"tr"),i.Wb(1,"td",8),i.Lc(2),i.Vb(),i.Wb(3,"td"),i.Jc(4,a,1,4,"img",10),i.Jc(5,c,1,6,"img",11),i.Vb(),i.Wb(6,"td"),i.Lc(7),i.Vb(),i.Wb(8,"td"),i.Lc(9),i.Vb(),i.Wb(10,"td"),i.Lc(11),i.Vb(),i.Wb(12,"td"),i.Lc(13),i.Vb(),i.Wb(14,"td"),i.Lc(15),i.nc(16,"date"),i.Vb(),i.Vb()),2&t){const t=e.$implicit;i.Cb(2),i.Nc(" ",null==t?null:t.store_product_mapping_id," "),i.Cb(2),i.tc("ngIf",!(null!=t&&t.image_url)),i.Cb(1),i.tc("ngIf",null==t?null:t.image_url),i.Cb(2),i.Nc(" ",null==t?null:t.product_name," "),i.Cb(2),i.Nc(" \u20b9 ",null==t?null:t.store_selling_price," "),i.Cb(2),i.Mc(null==t?null:t.quantity),i.Cb(2),i.Nc("\u20b9 ",(null==t?null:t.store_selling_price)*(null==t?null:t.quantity),""),i.Cb(2),i.Mc(i.pc(16,8,null==t?null:t.buying_date,"short"))}}function l(t,e){if(1&t&&(i.Wb(0,"table",7),i.Wb(1,"thead"),i.Wb(2,"tr"),i.Wb(3,"th",8),i.Lc(4,"Id"),i.Vb(),i.Wb(5,"th"),i.Lc(6,"Image"),i.Vb(),i.Wb(7,"th"),i.Lc(8,"Name"),i.Vb(),i.Wb(9,"th"),i.Lc(10,"Price"),i.Vb(),i.Wb(11,"th"),i.Lc(12,"Quantity"),i.Vb(),i.Wb(13,"th"),i.Lc(14,"Total Amount"),i.Vb(),i.Wb(15,"th"),i.Lc(16,"Order Date"),i.Vb(),i.Vb(),i.Vb(),i.Wb(17,"tbody"),i.Jc(18,s,17,11,"tr",9),i.Vb(),i.Vb()),2&t){const t=i.mc();i.Cb(18),i.tc("ngForOf",t.orderProducts)}}function d(t,e){1&t&&(i.Wb(0,"div"),i.Lc(1," No Products Data Found "),i.Vb())}function b(t,e){if(1&t&&(i.Wb(0,"div",14),i.Lc(1),i.Vb()),2&t){const t=i.mc();i.Cb(1),i.Nc(" Error: ",t.errorMessage,"\n")}}let u=(()=>{class t{constructor(t){this.activatedRoute=t,this.orderProducts=[],this.pageTitle="Order Products"}ngOnInit(){this.orderid=this.activatedRoute.parent.snapshot.params.orderid,this.orderProducts=this.activatedRoute.snapshot.data.resolvedProducts.orderProducts,console.log(this.orderProducts),this.errorMessage=this.activatedRoute.snapshot.data.resolvedProducts.error}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(o.a))},t.\u0275cmp=i.Kb({type:t,selectors:[["app-order-product-info"]],decls:8,vars:4,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"table-responsive"],["style","width:1000px !important","class","table",4,"ngIf"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"table",2,"width","1000px !important"],[2,"width","90px !important"],[4,"ngFor","ngForOf"],["class","center-block img-responsive","src","assets/product_images/default_image.jpg",3,"width","margin",4,"ngIf"],["class","center-block img-responsive",3,"src","title","width","margin",4,"ngIf"],["src","assets/product_images/default_image.jpg",1,"center-block","img-responsive"],[1,"center-block","img-responsive",3,"src","title"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Lc(2),i.Vb(),i.Wb(3,"div",2),i.Wb(4,"div",3),i.Jc(5,l,19,1,"table",4),i.Jc(6,d,2,0,"div",5),i.Vb(),i.Vb(),i.Vb(),i.Jc(7,b,2,1,"div",6)),2&t&&(i.Cb(2),i.Nc(" ",e.pageTitle," "),i.Cb(3),i.tc("ngIf",e.orderProducts.length),i.Cb(1),i.tc("ngIf",0==(null==e.orderProducts?null:e.orderProducts.length)),i.Cb(1),i.tc("ngIf",e.errorMessage))},directives:[n.n,n.m],pipes:[n.e],styles:[""]}),t})();var m=r("tk/3"),v=r("vkgz"),p=r("lJxs"),f=r("JIr8"),h=r("z6cu"),g=r("R5w1");let _=(()=>{class t{constructor(t){this.http=t,this.orderService="https://api.grostep.com/v2/ordersapi/",this.orderDetails="",this.orders=[]}fetchStatusTypes(){return this.http.get(this.orderService+"fetchOrderStatusTypes").pipe(Object(v.a)(t=>{console.log(t)}),Object(p.a)(t=>t),Object(f.a)(this.handleError))}fetchAllOrders(t,e,r){const n={};return n.page_number=t,n.page_size=e,n.filterBy=r,n.order_type="",n.storeId="",this.http.post(this.orderService+"fetchallOrders",n).pipe(Object(v.a)(t=>{this.orders=t.orders_info,console.log(this.orders),console.log(JSON.stringify(t))}),Object(p.a)(t=>t),Object(f.a)(this.handleError))}fetchOrderDetails(t){return this.http.get(`${this.orderService}${t}`).pipe(Object(v.a)(t=>{console.log(t)}),Object(p.a)(t=>t),Object(f.a)(this.handleError))}editOrderInfo(t,e){const r=`${this.orderService}${e}`,n={};n.delivery_fee=+t.delivery_fee,n.delivery_person_id=+t.assinged_delivery_person,n.discount_amount=+t.discount_amount,n.instructions=t.instructions,n.merchant_bill_amount=+t.merchant_bill_amount,n.order_deliveryperson_status=+t.order_deliveryperson_status,n.order_merchant_status=+t.order_merchant_status,n.payable_amount=+t.payable_amount,n.status=+t.status,n.is_order_edit=+t.isOrderEdit;const o=new m.e({"Content-Type":"application/json"});return this.http.put(r,n,{headers:o}).pipe(Object(v.a)(t=>{}),Object(p.a)(t=>t),Object(f.a)(this.handleError))}handleError(t){const e=new g.a;return e.errorNumber=100,e.errorMessage=`Server returned code: ${t.status}, error message is: ${t.message}`,e.friendlyMessage="An error retriving data",Object(h.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(i.ec(m.b))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function V(t,e){1&t&&i.Rb(0,"img",11),2&t&&i.Ic("width",250,"px")("margin",2,"px")}function W(t,e){if(1&t&&i.Rb(0,"img",12),2&t){const t=i.mc(2);i.Ic("width",250,"px")("margin",2,"px"),i.uc("src",null==t.customerData?null:t.customerData.customer_image_url,i.Ec),i.tc("title",null==t.customerData?null:t.customerData.customer_name)}}function y(t,e){if(1&t&&(i.Wb(0,"div",13),i.Lc(1),i.Vb()),2&t){const t=i.mc(2);i.Cb(1),i.Nc("",t.errorMessage," ")}}const C=function(t){return["/customer/",t,"info"]};function D(t,e){if(1&t&&(i.Wb(0,"div",1),i.Wb(1,"div",2),i.Wb(2,"div",3),i.Wb(3,"div",4),i.Wb(4,"div",3),i.Wb(5,"div",5),i.Lc(6,"Customer Id:"),i.Vb(),i.Wb(7,"div",4),i.Wb(8,"a",6),i.Lc(9),i.Vb(),i.Vb(),i.Vb(),i.Wb(10,"div",3),i.Wb(11,"div",5),i.Lc(12,"Customer Name:"),i.Vb(),i.Wb(13,"div",4),i.Wb(14,"a",6),i.Lc(15),i.Vb(),i.Vb(),i.Vb(),i.Wb(16,"div",3),i.Wb(17,"div",5),i.Lc(18,"Customer Email:"),i.Vb(),i.Wb(19,"div",4),i.Lc(20),i.Vb(),i.Vb(),i.Wb(21,"div",3),i.Wb(22,"div",5),i.Lc(23,"Registered Phone Number:"),i.Vb(),i.Wb(24,"div",4),i.Lc(25),i.Vb(),i.Vb(),i.Wb(26,"div",3),i.Wb(27,"div",5),i.Lc(28,"Delivery Address Id:"),i.Vb(),i.Wb(29,"div",4),i.Lc(30),i.Vb(),i.Vb(),i.Wb(31,"div",3),i.Wb(32,"div",5),i.Lc(33,"Delivery Address:"),i.Vb(),i.Wb(34,"div",4),i.Lc(35),i.Vb(),i.Vb(),i.Wb(36,"div",3),i.Wb(37,"div",5),i.Lc(38,"DeliveryLandmark:"),i.Vb(),i.Wb(39,"div",4),i.Lc(40),i.Vb(),i.Vb(),i.Wb(41,"div",3),i.Wb(42,"div",5),i.Lc(43,"Delivery Location:"),i.Vb(),i.Wb(44,"div",4),i.Lc(45),i.Vb(),i.Vb(),i.Wb(46,"div",3),i.Wb(47,"div",5),i.Lc(48,"Delivery PinCode:"),i.Vb(),i.Wb(49,"div",4),i.Lc(50),i.Vb(),i.Vb(),i.Wb(51,"div",3),i.Wb(52,"div",5),i.Lc(53,"Delivery Lat and Long:"),i.Vb(),i.Wb(54,"div",4),i.Lc(55),i.Vb(),i.Vb(),i.Wb(56,"div",3),i.Wb(57,"div",5),i.Lc(58,"Address Type:"),i.Vb(),i.Wb(59,"div",4),i.Lc(60),i.Vb(),i.Vb(),i.Vb(),i.Wb(61,"div",7),i.Jc(62,V,1,4,"img",8),i.Jc(63,W,1,6,"img",9),i.Vb(),i.Vb(),i.Vb(),i.Jc(64,y,2,1,"div",10),i.Vb()),2&t){const t=i.mc();i.Cb(8),i.tc("routerLink",i.xc(20,C,null==t.customerData?null:t.customerData.customer_id)),i.Cb(1),i.Nc(" ",null==t.customerData?null:t.customerData.customer_id," "),i.Cb(5),i.tc("routerLink",i.xc(22,C,null==t.customerData?null:t.customerData.customer_id)),i.Cb(1),i.Nc(" ",null==t.customerData?null:t.customerData.customer_name," "),i.Cb(5),i.Mc(null==t.customerData?null:t.customerData.customer_email),i.Cb(5),i.Mc(null==t.customerData?null:t.customerData.registered_number),i.Cb(5),i.Mc(null==t.customerData?null:t.customerData.delivery_address_id),i.Cb(5),i.Oc("",null==t.customerData?null:t.customerData.address," - ",null==t.customerData?null:t.customerData.address2,""),i.Cb(5),i.Mc(null==t.customerData?null:t.customerData.landmark),i.Cb(5),i.Pc("",null==t.customerData?null:t.customerData.country," / ",null==t.customerData?null:t.customerData.state," / ",null==t.customerData?null:t.customerData.city,""),i.Cb(5),i.Mc(null==t.customerData?null:t.customerData.pincode),i.Cb(5),i.Oc("",null==t.customerData?null:t.customerData.latitude," / ",null==t.customerData?null:t.customerData.longitude,""),i.Cb(5),i.Mc(null==t.customerData?null:t.customerData.address_type),i.Cb(2),i.tc("ngIf",!(null!=t.customerData&&t.customerData.customer_image_url)),i.Cb(1),i.tc("ngIf",null==t.customerData?null:t.customerData.customer_image_url),i.Cb(1),i.tc("ngIf",t.errorMessage)}}let O=(()=>{class t{constructor(t,e){this.orderService=t,this.activatedRoute=e,this.customerData=[]}ngOnInit(){this.orderid=this.activatedRoute.parent.snapshot.params.orderid,this.customerData=this.activatedRoute.snapshot.data.resolvedCustomer.orderCustomer[0],console.log(this.customerData),this.errorMessage=this.activatedRoute.snapshot.data.resolvedCustomer.error}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(_),i.Qb(o.a))},t.\u0275cmp=i.Kb({type:t,selectors:[["app-order-customer-info"]],decls:1,vars:1,consts:[["class","card card-primary",4,"ngIf"],[1,"card","card-primary"],[1,"card-body"],[1,"row"],[1,"col-md-8"],[1,"table-key"],["target","_blank",3,"routerLink"],[1,"col-md-4"],["class","center-block img-responsive","src","assets/product_images/default_image.jpg",3,"width","margin",4,"ngIf"],["class","center-block img-responsive",3,"src","title","width","margin",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["src","assets/product_images/default_image.jpg",1,"center-block","img-responsive"],[1,"center-block","img-responsive",3,"src","title"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&i.Jc(0,D,65,24,"div",0),2&t&&i.tc("ngIf",e.customerData)},directives:[n.n,o.i],styles:[".table-key[_ngcontent-%COMP%]{font-weight:700;padding:0 0 10px 20px}"]}),t})();function I(t,e){if(1&t&&i.Rb(0,"img",13),2&t){const t=i.mc(2);i.Ic("width",250,"px")("margin",2,"px"),i.uc("src",null==t.merchantData?null:t.merchantData.image_url,i.Ec),i.tc("title",null==t.merchantData?null:t.merchantData.store_name)}}function L(t,e){if(1&t&&(i.Wb(0,"div",14),i.Lc(1),i.Vb()),2&t){const t=i.mc(2);i.Cb(1),i.Nc("",t.errorMessage," ")}}const P=function(t){return["/merchant/",t,"info"]};function M(t,e){if(1&t&&(i.Wb(0,"div",1),i.Wb(1,"div",2),i.Lc(2),i.Vb(),i.Wb(3,"div",3),i.Wb(4,"div",4),i.Wb(5,"div",5),i.Wb(6,"div",4),i.Wb(7,"div",6),i.Lc(8,"Store Id:"),i.Vb(),i.Wb(9,"div",5),i.Wb(10,"a",7),i.Lc(11),i.Vb(),i.Vb(),i.Vb(),i.Wb(12,"div",4),i.Wb(13,"div",6),i.Lc(14,"Store Name:"),i.Vb(),i.Wb(15,"div",5),i.Wb(16,"a",7),i.Lc(17),i.Vb(),i.Vb(),i.Vb(),i.Wb(18,"div",4),i.Wb(19,"div",6),i.Lc(20,"Store Email:"),i.Vb(),i.Wb(21,"div",5),i.Lc(22),i.Vb(),i.Vb(),i.Wb(23,"div",4),i.Wb(24,"div",6),i.Lc(25,"Store Phone Number:"),i.Vb(),i.Wb(26,"div",5),i.Lc(27),i.Vb(),i.Vb(),i.Wb(28,"div",4),i.Wb(29,"div",6),i.Lc(30,"Store Location:"),i.Vb(),i.Wb(31,"div",5),i.Lc(32),i.Vb(),i.Vb(),i.Wb(33,"div",4),i.Wb(34,"div",6),i.Lc(35,"Store PinCode:"),i.Vb(),i.Wb(36,"div",5),i.Lc(37),i.Vb(),i.Vb(),i.Wb(38,"div",4),i.Wb(39,"div",6),i.Lc(40,"Store Lat and Long:"),i.Vb(),i.Wb(41,"div",5),i.Lc(42),i.Vb(),i.Vb(),i.Wb(43,"div",4),i.Wb(44,"div",6),i.Lc(45,"Store Address:"),i.Vb(),i.Wb(46,"div",5),i.Lc(47),i.Vb(),i.Vb(),i.Vb(),i.Wb(48,"div",8),i.Jc(49,I,1,6,"img",9),i.Vb(),i.Vb(),i.Vb(),i.Wb(50,"div",10),i.Wb(51,"div",11),i.Rb(52,"div",5),i.Vb(),i.Vb(),i.Jc(53,L,2,1,"div",12),i.Vb()),2&t){const t=i.mc();i.Cb(2),i.Nc(" ",null==t.merchantData?null:t.merchantData.store_name," "),i.Cb(8),i.tc("routerLink",i.xc(17,P,null==t.merchantData?null:t.merchantData.store_id)),i.Cb(1),i.Nc(" ",null==t.merchantData?null:t.merchantData.store_id," "),i.Cb(5),i.tc("routerLink",i.xc(19,P,null==t.merchantData?null:t.merchantData.store_id)),i.Cb(1),i.Nc(" ",null==t.merchantData?null:t.merchantData.store_name," "),i.Cb(5),i.Mc(null==t.merchantData?null:t.merchantData.store_email),i.Cb(5),i.Oc("",null==t.merchantData?null:t.merchantData.phone_number," / ",null==t.merchantData?null:t.merchantData.alternative_number,""),i.Cb(5),i.Pc("",null==t.merchantData?null:t.merchantData.country," / ",null==t.merchantData?null:t.merchantData.state," / ",null==t.merchantData?null:t.merchantData.city,""),i.Cb(5),i.Mc(null==t.merchantData?null:t.merchantData.pin_code),i.Cb(5),i.Oc("",null==t.merchantData?null:t.merchantData.latitude," / ",null==t.merchantData?null:t.merchantData.longitude,""),i.Cb(5),i.Mc(null==t.merchantData?null:t.merchantData.address),i.Cb(2),i.tc("ngIf",null==t.merchantData?null:t.merchantData.image_url),i.Cb(4),i.tc("ngIf",t.errorMessage)}}let w=(()=>{class t{constructor(t){this.activatedRoute=t,this.merchantData=[]}ngOnInit(){this.orderid=this.activatedRoute.parent.snapshot.params.orderid,this.merchantData=this.activatedRoute.snapshot.data.resolvedMerchant.orderMerchant[0],this.errorMessage=this.activatedRoute.snapshot.data.resolvedMerchant.error}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(o.a))},t.\u0275cmp=i.Kb({type:t,selectors:[["app-order-merchant-info"]],decls:1,vars:1,consts:[["class","card card-primary",4,"ngIf"],[1,"card","card-primary"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-8"],[1,"table-key"],["target","_blank",3,"routerLink"],[1,"col-md-4"],["class","center-block img-responsive",3,"src","title","width","margin",4,"ngIf"],[1,"card-footer"],[1,"row","mb-2"],["class","alert alert-danger",4,"ngIf"],[1,"center-block","img-responsive",3,"src","title"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&i.Jc(0,M,54,21,"div",0),2&t&&i.tc("ngIf",e.merchantData)},directives:[n.n,o.i],styles:[".table-key[_ngcontent-%COMP%]{font-weight:700;padding:0 0 10px 20px}"]}),t})(),x=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Kb({type:t,selectors:[["app-order-delivery-info"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Wb(0,"p"),i.Lc(1,"order-delivery-info works!"),i.Vb())},styles:[""]}),t})();function k(t,e){if(1&t&&(i.Wb(0,"div",6),i.Wb(1,"span"),i.Lc(2),i.Vb(),i.Vb()),2&t){const t=i.mc(2);i.Cb(2),i.Nc(" \u20b9 ",null==t.invoiceData?null:t.invoiceData.delivery_fee," ")}}function S(t,e){if(1&t&&(i.Wb(0,"div",6),i.Wb(1,"span"),i.Lc(2),i.Vb(),i.Vb()),2&t){const t=i.mc(2);i.Cb(2),i.Nc(" \u20b9 ",null==t.invoiceData?null:t.invoiceData.discount_amount," ")}}function N(t,e){if(1&t&&(i.Wb(0,"div",6),i.Wb(1,"span"),i.Lc(2),i.Vb(),i.Vb()),2&t){const t=i.mc(2);i.Cb(2),i.Nc("\u20b9 ",null==t.invoiceData?null:t.invoiceData.merchant_bill_amount,"")}}function R(t,e){if(1&t&&(i.Wb(0,"div",6),i.Wb(1,"span"),i.Lc(2),i.Vb(),i.Vb()),2&t){const t=i.mc(2);i.Cb(2),i.Nc(" \u20b9 ",null==t.invoiceData?null:t.invoiceData.payable_amount," ")}}const F=function(t){return["/delivery/",t,"info"]};function j(t,e){if(1&t&&(i.Wb(0,"div",4),i.Wb(1,"a",14),i.Lc(2),i.Vb(),i.Vb()),2&t){const t=i.mc(2);i.Cb(1),i.tc("routerLink",i.xc(3,F,null==t.invoiceData?null:t.invoiceData.delivery_person_id)),i.Cb(1),i.Oc(" ",null==t.invoiceData?null:t.invoiceData.delivery_person_name," - ",null==t.invoiceData?null:t.invoiceData.delivery_person_phone," ")}}function J(t,e){1&t&&i.Rb(0,"img",15),2&t&&i.Ic("width",250,"px")("margin",2,"px")}function z(t,e){if(1&t){const t=i.Xb();i.Wb(0,"img",18),i.ic("click",(function(){i.Dc(t);const e=i.mc(3);return e.downloadBillImage(null==e.invoiceData?null:e.invoiceData.bill_image,null==e.invoiceData?null:e.invoiceData.order_id)})),i.Vb()}if(2&t){const t=i.mc(3);i.Ic("width",250,"px")("margin",2,"px"),i.uc("src",null==t.invoiceData?null:t.invoiceData.bill_image,i.Ec),i.tc("title",null==t.invoiceData?null:t.invoiceData.customer_name)}}function E(t,e){if(1&t&&(i.Ub(0),i.Jc(1,z,1,6,"img",16),i.Wb(2,"a",17),i.Lc(3,"Download"),i.Vb(),i.Tb()),2&t){const t=i.mc(2);i.Cb(1),i.tc("ngIf",null==t.invoiceData?null:t.invoiceData.bill_image),i.Cb(1),i.uc("href",null==t.invoiceData?null:t.invoiceData.bill_image,i.Ec)}}function T(t,e){if(1&t&&(i.Wb(0,"div",19),i.Lc(1),i.Vb()),2&t){const t=i.mc(2);i.Cb(1),i.Nc("",t.errorMessage," ")}}const A=function(t){return["/order",t,"edit","editorderinfo"]};function Q(t,e){if(1&t&&(i.Wb(0,"div",1),i.Wb(1,"div",2),i.Wb(2,"div",3),i.Wb(3,"div",4),i.Wb(4,"div",3),i.Wb(5,"div",5),i.Lc(6,"Order Id:"),i.Vb(),i.Wb(7,"div",4),i.Lc(8),i.Vb(),i.Vb(),i.Wb(9,"div",3),i.Wb(10,"div",5),i.Lc(11,"Total Items:"),i.Vb(),i.Wb(12,"div",6),i.Lc(13),i.Vb(),i.Vb(),i.Wb(14,"div",3),i.Wb(15,"div",5),i.Lc(16,"Voucher Code Used :"),i.Vb(),i.Wb(17,"div",6),i.Lc(18),i.Vb(),i.Vb(),i.Wb(19,"div",3),i.Wb(20,"div",5),i.Lc(21,"Total Order Amount:"),i.Vb(),i.Wb(22,"div",6),i.Lc(23),i.Vb(),i.Vb(),i.Wb(24,"div",3),i.Wb(25,"div",5),i.Lc(26,"Delivery Fee:"),i.Vb(),i.Jc(27,k,3,1,"div",7),i.Vb(),i.Wb(28,"div",3),i.Wb(29,"div",5),i.Lc(30,"Voucher Amount:"),i.Vb(),i.Jc(31,S,3,1,"div",7),i.Vb(),i.Wb(32,"div",3),i.Wb(33,"div",5),i.Lc(34,"Bill Amount:"),i.Vb(),i.Jc(35,N,3,1,"div",7),i.Vb(),i.Wb(36,"div",3),i.Wb(37,"div",5),i.Lc(38,"Payable Amount:"),i.Vb(),i.Jc(39,R,3,1,"div",7),i.Vb(),i.Wb(40,"div",3),i.Wb(41,"div",5),i.Lc(42,"Delivery Person Assinged :"),i.Vb(),i.Jc(43,j,3,5,"div",8),i.Vb(),i.Wb(44,"div",3),i.Wb(45,"div",5),i.Lc(46,"Delivery Slot:"),i.Vb(),i.Wb(47,"div",6),i.Wb(48,"span"),i.Lc(49),i.Vb(),i.Lc(50," - "),i.Wb(51,"span"),i.Lc(52),i.Vb(),i.Vb(),i.Vb(),i.Wb(53,"div",3),i.Wb(54,"div",5),i.Lc(55,"Payment Mode:"),i.Vb(),i.Wb(56,"div",6),i.Lc(57),i.Vb(),i.Vb(),i.Wb(58,"div",3),i.Wb(59,"div",5),i.Lc(60,"Created Date:"),i.Vb(),i.Wb(61,"div",4),i.Lc(62),i.nc(63,"date"),i.Vb(),i.Vb(),i.Wb(64,"div",3),i.Wb(65,"div",5),i.Lc(66,"Instructions:"),i.Vb(),i.Wb(67,"div",4),i.Lc(68),i.Vb(),i.Vb(),i.Wb(69,"div",3),i.Wb(70,"div",5),i.Lc(71,"Order Status:"),i.Vb(),i.Wb(72,"div",6),i.Lc(73),i.Vb(),i.Vb(),i.Vb(),i.Wb(74,"div",9),i.Jc(75,J,1,4,"img",10),i.Jc(76,E,4,2,"ng-container",11),i.Wb(77,"button",12),i.Lc(78,"REPAIR ORDER"),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Jc(79,T,2,1,"div",13),i.Vb()),2&t){const t=i.mc();i.Cb(8),i.Mc(null==t.invoiceData?null:t.invoiceData.order_id),i.Cb(5),i.Nc("\u20b9 ",null==t.invoiceData?null:t.invoiceData.total_item_count,""),i.Cb(5),i.Mc(null==t.invoiceData?null:t.invoiceData.voucher_code),i.Cb(5),i.Nc("\u20b9 ",null==t.invoiceData?null:t.invoiceData.total_amount,""),i.Cb(4),i.tc("ngIf",null==t.invoiceData?null:t.invoiceData.delivery_fee),i.Cb(4),i.tc("ngIf",null==t.invoiceData?null:t.invoiceData.discount_amount),i.Cb(4),i.tc("ngIf",null==t.invoiceData?null:t.invoiceData.merchant_bill_amount),i.Cb(4),i.tc("ngIf",null==t.invoiceData?null:t.invoiceData.payable_amount),i.Cb(4),i.tc("ngIf",null==t.invoiceData?null:t.invoiceData.delivery_person_id),i.Cb(6),i.Mc(null!=t.invoiceData&&t.invoiceData.deliver_now?"Deliver Now":"Deliver Later"),i.Cb(3),i.Nc(" ",null==t.invoiceData?null:t.invoiceData.delivery_slot,""),i.Cb(5),i.Mc(null==t.invoiceData?null:t.invoiceData.type),i.Cb(5),i.Mc(i.pc(63,19,null==t.invoiceData?null:t.invoiceData.order_created_date,"medium")),i.Cb(6),i.Mc(null==t.invoiceData?null:t.invoiceData.instructions),i.Cb(5),i.Mc(null==t.invoiceData?null:t.invoiceData.order_status),i.Cb(2),i.tc("ngIf",!(null!=t.invoiceData&&t.invoiceData.bill_image)),i.Cb(1),i.tc("ngIf",null==t.invoiceData?null:t.invoiceData.bill_image),i.Cb(1),i.tc("routerLink",i.xc(22,A,null==t.invoiceData?null:t.invoiceData.order_id)),i.Cb(2),i.tc("ngIf",t.errorMessage)}}let $=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.orderService=e,this.invoiceData=[]}ngOnInit(){this.orderId=this.activatedRoute.parent.snapshot.params.orderId,this.invoiceData=this.activatedRoute.snapshot.data.resolvedInvoice.orderInvoice[0],console.log(this.invoiceData),this.errorMessage=this.activatedRoute.snapshot.data.resolvedInvoice.error}repairOrder(){alert("Work under progres")}downloadBillImage(t,e){}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(o.a),i.Qb(_))},t.\u0275cmp=i.Kb({type:t,selectors:[["app-order-invoice-info"]],decls:1,vars:1,consts:[["class","card card-primary",4,"ngIf"],[1,"card","card-primary"],[1,"card-body"],[1,"row"],[1,"col-md-8"],[1,"table-key"],[1,"col-md-8","order-detail"],["class","col-md-8 order-detail",4,"ngIf"],["class","col-md-8",4,"ngIf"],[1,"col-md-4"],["class","center-block img-responsive","src","assets/product_images/default_image.jpg",3,"width","margin",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-outline-secondary",3,"routerLink"],["class","alert alert-danger",4,"ngIf"],["target","_blank",3,"routerLink"],["src","assets/product_images/default_image.jpg",1,"center-block","img-responsive"],["class","center-block img-responsive",3,"src","title","width","margin","click",4,"ngIf"],["target","_self","download","",1,"btn","clss",3,"href"],[1,"center-block","img-responsive",3,"src","title","click"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&i.Jc(0,Q,80,24,"div",0),2&t&&i.tc("ngIf",e.invoiceData)},directives:[n.n,o.g,o.i],pipes:[n.e],styles:[".table-key[_ngcontent-%COMP%]{padding:0 0 10px 20px}.order-detail[_ngcontent-%COMP%]{font-weight:700}"]}),t})();var B=r("LRne"),K=r("VQ3o");let X=(()=>{class t{constructor(t){this.merchantService=t}resolve(t,e){return this.merchantService.fetchOrderProducts(t.parent.params.orderId).pipe(Object(p.a)(t=>(console.log(t),{orderProducts:t.order_products_info,error:""})),Object(f.a)(t=>{const e="Retrieval error: "+t;return Object(B.a)({orderProducts:null,error:e})}))}}return t.\u0275fac=function(e){return new(e||t)(i.ec(K.a))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),q=(()=>{class t{constructor(t){this.merchantService=t}resolve(t,e){return this.merchantService.fetchOrderDetails(t.parent.params.orderId).pipe(Object(p.a)(t=>(console.log(t),{orderCustomer:t.customerInfo,error:""})),Object(f.a)(t=>{const e="Retrieval error: "+t;return Object(B.a)({orderCustomer:null,error:e})}))}}return t.\u0275fac=function(e){return new(e||t)(i.ec(K.a))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),U=(()=>{class t{constructor(t){this.merchantService=t}resolve(t,e){return this.merchantService.fetchOrderDetails(t.parent.params.orderId).pipe(Object(p.a)(t=>({orderMerchant:t.storeInfo,error:""})),Object(f.a)(t=>{const e="Retrieval error: "+t;return Object(B.a)({orderMerchant:null,error:e})}))}}return t.\u0275fac=function(e){return new(e||t)(i.ec(K.a))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),G=(()=>{class t{constructor(t){this.orderService=t}resolve(t,e){return this.orderService.fetchOrderDetails(t.parent.params.orderId).pipe(Object(p.a)(t=>({orderInvoice:t.paymentInfo,storeInfo:t.storeInfo,customerInfo:t.customerInfo,error:""})),Object(f.a)(t=>{const e="Retrieval error: "+t;return Object(B.a)({orderInvoice:null,error:e})}))}}return t.\u0275fac=function(e){return new(e||t)(i.ec(_))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const H=function(){return["invoiceinfo"]},Y=function(){return["productsinfo"]},Z=function(){return["customerinfo"]},tt=function(){return["merchantinfo"]};let et=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Kb({type:t,selectors:[["app-order-detail"]],decls:13,vars:8,consts:[[1,"card"],[1,"card-header"],[1,"wizard"],["routerLinkActive","active",3,"routerLink"],[1,"card-body"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Wb(2,"div",2),i.Wb(3,"a",3),i.Lc(4," Order Info "),i.Vb(),i.Wb(5,"a",3),i.Lc(6," Order Product Info "),i.Vb(),i.Wb(7,"a",3),i.Lc(8," Order Customer Info "),i.Vb(),i.Wb(9,"a",3),i.Lc(10," Order Merchant Info "),i.Vb(),i.Vb(),i.Vb(),i.Wb(11,"div",4),i.Rb(12,"router-outlet"),i.Vb(),i.Vb()),2&t&&(i.Cb(3),i.tc("routerLink",i.wc(4,H)),i.Cb(2),i.tc("routerLink",i.wc(5,Y)),i.Cb(2),i.tc("routerLink",i.wc(6,Z)),i.Cb(2),i.tc("routerLink",i.wc(7,tt)))},directives:[o.i,o.h,o.k],styles:['.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#efefef;display:inline-block;margin-right:5px;min-width:150px;outline:none;padding:10px 40px;position:relative;text-decoration:none}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{border-left:20px solid #fff;left:0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after, .wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{width:0;height:0;border-top:20px inset transparent;border-bottom:24px inset transparent;position:absolute;content:"";top:0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{border-left:21px solid #efefef;right:-20px;z-index:2}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child:before, .wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child:after{border:none}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-radius:8px 0 0 0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-radius:0 8px 0 0}.wizard[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#007acc;color:#fff}.wizard[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]:after{border-left-color:#007acc}']}),t})();var rt=r("/uUt"),nt=r("Kj3r"),ot=r("eIep"),it=r("wIdL"),at=r("3Pt+"),ct=r("1kSV"),st=r("Exvd");const lt=function(t){return["/order/",t,"productsinfo"]},dt=function(t){return[t,"edit","editorderinfo"]};function bt(t,e){if(1&t){const t=i.Xb();i.Wb(0,"tr"),i.Wb(1,"td",14),i.Wb(2,"a",16),i.Lc(3),i.Vb(),i.Vb(),i.Wb(4,"td"),i.Wb(5,"span",17),i.ic("click",(function(){i.Dc(t);const r=e.$implicit;return i.mc(2).ViewOrderedProducts(null==r?null:r.order_id)})),i.Lc(6," Ordered Products "),i.Vb(),i.Vb(),i.Wb(7,"td"),i.Lc(8),i.Vb(),i.Wb(9,"td"),i.Lc(10),i.Vb(),i.Wb(11,"td"),i.Lc(12),i.Vb(),i.Wb(13,"td"),i.Lc(14),i.Vb(),i.Wb(15,"td"),i.Lc(16),i.Vb(),i.Wb(17,"td"),i.Lc(18),i.nc(19,"date"),i.Vb(),i.Wb(20,"td",18),i.Lc(21),i.Vb(),i.Wb(22,"td"),i.Wb(23,"a",19),i.Lc(24," Edit Order "),i.Vb(),i.Vb(),i.Vb()}if(2&t){const t=e.$implicit;i.Cb(2),i.tc("routerLink",i.xc(13,lt,null==t?null:t.order_id)),i.Cb(1),i.Nc(" ",null==t?null:t.order_id," "),i.Cb(5),i.Nc(" \u20b9 ",null==t?null:t.order_amount," "),i.Cb(2),i.Nc("\u20b9 ",null==t?null:t.discount_amount,""),i.Cb(2),i.Nc("\u20b9 ",null==t?null:t.order_delivery_fee,""),i.Cb(2),i.Nc("\u20b9 ",null==t?null:t.final_amount,""),i.Cb(2),i.Mc(null==t?null:t.payment_mode_type),i.Cb(2),i.Mc(i.pc(19,10,null==t?null:t.order_placing_date,"medium")),i.Cb(3),i.Mc(null==t?null:t.order_status),i.Cb(2),i.tc("routerLink",i.xc(15,dt,null==t?null:t.order_id))}}function ut(t,e){if(1&t&&(i.Wb(0,"table",13),i.Wb(1,"thead"),i.Wb(2,"tr"),i.Wb(3,"th",14),i.Lc(4,"Transaction Id"),i.Vb(),i.Wb(5,"th"),i.Lc(6,"Product Details"),i.Vb(),i.Wb(7,"th"),i.Lc(8,"Order Amount"),i.Vb(),i.Wb(9,"th"),i.Lc(10,"Discount"),i.Vb(),i.Wb(11,"th"),i.Lc(12,"Delivery Fee"),i.Vb(),i.Wb(13,"th"),i.Lc(14,"Payable Amount"),i.Vb(),i.Wb(15,"th"),i.Lc(16,"Payment Mode"),i.Vb(),i.Wb(17,"th"),i.Lc(18,"Order Date"),i.Vb(),i.Wb(19,"th"),i.Lc(20,"Status"),i.Vb(),i.Rb(21,"th"),i.Vb(),i.Vb(),i.Wb(22,"tbody"),i.Jc(23,bt,25,17,"tr",15),i.Vb(),i.Vb()),2&t){const t=i.mc();i.Cb(23),i.tc("ngForOf",t.ordersinfo)}}function mt(t,e){if(1&t){const t=i.Xb();i.Wb(0,"app-pagination",20),i.ic("currentPage",(function(e){return i.Dc(t),i.mc().currentPageFn(e)})),i.Vb()}if(2&t){const t=i.mc();i.tc("totalItemCount",t.ordertotalcount)}}function vt(t,e){1&t&&(i.Wb(0,"div"),i.Lc(1," No Merchant Order Exists "),i.Vb())}function pt(t,e){if(1&t&&(i.Wb(0,"div",21),i.Lc(1),i.Vb()),2&t){const t=i.mc();i.Cb(1),i.Nc(" Error: ",t.errorMessage,"\n")}}let ft=(()=>{class t{constructor(t,e,r,n,o){this.orderService=t,this.merchantService=e,this.activatedRoute=r,this.formBuilder=n,this.modalService=o,this.pageTitle="Orders Dashboard",this.displaytype="AM",this.ordersinfo=[],this.filterBy="",this.currentPage=1,this.pageSize=20,this.imageWidth=80,this.imageHeight=80,this.imageMargin=2,this.searchCriteriaForm=this.formBuilder.group({searchCriteria:[""]})}ngOnInit(){this.onChanges();const t=this.activatedRoute.snapshot.data.resolvedOrders;t instanceof g.a?this.errorMessage=t.errorMessage:(console.log(t),this.ordertotalcount=t.store_order_count[0].store_orders_count,this.ordersinfo=t.store_orders_info)}onChanges(){this.orderValueSet=!1,this.searchCriteriaForm.get("searchCriteria").valueChanges.pipe(Object(v.a)(t=>{console.log(t)}),Object(rt.a)(),Object(nt.a)(200),Object(ot.a)(t=>this.orderValueSet?(this.orderValueSet=!0,Object(B.a)([])):(this.filterBy=t,this.merchantService.fetchAllStoreOrders("",this.currentPage,this.pageSize,t)))).subscribe(t=>{this.ordertotalcount=t.store_order_count[0].store_orders_count,this.ordersinfo=t.store_orders_info,console.log(this.ordersinfo)})}currentPageFn(t){this.merchantService.fetchAllStoreOrders("",t,this.pageSize,this.filterBy).subscribe(t=>{this.ordertotalcount=t.store_order_count[0].store_orders_count,this.ordersinfo=t.store_orders_info})}ViewOrderedProducts(t){const e=this.modalService.open(it.a,{scrollable:!0});e.componentInstance.title="View Products",e.componentInstance.order_id=t}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(_),i.Qb(K.a),i.Qb(o.a),i.Qb(at.d),i.Qb(ct.f))},t.\u0275cmp=i.Kb({type:t,selectors:[["app-order-dashboard"]],decls:15,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-2"],[1,"col-md-4"],[3,"formGroup"],["formControlName","searchCriteria","type","text","id","keyword","placeholder","Search Order By Id","autocomplete","off","autofocus","",1,"form-control",3,"keyup"],[1,"table-responsive"],["style","width:1000px !important","class","table",4,"ngIf"],[3,"totalItemCount","currentPage",4,"ngIf"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"table",2,"width","1000px !important"],[2,"width","90px !important"],[4,"ngFor","ngForOf"],[3,"routerLink"],[2,"display","block","font-size","14px","cursor","pointer","color","blue",3,"click"],[2,"font-weight","bold"],["type","button",1,"btn","btn-outline-secondary",2,"font-size","14px",3,"routerLink"],[3,"totalItemCount","currentPage"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Lc(2),i.Vb(),i.Wb(3,"div",2),i.Wb(4,"div",3),i.Wb(5,"div",4),i.Lc(6,"Filter by:"),i.Vb(),i.Wb(7,"div",5),i.Wb(8,"form",6),i.Wb(9,"input",7),i.ic("keyup",(function(){return e.onChanges()})),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(10,"div",8),i.Jc(11,ut,24,1,"table",9),i.Jc(12,mt,1,1,"app-pagination",10),i.Jc(13,vt,2,0,"div",11),i.Vb(),i.Vb(),i.Vb(),i.Jc(14,pt,2,1,"div",12)),2&t&&(i.Cb(2),i.Nc(" ",e.pageTitle," "),i.Cb(6),i.tc("formGroup",e.searchCriteriaForm),i.Cb(3),i.tc("ngIf",null==e.ordersinfo?null:e.ordersinfo.length),i.Cb(1),i.tc("ngIf",null==e.ordersinfo?null:e.ordersinfo.length),i.Cb(1),i.tc("ngIf",0==(null==e.ordersinfo?null:e.ordersinfo.length)),i.Cb(1),i.tc("ngIf",e.errorMessage))},directives:[at.w,at.n,at.f,at.c,at.m,at.e,n.n,n.m,o.i,st.a],pipes:[n.e],styles:[""]}),t})(),ht=(()=>{class t{constructor(t){this.merchantService=t,this.pagenumber=1,this.pagesize=20,this.filterBy=""}resolve(t,e){return this.merchantService.fetchAllStoreOrders("",this.pagenumber,this.pagesize,"").pipe(Object(f.a)(t=>Object(B.a)(t)))}}return t.\u0275fac=function(e){return new(e||t)(i.ec(K.a))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const gt=function(){return["editorderinfo"]};let _t=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Kb({type:t,selectors:[["app-order-edit-detail"]],decls:7,vars:2,consts:[[1,"card"],[1,"card-header"],[1,"wizard"],["routerLinkActive","active",3,"routerLink"],[1,"card-body"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Wb(2,"div",2),i.Wb(3,"a",3),i.Lc(4," Edit Order Info "),i.Vb(),i.Vb(),i.Vb(),i.Wb(5,"div",4),i.Rb(6,"router-outlet"),i.Vb(),i.Vb()),2&t&&(i.Cb(3),i.tc("routerLink",i.wc(1,gt)))},directives:[o.i,o.h,o.k],styles:['.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#efefef;display:inline-block;margin-right:5px;min-width:150px;outline:none;padding:10px 40px;position:relative;text-decoration:none}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{border-left:20px solid #fff;left:0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after, .wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{width:0;height:0;border-top:20px inset transparent;border-bottom:24px inset transparent;position:absolute;content:"";top:0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{border-left:21px solid #efefef;right:-20px;z-index:2}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child:before, .wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child:after{border:none}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-radius:8px 0 0 0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-radius:0 8px 0 0}.wizard[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#007acc;color:#fff}.wizard[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]:after{border-left-color:#007acc}']}),t})();var Vt=r("CvK3");function Wt(t,e){if(1&t&&(i.Wb(0,"option",41),i.Lc(1),i.nc(2,"upperCaseName"),i.Vb()),2&t){const t=e.$implicit;i.uc("value",null==t?null:t.order_type_id),i.Cb(1),i.Nc(" ",i.oc(2,2,null==t?null:t.type)," ")}}function yt(t,e){if(1&t&&(i.Wb(0,"option",41),i.Lc(1),i.nc(2,"upperCaseName"),i.Vb()),2&t){const t=e.$implicit;i.uc("value",null==t?null:t.merchant_order_status_type_id),i.Cb(1),i.Nc(" ",i.oc(2,2,null==t?null:t.type)," ")}}function Ct(t,e){if(1&t&&(i.Wb(0,"option",41),i.Lc(1),i.nc(2,"upperCaseName"),i.Vb()),2&t){const t=e.$implicit;i.uc("value",null==t?null:t.deliveryperson_order_status_type_id),i.Cb(1),i.Nc(" ",i.oc(2,2,null==t?null:t.type)," ")}}function Dt(t,e){if(1&t&&(i.Wb(0,"option",41),i.Lc(1),i.nc(2,"upperCaseName"),i.Vb()),2&t){const t=e.$implicit;i.uc("value",null==t?null:t.delivery_person_id),i.Cb(1),i.Oc(" ",i.oc(2,3,null==t?null:t.delivery_person_name)," - ",null==t?null:t.phone," ")}}let Ot=(()=>{class t{constructor(t,e,r,n){this.activatedRoute=t,this.router=e,this.orderService=r,this.formBuilder=n,this.isChecked=!1,this.invoiceData=[],this.disableForm=!1,this.editOrderInfoForm=this.formBuilder.group({order_id:[""],customer_name:[""],store_name:[""],order_created_date:[""],order_last_updated_date:[""],voucher_code:[""],total_amount:[""],discount_amount:[""],delivery_fee:[""],payable_amount:[""],merchant_bill_amount:[""],deliver_now:[""],type:[""],address:[""],total_item_count:[""],status:[""],delivery_slot:[""],instructions:[""],order_deliveryperson_status:[""],isOrderEdit:[""],bill_image:[],order_merchant_status:[""],assinged_delivery_person:[""],payment_status:[""]})}ngOnInit(){this.orderId=this.activatedRoute.parent.snapshot.params.orderId,this.invoiceData=this.activatedRoute.snapshot.data.resolvedInvoice.orderInvoice[0],this.customerInfoData=this.activatedRoute.snapshot.data.resolvedInvoice.customerInfo[0],this.storeInfoData=this.activatedRoute.snapshot.data.resolvedInvoice.storeInfo[0],this.orderStatusTypes=this.activatedRoute.snapshot.data.resolvedorderStatusTypes.orderStatusTypes,this.deliveryStatusTypes=this.activatedRoute.snapshot.data.resolvedorderStatusTypes.deliveryStatusTypes,this.merchantStatusTypes=this.activatedRoute.snapshot.data.resolvedorderStatusTypes.merchantStatusTypes,this.activeDeliveryPersons=this.activatedRoute.snapshot.data.resolvedActiveDP.activeDeliveryPersonInfo,this.editOrderInfoForm.get("order_id").setValue(this.invoiceData.order_id),this.editOrderInfoForm.get("voucher_code").setValue(this.invoiceData.coupon_code),this.editOrderInfoForm.get("total_amount").setValue(this.invoiceData.total_amount),this.editOrderInfoForm.get("payable_amount").setValue(this.invoiceData.payable_amount),this.editOrderInfoForm.get("bill_image").setValue(this.invoiceData.bill_image),this.editOrderInfoForm.get("delivery_fee").setValue(this.invoiceData.delivery_fee),this.editOrderInfoForm.get("delivery_slot").setValue(this.invoiceData.delivery_slot),this.editOrderInfoForm.get("deliver_now").setValue(this.invoiceData.deliver_now),this.editOrderInfoForm.get("discount_amount").setValue(this.invoiceData.discount_amount),this.editOrderInfoForm.get("instructions").setValue(this.invoiceData.instructions),this.editOrderInfoForm.get("order_created_date").setValue(this.invoiceData.order_created_date),this.editOrderInfoForm.get("order_last_updated_date").setValue(this.invoiceData.order_last_updated_date),this.editOrderInfoForm.get("status").setValue(this.invoiceData.order_status),this.editOrderInfoForm.get("order_deliveryperson_status").setValue(this.invoiceData.order_deliveryperson_status),this.editOrderInfoForm.get("order_merchant_status").setValue(this.invoiceData.order_merchant_status),this.editOrderInfoForm.get("type").setValue(this.invoiceData.type),this.editOrderInfoForm.get("merchant_bill_amount").setValue(this.invoiceData.merchant_bill_amount),this.editOrderInfoForm.get("total_item_count").setValue(this.invoiceData.total_item_count),this.editOrderInfoForm.get("payment_status").setValue(this.invoiceData.payment_status),this.editOrderInfoForm.get("assinged_delivery_person").setValue(this.invoiceData.assinged_delivery_person),this.editOrderInfoForm.get("isOrderEdit").setValue(this.invoiceData.is_order_edit),this.editOrderInfoForm.get("customer_name").setValue(this.customerInfoData.customer_name),this.editOrderInfoForm.get("store_name").setValue(this.storeInfoData.store_name),this.editOrderInfoForm.get("address").setValue(this.customerInfoData.address),this.errorMessage=this.activatedRoute.snapshot.data.resolvedInvoice.error}get f(){return this.editOrderInfoForm.controls}repairOrder(){if(!this.disableForm){if(this.submitted=!0,this.disableForm=!0,this.editOrderInfoForm.invalid)return void(this.disableForm=!1);const t=JSON.parse(JSON.stringify(this.editOrderInfoForm.value));t.isOrderEdit?(console.log("yes"),t.payable_amount=+t.merchant_bill_amount+ +t.delivery_fee-+t.discount_amount):(console.log("no"),t.payable_amount=+t.total_amount+ +t.delivery_fee-+t.discount_amount),console.log(t),this.orderService.editOrderInfo(t,this.orderId).subscribe(t=>{200==+t.status?this.router.navigate(["order"]):(alert("Internal Server Error"),this.disableForm=!1)},t=>{this.errorMessage=t,this.disableForm=!1})}}getDirtyValues(t){const e={};Object.keys(this.editOrderInfoForm.controls).forEach(t=>{const r=this.editOrderInfoForm.controls[t];r.dirty&&(e[t]=r.controls?this.getDirtyValues(r):r.value)})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(o.a),i.Qb(o.f),i.Qb(_),i.Qb(at.d))},t.\u0275cmp=i.Kb({type:t,selectors:[["app-edit-order-info"]],decls:121,vars:7,consts:[[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"col-md-4","mb-3"],["for","validationCustom01"],["type","text","formControlName","order_id","placeholder","Order Id","disabled","",1,"form-control"],["for","validationCustom02"],["type","text","formControlName","customer_name","disabled","","placeholder","Customer name",1,"form-control"],["for","validationCustomUsername"],["type","text","formControlName","store_name","disabled","","placeholder","Store name",1,"form-control"],[1,"input-group"],[1,"input-group-prepend"],["id","inputGroupPrepend",1,"input-group-text"],["type","text","formControlName","delivery_fee",1,"form-control"],["type","text","disabled","","formControlName","total_amount",1,"form-control"],["type","text","formControlName","discount_amount",1,"form-control"],[1,"form-check",2,"margin-left","23px"],["type","checkbox","id","defaultCheck1","formControlName","isOrderEdit",1,"form-check-input",2,"margin-top","26px"],["for","defaultCheck1",1,"form-check-label",2,"font-size","14px","margin-top","25px"],["type","text","formControlName","merchant_bill_amount",1,"form-control"],["type","text","formControlName","payable_amount","disabled","",1,"form-control"],["formControlName","status",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["formControlName","order_merchant_status",1,"form-control"],["type","text","formControlName","delivery_slot","disabled","",1,"form-control"],["type","text","formControlName","type","disabled","",1,"form-control"],["type","text","disabled","true","formControlName","payment_status",1,"form-control"],["type","text","formControlName","voucher_code","disabled","",1,"form-control"],[1,"col-md-6","mb-3"],["formControlName","order_deliveryperson_status",1,"form-control"],["formControlName","assinged_delivery_person",1,"form-control"],[1,"form-group"],["for","inputAddress"],["type","text","formControlName","address","disabled","",1,"form-control"],["for","inputAddress2"],["type","text","formControlName","instructions",1,"form-control"],[1,"form-group","col-md-6"],["for","inputCity"],["type","text","disabled","","formControlName","order_created_date",1,"form-control"],["for","inputState"],["type","text","disabled","","formControlName","order_last_updated_date",1,"form-control"],[1,"btn","btn-primary",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(i.Wb(0,"form",0),i.ic("ngSubmit",(function(){return e.repairOrder()})),i.Wb(1,"div",1),i.Wb(2,"div",2),i.Wb(3,"label",3),i.Lc(4,"Order Id"),i.Vb(),i.Rb(5,"input",4),i.Vb(),i.Wb(6,"div",2),i.Wb(7,"label",5),i.Lc(8,"Order Customer Name"),i.Vb(),i.Rb(9,"input",6),i.Vb(),i.Wb(10,"div",2),i.Wb(11,"label",7),i.Lc(12,"Store Name"),i.Vb(),i.Rb(13,"input",8),i.Vb(),i.Vb(),i.Wb(14,"div",1),i.Wb(15,"div",2),i.Wb(16,"label",5),i.Lc(17,"Delivery Fees"),i.Vb(),i.Wb(18,"div",9),i.Wb(19,"div",10),i.Wb(20,"span",11),i.Lc(21,"\u20b9"),i.Vb(),i.Vb(),i.Rb(22,"input",12),i.Vb(),i.Vb(),i.Wb(23,"div",2),i.Wb(24,"label",5),i.Lc(25,"Order Amount"),i.Vb(),i.Wb(26,"div",9),i.Wb(27,"div",10),i.Wb(28,"span",11),i.Lc(29,"\u20b9"),i.Vb(),i.Vb(),i.Rb(30,"input",13),i.Vb(),i.Vb(),i.Wb(31,"div",2),i.Wb(32,"label",5),i.Lc(33,"Discount"),i.Vb(),i.Wb(34,"div",9),i.Wb(35,"div",10),i.Wb(36,"span",11),i.Lc(37,"\u20b9"),i.Vb(),i.Vb(),i.Rb(38,"input",14),i.Vb(),i.Vb(),i.Vb(),i.Wb(39,"div",1),i.Wb(40,"div",2),i.Wb(41,"div",15),i.Rb(42,"input",16),i.Wb(43,"label",17),i.Lc(44," Edit Order Amount "),i.Vb(),i.Vb(),i.Vb(),i.Wb(45,"div",2),i.Wb(46,"label",7),i.Lc(47,"Merchant Bill Amount"),i.Vb(),i.Wb(48,"div",9),i.Wb(49,"div",10),i.Wb(50,"span",11),i.Lc(51,"\u20b9"),i.Vb(),i.Vb(),i.Rb(52,"input",18),i.Vb(),i.Vb(),i.Wb(53,"div",2),i.Wb(54,"label",5),i.Lc(55,"Payable Amount"),i.Vb(),i.Wb(56,"div",9),i.Wb(57,"div",10),i.Wb(58,"span",11),i.Lc(59,"\u20b9"),i.Vb(),i.Vb(),i.Rb(60,"input",19),i.Vb(),i.Vb(),i.Vb(),i.Wb(61,"div",1),i.Wb(62,"div",2),i.Wb(63,"label",3),i.Lc(64,"Order Status"),i.Vb(),i.Wb(65,"select",20),i.Jc(66,Wt,3,4,"option",21),i.Vb(),i.Vb(),i.Wb(67,"div",2),i.Wb(68,"label",7),i.Lc(69,"Merchant Status"),i.Vb(),i.Wb(70,"select",22),i.Jc(71,yt,3,4,"option",21),i.Vb(),i.Vb(),i.Wb(72,"div",2),i.Wb(73,"label",3),i.Lc(74,"Delivery Slot"),i.Vb(),i.Rb(75,"input",23),i.Vb(),i.Vb(),i.Wb(76,"div",1),i.Wb(77,"div",2),i.Wb(78,"label",5),i.Lc(79,"Payment Mode"),i.Vb(),i.Rb(80,"input",24),i.Vb(),i.Wb(81,"div",2),i.Wb(82,"label",7),i.Lc(83,"Payment Status"),i.Vb(),i.Wb(84,"div",9),i.Rb(85,"input",25),i.Vb(),i.Vb(),i.Wb(86,"div",2),i.Wb(87,"label",3),i.Lc(88,"Voucher Code Used"),i.Vb(),i.Rb(89,"input",26),i.Vb(),i.Vb(),i.Wb(90,"div",1),i.Wb(91,"div",27),i.Wb(92,"label",5),i.Lc(93,"Delivery Status"),i.Vb(),i.Wb(94,"select",28),i.Jc(95,Ct,3,4,"option",21),i.Vb(),i.Vb(),i.Wb(96,"div",27),i.Wb(97,"label",7),i.Lc(98,"Active Delivery Person"),i.Vb(),i.Wb(99,"div",9),i.Wb(100,"select",29),i.Jc(101,Dt,3,5,"option",21),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(102,"div",30),i.Wb(103,"label",31),i.Lc(104,"Delivery Address"),i.Vb(),i.Rb(105,"input",32),i.Vb(),i.Wb(106,"div",30),i.Wb(107,"label",33),i.Lc(108,"Instructions"),i.Vb(),i.Rb(109,"input",34),i.Vb(),i.Wb(110,"div",1),i.Wb(111,"div",35),i.Wb(112,"label",36),i.Lc(113,"Order Placing Date"),i.Vb(),i.Rb(114,"input",37),i.Vb(),i.Wb(115,"div",35),i.Wb(116,"label",38),i.Lc(117,"Order Last Updated"),i.Vb(),i.Rb(118,"input",39),i.Vb(),i.Vb(),i.Wb(119,"button",40),i.Lc(120,"Save"),i.Vb(),i.Vb()),2&t&&(i.tc("formGroup",e.editOrderInfoForm),i.Cb(52),i.Db("disabled",e.f.isOrderEdit.value?null:""),i.Cb(14),i.tc("ngForOf",e.orderStatusTypes),i.Cb(5),i.tc("ngForOf",e.merchantStatusTypes),i.Cb(24),i.tc("ngForOf",e.deliveryStatusTypes),i.Cb(6),i.tc("ngForOf",e.activeDeliveryPersons),i.Cb(18),i.tc("disabled",!e.editOrderInfoForm.valid||e.disableForm))},directives:[at.w,at.n,at.f,at.c,at.m,at.e,at.a,at.t,n.m,at.q,at.v],pipes:[Vt.a],styles:[".form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10px}"]}),t})();function It(t,e){1&t&&i.Rb(0,"img",16),2&t&&i.Ic("width",80,"px")("margin",2,"px")}function Lt(t,e){if(1&t&&i.Rb(0,"img",17),2&t){const t=i.mc().$implicit;i.Ic("width",80,"px")("margin",2,"px"),i.uc("src",null==t?null:t.image_url,i.Ec),i.tc("title",null==t?null:t.product_name)}}function Pt(t,e){if(1&t&&(i.Wb(0,"span"),i.Lc(1),i.Vb()),2&t){const t=i.mc().$implicit;i.Cb(1),i.Nc(" ",null==t?null:t.quantity," ")}}function Mt(t,e){if(1&t&&i.Rb(0,"input",18),2&t){const t=i.mc().$implicit;i.uc("value",null==t?null:t.quantity)}}function wt(t,e){if(1&t){const t=i.Xb();i.Wb(0,"button",14),i.ic("click",(function(){i.Dc(t);const e=i.mc().$implicit;return i.mc(2).editProduct(null==e?null:e.store_product_mapping_id)})),i.Rb(1,"i",19),i.Vb()}}function xt(t,e){if(1&t){const t=i.Xb();i.Wb(0,"button",14),i.ic("click",(function(){i.Dc(t);const e=i.mc().$implicit;return i.mc(2).updateProduct(null==e?null:e.store_product_mapping_id)})),i.Rb(1,"i",20),i.Vb()}}function kt(t,e){if(1&t){const t=i.Xb();i.Wb(0,"tr"),i.Wb(1,"td",8),i.Lc(2),i.Vb(),i.Wb(3,"td"),i.Jc(4,It,1,4,"img",10),i.Jc(5,Lt,1,6,"img",11),i.Vb(),i.Wb(6,"td"),i.Lc(7),i.Vb(),i.Wb(8,"td"),i.Lc(9),i.Vb(),i.Wb(10,"td"),i.Jc(11,Pt,2,1,"span",5),i.Jc(12,Mt,1,1,"input",12),i.Vb(),i.Wb(13,"td"),i.Lc(14),i.Vb(),i.Wb(15,"td"),i.Jc(16,wt,2,0,"button",13),i.Jc(17,xt,2,0,"button",13),i.Wb(18,"button",14),i.ic("click",(function(){i.Dc(t);const r=e.$implicit;return i.mc(2).deleteProduct(null==r?null:r.store_product_mapping_id)})),i.Rb(19,"i",15),i.Vb(),i.Vb(),i.Vb()}if(2&t){const t=e.$implicit;i.Cb(2),i.Nc(" ",null==t?null:t.store_product_mapping_id," "),i.Cb(2),i.tc("ngIf",!(null!=t&&t.image_url)),i.Cb(1),i.tc("ngIf",null==t?null:t.image_url),i.Cb(2),i.Nc(" ",null==t?null:t.product_name," "),i.Cb(2),i.Nc(" \u20b9 ",null==t?null:t.store_selling_price," "),i.Cb(2),i.tc("ngIf",!t.canEditQuanity),i.Cb(1),i.tc("ngIf",t.canEditQuanity),i.Cb(2),i.Nc("\u20b9 ",(null==t?null:t.store_selling_price)*(null==t?null:t.quantity),""),i.Cb(2),i.tc("ngIf",!t.canEditQuanity),i.Cb(1),i.tc("ngIf",t.canEditQuanity)}}function St(t,e){if(1&t&&(i.Wb(0,"table",7),i.Wb(1,"thead"),i.Wb(2,"tr"),i.Wb(3,"th",8),i.Lc(4,"Id"),i.Vb(),i.Wb(5,"th"),i.Lc(6,"Image"),i.Vb(),i.Wb(7,"th"),i.Lc(8,"Name"),i.Vb(),i.Wb(9,"th"),i.Lc(10,"Price"),i.Vb(),i.Wb(11,"th"),i.Lc(12,"Quantity"),i.Vb(),i.Wb(13,"th"),i.Lc(14,"Total Amount"),i.Vb(),i.Rb(15,"th"),i.Vb(),i.Vb(),i.Wb(16,"tbody"),i.Jc(17,kt,20,10,"tr",9),i.Vb(),i.Vb()),2&t){const t=i.mc();i.Cb(17),i.tc("ngForOf",t.orderProducts)}}function Nt(t,e){1&t&&(i.Wb(0,"div"),i.Lc(1," No Products Data Found "),i.Vb())}function Rt(t,e){if(1&t&&(i.Wb(0,"div",21),i.Lc(1),i.Vb()),2&t){const t=i.mc();i.Cb(1),i.Nc(" Error: ",t.errorMessage,"\n")}}let Ft=(()=>{class t{constructor(t){this.activatedRoute=t,this.orderProducts=[],this.pageTitle="Edit Order Products"}ngOnInit(){this.orderid=this.activatedRoute.parent.snapshot.params.orderid,this.orderProducts=this.activatedRoute.snapshot.data.resolvedProducts.orderProducts,this.orderProducts.forEach(t=>{t.canEditQuanity=!1}),console.log(this.orderProducts),this.errorMessage=this.activatedRoute.snapshot.data.resolvedProducts.error}editProduct(t){const e=this.orderProducts.findIndex(e=>e.store_product_mapping_id===t);this.orderProducts[e].canEditQuanity=!0,console.log(e)}deleteProduct(t){console.log(t)}updateProduct(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(o.a))},t.\u0275cmp=i.Kb({type:t,selectors:[["app-edit-product-info"]],decls:8,vars:4,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"table-responsive"],["style","width:1000px !important","class","table",4,"ngIf"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"table",2,"width","1000px !important"],[2,"width","90px !important"],[4,"ngFor","ngForOf"],["class","center-block img-responsive","src","assets/product_images/default_image.jpg",3,"width","margin",4,"ngIf"],["class","center-block img-responsive",3,"src","title","width","margin",4,"ngIf"],["style","width:50px;","autofocus","","maxlength","2","type","text","class","form-control",3,"value",4,"ngIf"],["class","btn btn-primary mr-3",3,"click",4,"ngIf"],[1,"btn","btn-primary","mr-3",3,"click"],[1,"fas","fa-trash"],["src","assets/product_images/default_image.jpg",1,"center-block","img-responsive"],[1,"center-block","img-responsive",3,"src","title"],["autofocus","","maxlength","2","type","text",1,"form-control",2,"width","50px",3,"value"],[1,"fa","fa-edit"],[1,"far","fa-save"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Lc(2),i.Vb(),i.Wb(3,"div",2),i.Wb(4,"div",3),i.Jc(5,St,18,1,"table",4),i.Jc(6,Nt,2,0,"div",5),i.Vb(),i.Vb(),i.Vb(),i.Jc(7,Rt,2,1,"div",6)),2&t&&(i.Cb(2),i.Nc(" ",e.pageTitle," "),i.Cb(3),i.tc("ngIf",e.orderProducts.length),i.Cb(1),i.tc("ngIf",0==(null==e.orderProducts?null:e.orderProducts.length)),i.Cb(1),i.tc("ngIf",e.errorMessage))},directives:[n.n,n.m],styles:[""]}),t})(),jt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Kb({type:t,selectors:[["app-edit-delivery-info"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Wb(0,"p"),i.Lc(1,"edit-delivery-info works!"),i.Vb())},styles:[""]}),t})(),Jt=(()=>{class t{constructor(t){this.orderService=t}resolve(t,e){return this.orderService.fetchStatusTypes().pipe(Object(p.a)(t=>({orderStatusTypes:t.orderStatusTypes,deliveryStatusTypes:t.deliveryStatusTypes,merchantStatusTypes:t.merchantStatusTypes,error:""})),Object(f.a)(t=>{const e="Retrieval error: "+t;return Object(B.a)({orderInvoice:null,error:e})}))}}return t.\u0275fac=function(e){return new(e||t)(i.ec(_))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var zt=r("MVCC");const Et=[{path:"",component:ft,resolve:{resolvedOrders:ht}},{path:":orderId",component:et,children:[{path:"productsinfo",component:u,resolve:{resolvedProducts:X}},{path:"customerinfo",component:O,resolve:{resolvedCustomer:q}},{path:"merchantinfo",component:w,resolve:{resolvedMerchant:U}},{path:"deliveryinfo",component:x},{path:"invoiceinfo",component:$,resolve:{resolvedInvoice:G}}]},{path:":orderId/edit",component:_t,children:[{path:"editorderinfo",component:Ot,resolve:{resolvedInvoice:G,resolvedorderStatusTypes:Jt,resolvedActiveDP:(()=>{class t{constructor(t){this.deliveryService=t}resolve(t,e){return this.deliveryService.fetchAllActiveDeliveryPersons().pipe(Object(p.a)(t=>({activeDeliveryPersonInfo:t.delivery,error:""})),Object(f.a)(t=>{const e="Retrieval error: "+t;return Object(B.a)({orderInvoice:null,error:e})}))}}return t.\u0275fac=function(e){return new(e||t)(i.ec(zt.a))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}},{path:"editproductsinfo",component:Ft,resolve:{resolvedProducts:X}},{path:"editdeliveryinfo",component:jt}]}];let Tt=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[o.j.forChild(Et)],o.j]}),t})();var At=r("PCNd");let Qt=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[n.c,Tt,at.r,At.a]]}),t})()}}]);