(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"9d4Z":function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var o=r("IheW"),a=r("vkgz"),c=r("lJxs"),s=r("JIr8"),n=r("LRne"),i=r("z6cu"),l=r("8Y7J");let u=(()=>{class t{constructor(t){this.http=t,this.categoryData=[],this.categoryServiceUrl="http://localhost:3000/categoryapi"}get storeCategories(){return this.storecategories?Object(n.a)(this.storecategories):this.getAllStoreCategory("")}getAllStoreCategory(t){const e={};return e.filterBy=t,this.http.post(`${this.categoryServiceUrl}/storecategories`,e).pipe(Object(a.a)(t=>{this.storecategories=t}),Object(c.a)(t=>t),Object(s.a)(this.handleError))}getStoreCategoryData(t){return this.http.get(`${this.categoryServiceUrl}/storesubcategories/${t}`).pipe(Object(a.a)(t=>{}),Object(c.a)(t=>t),Object(s.a)(this.handleError))}getStoreSubCategoryData(t,e){return this.http.get(`${this.categoryServiceUrl}/storesubcategories/${t}`).pipe(Object(a.a)(t=>{}),Object(c.a)(t=>t),Object(s.a)(this.handleError))}addNewSubCategory(t){const e={};return e.store_sub_category_id=t.storeCategoryName,e.subCategoryName=t.subcategoryName,this.http.post(`${this.categoryServiceUrl}/subcategories`,e).pipe(Object(a.a)(t=>{}),Object(c.a)(t=>t),Object(s.a)(this.handleError))}editSubCategory(t){const e={};return e.category_id=t.subcategoryId,e.name=t.subcategoryName,e.parent_category_id=t.storeCategoryName,this.http.put(`${this.categoryServiceUrl}/subcategories`,e).pipe(Object(a.a)(t=>{}),Object(c.a)(t=>t),Object(s.a)(this.handleError))}getSubCategoryData(t){return this.http.get(`${this.categoryServiceUrl}/subcategories/${t}`).pipe(Object(a.a)(t=>{}),Object(c.a)(t=>t.store_sub_categories),Object(s.a)(this.handleError))}addNewStoreCategory(t){return console.log(t),this.http.post(`${this.categoryServiceUrl}/addstorecategory`,t).pipe(Object(a.a)(t=>{}),Object(c.a)(t=>t),Object(s.a)(this.handleError))}addNewStoreSubCategory(t){console.log(t);let e={};return e.store_category_id=t.storeCategoryName,e.categoryName=t.categoryName,e.status=t.status,e.categoryRanking=t.categoryRanking,this.http.post(`${this.categoryServiceUrl}/storesubcategories`,e).pipe(Object(a.a)(t=>{}),Object(c.a)(t=>t),Object(s.a)(this.handleError))}deleteStoreCategory(t){const e=new o.g({"Content-Type":"application/json"});return this.http.delete(`${this.categoryServiceUrl}/storecategories/${t}`,{headers:e}).pipe(Object(a.a)(t=>{}),Object(s.a)(this.handleError))}getStoreCategory(t){const e=new o.g({"Content-Type":"application/json"});return this.http.get(`${this.categoryServiceUrl}/storecategories/${t}`,{headers:e}).pipe(Object(a.a)(t=>{},Object(c.a)(t=>t)),Object(s.a)(this.handleError))}deleteStoreSubCategory(t){const e=new o.g({"Content-Type":"application/json"});return this.http.delete(`${this.categoryServiceUrl}/storesubcategories/${t}`,{headers:e}).pipe(Object(a.a)(t=>{}),Object(s.a)(this.handleError))}deleteSubCategory(t){const e=new o.g({"Content-Type":"application/json"});return this.http.delete(`${this.categoryServiceUrl}/subcategories/${t}`,{headers:e}).pipe(Object(a.a)(t=>{}),Object(s.a)(this.handleError))}editStoreCategory(t,e){let r={};return r.store_category_id=e,r.store_category_name=t.storeCategoryName,r.status=+t.status,r.store_category_ranking=+t.storeCategoryRanking,this.http.put(`${this.categoryServiceUrl}/storecategories`,r).pipe(Object(a.a)(t=>{}),Object(c.a)(t=>t),Object(s.a)(this.handleError))}editStoreSubCategory(t,e){let r={};return r.category_id=+e,r.name=t.categoryName,r.store_category_id=+t.storeCategoryName,console.log(r),this.http.put(`${this.categoryServiceUrl}/storesubcategories`,r).pipe(Object(a.a)(t=>{}),Object(c.a)(t=>t),Object(s.a)(this.handleError))}getAllCategories(){return Object(n.a)(this.categoryData)}initializeCategory(){}handleError(t){let e="";return e=t.error instanceof ErrorEvent?`An error occurred: ${t.error.message}`:`Server returned code: ${t.status}, error message is: ${t.message}`,Object(i.a)(e)}}return t.ngInjectableDef=l.Qb({factory:function(){return new t(l.Rb(o.c))},token:t,providedIn:"root"}),t})()},CvK3:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));class o{transform(t,...e){return t.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.substring(1)).join(" ")}}},"Q6/5":function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var o=r("8Y7J");class a{constructor(){this.rating=4,this.ratingClicked=new o.m}ngOnChanges(){this.starWidth=75*this.rating/5}onclick(){this.ratingClicked.emit(`The rating ${this.rating} was clicked`)}}},QJ7G:function(t,e,r){"use strict";var o=r("XNiG"),a=r("LRne"),c=r("z6cu"),s=r("vkgz"),n=r("lJxs"),i=r("JIr8"),l=r("IheW");class u{constructor(){}}var p=r("8Y7J");r.d(e,"a",(function(){return d}));let d=(()=>{class t{constructor(t){this._http=t,this._productServiceUrl="http://localhost:3000/productsapi/",this.selectedProductSource=new o.a,this.selectProductChanges$=this.selectedProductSource.asObservable(),this.productResolved=new u}ngOnDestroy(){}changeSelectedProduct(t){this.productResolved.products.forEach(e=>{e.productId==t&&this.selectedProductSource.next(e)})}updateProductImageUrl(t,e){this.productResolved.products.forEach(r=>{r.productId==e&&(r.image_url=t,console.log(r))}),console.log(this.productResolved.products)}getProducts(t,e,r){let o={};return o.page_number=t,o.page_size=e,o.filterBy=r,console.log(`${this._productServiceUrl}fetchProducts`),this._http.post(`${this._productServiceUrl}fetchProducts`,o).pipe(Object(s.a)(t=>{}),Object(n.a)(t=>(this.productResolved.products=t.products,this.productResolved.productCount=t.products_total_count.products_count,console.log(this.productResolved.products),this.productResolved)),Object(i.a)(this.handleError))}searchProducts(t){return""!==t?this._http.get(`${this._productServiceUrl}productsearch/${t}`).pipe(Object(s.a)(t=>{}),Object(n.a)(t=>t.products),Object(i.a)(this.handleError)):(console.log(t),Object(a.a)([]))}deleteProduct(t){const e=new l.g({"Content-Type":"application/json"});return this._http.delete(`${this._productServiceUrl}${t}`,{headers:e}).pipe(Object(s.a)(t=>{}),Object(i.a)(this.handleError))}updateProduct(t,e){let r={};r.product_id=e,r.product_name=t.productName,r.product_price=t.productPrice,r.weight_type=t.productWeightType,r.product_code=t.productCode,r.product_description=t.productDescription,r.product_rating=t.productRating,r.status=t.status,r.product_weight=+t.productWeight,t.subCategoryName?r.category_id=t.subCategoryName:t.storeSubCategoryName&&(r.category_id=t.storeSubCategoryName),console.log(r);const o=`${this._productServiceUrl}${e}`,a=new l.g({"Content-Type":"application/json"});return this._http.put(o,r,{headers:a}).pipe(Object(s.a)(t=>{console.log(JSON.stringify(t))}),Object(i.a)(this.handleError))}createProduct(t){let e={};e.product_name=t.productName,e.product_price=+t.productPrice,e.weight_type=+t.productWeightType,e.product_code=t.productCode,e.product_description=t.productDescription,e.product_rating=+t.productRating,e.status=+t.status,e.product_weight=+t.productWeight,t.subCategoryName?e.category_id=t.subCategoryName:t.storeSubCategoryName&&(e.category_id=t.storeSubCategoryName),console.log(e);const r=`${this._productServiceUrl}`,o=new l.g({"Content-Type":"application/json"});return this._http.post(r,e,{headers:o}).pipe(Object(s.a)(t=>{console.log(JSON.stringify(t))}),Object(n.a)(t=>t),Object(i.a)(this.handleError))}getcategoryProductInfo(t){return this._http.get(`${this._productServiceUrl}category/${t}`).pipe(Object(s.a)(t=>{console.log(JSON.stringify(t))}),Object(i.a)(this.handleError))}getProduct(t){return 0==t?Object(a.a)(this.initializeProduct()):this._http.get(`${this._productServiceUrl}${t}`).pipe(Object(s.a)(t=>{}),Object(n.a)(t=>t.product),Object(i.a)(this.handleError))}handleError(t){let e="";return e=t.error instanceof ErrorEvent?`An error occurred: ${t.error.message}`:`Server returned code: ${t.status}, error message is: ${t.message}`,Object(c.a)(e)}initializeProduct(){return{productId:0,productName:null,productCode:null,releaseDate:null,lastUpdated:null,product_image_id:null,product_weight:null,price:null,description:null,starRating:null,categoryName:null,available:null,image_url:null}}}return t.ngInjectableDef=p.Qb({factory:function(){return new t(p.Rb(l.c))},token:t,providedIn:"root"}),t})()},"z+p0":function(t,e,r){"use strict";var o=r("8Y7J");r("Q6/5"),r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return c}));var a=o.ob({encapsulation:0,styles:[[".crop[_ngcontent-%COMP%]{overflow:hidden}div[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function c(t){return o.Mb(0,[(t()(),o.qb(0,0,null,null,6,"div",[["class","crop"]],[[4,"width","px"],[8,"title",0]],[[null,"click"]],(function(t,e,r){var o=!0;return"click"===e&&(o=!1!==t.component.onclick()&&o),o}),null,null)),(t()(),o.qb(1,0,null,null,5,"div",[["style","width:75px;"]],null,null,null,null,null)),(t()(),o.qb(2,0,null,null,0,"span",[["class","fa fa-star"]],null,null,null,null,null)),(t()(),o.qb(3,0,null,null,0,"span",[["class","fa fa-star"]],null,null,null,null,null)),(t()(),o.qb(4,0,null,null,0,"span",[["class","fa fa-star"]],null,null,null,null,null)),(t()(),o.qb(5,0,null,null,0,"span",[["class","fa fa-star"]],null,null,null,null,null)),(t()(),o.qb(6,0,null,null,0,"span",[["class","fa fa-star"]],null,null,null,null,null))],null,(function(t,e){var r=e.component;t(e,0,0,r.starWidth,r.rating)}))}}}]);