(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{d7gL:function(t,e,r){"use strict";r.r(e),r.d(e,"CustomerModule",(function(){return ct}));var c=r("ofXK"),o=r("tyNb"),n=r("vkgz"),s=r("/uUt"),i=r("Kj3r"),a=r("eIep"),u=r("fXoL"),l=r("z6cu"),b=r("lJxs"),d=r("JIr8"),m=r("tk/3");let h=(()=>{class t{constructor(t){this.http=t,this.customerServiceUrl="https://api.grostep.com/customerapi/"}fetchAllCustomers(t,e,r){const c={};return c.page_number=t,c.page_size=e,c.filterBy=r,this.http.post(this.customerServiceUrl+"customerinfo",c).pipe(Object(n.a)(t=>{console.log(JSON.stringify(t))}),Object(b.a)(t=>t),Object(d.a)(this.handleError))}fetchAllCustomerOrders(t,e,r,c){const o={};return o.page_number=e,o.page_size=r,o.customerId=t,o.filterBy=c,console.log(o),this.http.post(this.customerServiceUrl+"/customerinfo/customerorders",o).pipe(Object(n.a)(t=>{console.log(t)}),Object(b.a)(t=>t),Object(d.a)(this.handleError))}fetchCustomerInfoById(t){return this.http.get(`${this.customerServiceUrl}customerinfo/${t}`).pipe(Object(n.a)(t=>{}),Object(b.a)(t=>t),Object(d.a)(this.handleError))}handleError(t){let e="";return e=t.error instanceof ErrorEvent?"An error occurred: "+t.error.message:`Server returned code: ${t.status}, error message is: ${t.message}`,Object(l.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(m.a))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=r("3Pt+"),f=r("Exvd");const g=function(t){return["/customer",t]};function C(t,e){if(1&t&&(u.Rb(0,"tr"),u.Rb(1,"td",15),u.Rb(2,"a",18),u.Cc(3),u.Qb(),u.Qb(),u.Rb(4,"td"),u.Rb(5,"a",18),u.Cc(6),u.Qb(),u.Qb(),u.Rb(7,"td"),u.Cc(8),u.Qb(),u.Rb(9,"td"),u.Cc(10),u.gc(11,"date"),u.Qb(),u.Rb(12,"td"),u.Cc(13),u.gc(14,"date"),u.Qb(),u.Rb(15,"td",19),u.Cc(16),u.Qb(),u.Qb()),2&t){const t=e.$implicit;u.zb(2),u.lc("routerLink",u.pc(14,g,t.customer_id)),u.zb(1),u.Ec(" ",null==t?null:t.customer_id," "),u.zb(2),u.lc("routerLink",u.pc(16,g,t.customer_id)),u.zb(1),u.Ec(" ",null==t?null:t.customer_name," "),u.zb(2),u.Dc(null==t?null:t.phone),u.zb(2),u.Dc(u.ic(11,8,null==t?null:t.registered_date,"shortDate")),u.zb(3),u.Dc(u.ic(14,11,null==t?null:t.last_updated,"shortDate")),u.zb(3),u.Dc(null!=t&&t.status?"VERIFIED":"NOT VERIFIED")}}function R(t,e){if(1&t&&(u.Rb(0,"table",14),u.Rb(1,"thead"),u.Rb(2,"tr"),u.Rb(3,"th",15),u.Cc(4,"Customer Id"),u.Qb(),u.Rb(5,"th"),u.Cc(6,"Customer Name"),u.Qb(),u.Rb(7,"th"),u.Cc(8,"Phone"),u.Qb(),u.Rb(9,"th"),u.Rb(10,"span",16),u.Cc(11,"Registration Date"),u.Qb(),u.Cc(12," (MM/DD/YY) "),u.Qb(),u.Rb(13,"th"),u.Rb(14,"span",16),u.Cc(15,"Last Seen"),u.Qb(),u.Cc(16," (MM/DD/YY) "),u.Qb(),u.Rb(17,"th"),u.Cc(18,"Status"),u.Qb(),u.Nb(19,"th"),u.Qb(),u.Qb(),u.Rb(20,"tbody"),u.Ac(21,C,17,18,"tr",17),u.Qb(),u.Qb()),2&t){const t=u.fc();u.zb(21),u.lc("ngForOf",t.customers)}}function v(t,e){if(1&t){const t=u.Sb();u.Rb(0,"app-pagination",20),u.dc("currentPage",(function(e){return u.uc(t),u.fc().currentPageFn(e)})),u.Qb()}if(2&t){const t=u.fc();u.lc("totalItemCount",t.total_customer_count)}}function Q(t,e){1&t&&(u.Rb(0,"div"),u.Cc(1," No customer Data Found "),u.Qb())}function _(t,e){if(1&t&&(u.Rb(0,"div",21),u.Cc(1),u.Qb()),2&t){const t=u.fc();u.zb(1),u.Ec(" Error: ",t.errorMessage," ")}}let z=(()=>{class t{constructor(t,e,r){this._customerService=t,this.activatedRoute=e,this.formBuilder=r,this.pageTitle="Customers Dashboard",this.displaytype="AM",this.customers=[],this.filterBy="",this.currentPage=1,this.errorMessage="",this.pageSize=20,this.imageWidth=80,this.imageHeight=80,this.imageMargin=2,this.searchCriteriaForm=this.formBuilder.group({searchCriteria:[""]})}ngOnInit(){this.customers=this.activatedRoute.snapshot.data.customers.customers,this.total_customer_count=this.activatedRoute.snapshot.data.customers.customer_total_count,this.onChanges()}onChanges(){this.searchCriteriaForm.get("searchCriteria").valueChanges.pipe(Object(n.a)(t=>{}),Object(s.a)(),Object(i.a)(200),Object(a.a)(t=>(this.filterBy=t,this._customerService.fetchAllCustomers(this.currentPage,this.pageSize,t)))).subscribe(t=>{this.total_customer_count=t.customer_total_count.customer_count,this.customers=t.customers})}currentPageFn(t){this._customerService.fetchAllCustomers(t,this.pageSize,this.filterBy).subscribe(t=>{this.total_customer_count=t.customer_total_count.customer_count,this.customers=t.customers})}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(h),u.Mb(o.a),u.Mb(p.c))},t.\u0275cmp=u.Gb({type:t,selectors:[["app-customer-dashboard"]],decls:16,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-2"],[1,"col-md-4"],[3,"formGroup"],["formControlName","searchCriteria","type","text","id","keyword","placeholder","Search Customer By Phone","autocomplete","off","autofocus","",1,"form-control"],[1,"col-md-6"],[1,"table-responsive"],["style","width:1000px !important","class","table",4,"ngIf"],[3,"totalItemCount","currentPage",4,"ngIf"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"table",2,"width","1000px !important"],[2,"width","90px !important"],[2,"display","block"],[4,"ngFor","ngForOf"],[3,"routerLink"],[2,"font-weight","bold"],[3,"totalItemCount","currentPage"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Cc(2),u.Qb(),u.Rb(3,"div",2),u.Rb(4,"div",3),u.Rb(5,"div",4),u.Cc(6,"Filter by:"),u.Qb(),u.Rb(7,"div",5),u.Rb(8,"form",6),u.Nb(9,"input",7),u.Qb(),u.Qb(),u.Nb(10,"div",8),u.Rb(11,"div",9),u.Ac(12,R,22,1,"table",10),u.Ac(13,v,1,1,"app-pagination",11),u.Ac(14,Q,2,0,"div",12),u.Qb(),u.Qb(),u.Qb(),u.Ac(15,_,2,1,"div",13),u.Qb()),2&t&&(u.zb(2),u.Ec(" ",e.pageTitle," "),u.zb(6),u.lc("formGroup",e.searchCriteriaForm),u.zb(4),u.lc("ngIf",e.customers.length),u.zb(1),u.lc("ngIf",null==e.customers?null:e.customers.length),u.zb(1),u.lc("ngIf",0==(null==e.customers?null:e.customers.length)),u.zb(1),u.lc("ngIf",e.errorMessage))},directives:[p.u,p.l,p.e,p.b,p.k,p.d,c.m,c.l,o.i,f.a],pipes:[c.d],styles:[""]}),t})(),I=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Gb({type:t,selectors:[["app-customer-edit"]],decls:2,vars:0,template:function(t,e){1&t&&(u.Rb(0,"p"),u.Cc(1,"customer-edit works!"),u.Qb())},styles:[""]}),t})();const O=function(){return["info"]},y=function(){return["customeraddresses"]},w=function(){return["customercart"]},D=function(){return["customerorders"]};let M=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Gb({type:t,selectors:[["app-customer-detail"]],decls:13,vars:8,consts:[[1,"card"],[1,"card-header"],[1,"wizard"],["routerLinkActive","active",3,"routerLink"],[1,"card-body"]],template:function(t,e){1&t&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Rb(2,"div",2),u.Rb(3,"a",3),u.Cc(4," Customer Information "),u.Qb(),u.Rb(5,"a",3),u.Cc(6," Saved Addresses "),u.Qb(),u.Rb(7,"a",3),u.Cc(8," Cart "),u.Qb(),u.Rb(9,"a",3),u.Cc(10," Orders "),u.Qb(),u.Qb(),u.Qb(),u.Rb(11,"div",4),u.Nb(12,"router-outlet"),u.Qb(),u.Qb()),2&t&&(u.zb(3),u.lc("routerLink",u.oc(4,O)),u.zb(2),u.lc("routerLink",u.oc(5,y)),u.zb(2),u.lc("routerLink",u.oc(6,w)),u.zb(2),u.lc("routerLink",u.oc(7,D)))},directives:[o.i,o.h,o.k],styles:['.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#efefef;display:inline-block;margin-right:5px;min-width:150px;outline:none;padding:10px 40px;position:relative;text-decoration:none}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{border-left:20px solid #fff;left:0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after, .wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{width:0;height:0;border-top:20px inset transparent;border-bottom:24px inset transparent;position:absolute;content:"";top:0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{border-left:21px solid #efefef;right:-20px;z-index:2}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child:before, .wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child:after{border:none}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-radius:8px 0 0 0}.wizard[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-radius:0 8px 0 0}.wizard[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background:#007acc;color:#fff}.wizard[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]:after{border-left-color:#007acc}']}),t})();function P(t,e){1&t&&u.Nb(0,"img",10),2&t&&u.zc("width",250,"px")("margin",2,"px")}function k(t,e){if(1&t&&u.Nb(0,"img",11),2&t){const t=u.fc(2);u.zc("width",250,"px")("margin",2,"px"),u.mc("src",null==t.customerData?null:t.customerData.image_url,u.vc),u.lc("title",null==t.customerData?null:t.customerData.customer_name)}}function S(t,e){if(1&t&&(u.Rb(0,"div",12),u.Cc(1),u.Qb()),2&t){const t=u.fc(2);u.zb(1),u.Ec("",t.errorMessage," ")}}function A(t,e){if(1&t&&(u.Rb(0,"div",1),u.Rb(1,"div",2),u.Rb(2,"div",3),u.Rb(3,"div",4),u.Rb(4,"div",3),u.Rb(5,"div",5),u.Cc(6,"Customer Id:"),u.Qb(),u.Rb(7,"div",4),u.Cc(8),u.Qb(),u.Qb(),u.Rb(9,"div",3),u.Rb(10,"div",5),u.Cc(11,"Customer Name:"),u.Qb(),u.Rb(12,"div",4),u.Cc(13),u.Qb(),u.Qb(),u.Rb(14,"div",3),u.Rb(15,"div",5),u.Cc(16,"Customer Email:"),u.Qb(),u.Rb(17,"div",4),u.Cc(18),u.Qb(),u.Qb(),u.Rb(19,"div",3),u.Rb(20,"div",5),u.Cc(21,"Customer Phone Number:"),u.Qb(),u.Rb(22,"div",4),u.Cc(23),u.Qb(),u.Qb(),u.Rb(24,"div",3),u.Rb(25,"div",5),u.Cc(26,"Registration Date:"),u.Qb(),u.Rb(27,"div",4),u.Cc(28),u.gc(29,"date"),u.Qb(),u.Qb(),u.Rb(30,"div",3),u.Rb(31,"div",5),u.Cc(32,"Last Updated"),u.Qb(),u.Rb(33,"div",4),u.Cc(34),u.gc(35,"date"),u.Qb(),u.Qb(),u.Rb(36,"div",3),u.Rb(37,"div",5),u.Cc(38,"User Status:"),u.Qb(),u.Rb(39,"div",4),u.Cc(40),u.Qb(),u.Qb(),u.Qb(),u.Rb(41,"div",6),u.Ac(42,P,1,4,"img",7),u.Ac(43,k,1,6,"img",8),u.Qb(),u.Qb(),u.Qb(),u.Ac(44,S,2,1,"div",9),u.Qb()),2&t){const t=u.fc();u.zb(8),u.Dc(null==t.customerData?null:t.customerData.customer_id),u.zb(5),u.Dc(null==t.customerData?null:t.customerData.customer_name),u.zb(5),u.Dc(null==t.customerData?null:t.customerData.email),u.zb(5),u.Dc(null==t.customerData?null:t.customerData.phone),u.zb(5),u.Dc(u.ic(29,10,null==t.customerData?null:t.customerData.registered_date,"medium")),u.zb(6),u.Dc(u.ic(35,13,null==t.customerData?null:t.customerData.last_updated,"medium")),u.zb(6),u.Dc(1==(null==t.customerData?null:t.customerData.status)?"VERIFIED":"NOT VERIFIED"),u.zb(2),u.lc("ngIf",!(null!=t.customerData&&t.customerData.image_url)),u.zb(1),u.lc("ngIf",null==t.customerData?null:t.customerData.image_url),u.zb(1),u.lc("ngIf",t.errorMessage)}}let E=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.customerService=e,this.customerId="",this.errorMessage=""}ngOnInit(){this.customerId=+this.activatedRoute.parent.params._value.customerId,console.log(this.customerId),this.customerService.fetchCustomerInfoById(this.customerId).subscribe(t=>{this.customerData=t.customer_info[0],console.log(this.customerData)})}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(o.a),u.Mb(h))},t.\u0275cmp=u.Gb({type:t,selectors:[["app-customer-detail-info"]],decls:1,vars:1,consts:[["class","card card-primary",4,"ngIf"],[1,"card","card-primary"],[1,"card-body"],[1,"row"],[1,"col-md-8"],[1,"table-key"],[1,"col-md-4"],["class","center-block img-responsive","src","assets/product_images/default_image.jpg",3,"width","margin",4,"ngIf"],["class","center-block img-responsive",3,"src","title","width","margin",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["src","assets/product_images/default_image.jpg",1,"center-block","img-responsive"],[1,"center-block","img-responsive",3,"src","title"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&u.Ac(0,A,45,16,"div",0),2&t&&u.lc("ngIf",e.customerData)},directives:[c.m],pipes:[c.d],styles:[".table-key[_ngcontent-%COMP%]{font-weight:700;padding:0 0 10px 20px}"]}),t})();const x=function(t){return["/merchant",t]};function F(t,e){if(1&t&&(u.Rb(0,"tr"),u.Rb(1,"td",10),u.Rb(2,"a",12),u.Cc(3),u.Qb(),u.Qb(),u.Rb(4,"td"),u.Cc(5),u.Qb(),u.Rb(6,"td"),u.Cc(7),u.Qb(),u.Rb(8,"td"),u.Cc(9),u.Qb(),u.Rb(10,"td"),u.Cc(11),u.Qb(),u.Rb(12,"td"),u.Cc(13),u.Qb(),u.Rb(14,"td"),u.Cc(15),u.Qb(),u.Rb(16,"td"),u.Cc(17),u.Qb(),u.Rb(18,"td"),u.Cc(19),u.gc(20,"number"),u.gc(21,"number"),u.Qb(),u.Rb(22,"td"),u.Cc(23),u.gc(24,"date"),u.Qb(),u.Rb(25,"td",13),u.Cc(26),u.Qb(),u.Qb()),2&t){const t=e.$implicit;u.zb(2),u.lc("routerLink",u.pc(25,x,t.delivery_address_id)),u.zb(1),u.Ec(" ",null==t?null:t.delivery_address_id," "),u.zb(2),u.Ec(" ",null==t?null:t.customer_name," "),u.zb(2),u.Fc(" ",null==t?null:t.address," ",null==t?null:t.address2," "),u.zb(2),u.Ec(" ",null==t?null:t.landmark," "),u.zb(2),u.Ec(" ",null==t?null:t.address_type," "),u.zb(2),u.Ec(" ",null==t?null:t.delivery_phone," "),u.zb(2),u.Gc(" ",null==t?null:t.city,"/",null==t?null:t.state,"/",null==t?null:t.country," "),u.zb(2),u.Ec(" ",null==t?null:t.pincode," "),u.zb(2),u.Fc(" ",u.ic(20,16,null==t?null:t.latitude,"2.1-2"),"/",u.ic(21,19,null==t?null:t.longitude,"2.1-2")," "),u.zb(4),u.Dc(u.ic(24,22,null==t?null:t.last_update,"medium")),u.zb(3),u.Dc(null!=t&&t.status?"Available":"Not Available")}}function j(t,e){if(1&t&&(u.Rb(0,"table",9),u.Rb(1,"thead"),u.Rb(2,"tr"),u.Rb(3,"th",10),u.Cc(4,"Id"),u.Qb(),u.Rb(5,"th"),u.Cc(6,"Customer Name"),u.Qb(),u.Rb(7,"th"),u.Cc(8,"Address"),u.Qb(),u.Rb(9,"th"),u.Cc(10,"Landmark"),u.Qb(),u.Rb(11,"th"),u.Cc(12,"Address Type"),u.Qb(),u.Rb(13,"th"),u.Cc(14,"Phone"),u.Qb(),u.Rb(15,"th"),u.Cc(16,"Location"),u.Qb(),u.Rb(17,"th"),u.Cc(18,"Pincode"),u.Qb(),u.Rb(19,"th"),u.Cc(20,"Lat & Long"),u.Qb(),u.Rb(21,"th"),u.Cc(22,"Last Update"),u.Qb(),u.Rb(23,"th"),u.Cc(24,"Status"),u.Qb(),u.Qb(),u.Qb(),u.Rb(25,"tbody"),u.Ac(26,F,27,27,"tr",11),u.Qb(),u.Qb()),2&t){const t=u.fc();u.zb(26),u.lc("ngForOf",t.addresses)}}function L(t,e){1&t&&(u.Rb(0,"div"),u.Cc(1," No Address Data Found "),u.Qb())}function N(t,e){if(1&t&&(u.Rb(0,"div",14),u.Cc(1),u.Qb()),2&t){const t=u.fc();u.zb(1),u.Ec(" Error: ",t.errorMessage," ")}}const B=function(){return["/merchant/",0,"edit"]};let G=(()=>{class t{constructor(t,e){this._customerService=t,this._activatedRoute=e,this.addresses=[],this.pageTitle="Customer Saved Addresses",this.errorMessage=""}ngOnInit(){this.customerId=+this._activatedRoute.parent.params._value.customerId,this._customerService.fetchCustomerInfoById(this.customerId).subscribe(t=>{this.addresses=t.customer_delivery_addresses,console.log(this.addresses)})}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(h),u.Mb(o.a))},t.\u0275cmp=u.Gb({type:t,selectors:[["app-customer-addresses"]],decls:11,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"btn","btn-outline-secondary",2,"float","right",3,"routerLink"],[1,"card-body"],[1,"row"],[1,"table-responsive"],["style","width:1000px !important","class","table",4,"ngIf"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"table",2,"width","1000px !important"],[2,"width","90px !important"],[4,"ngFor","ngForOf"],[3,"routerLink"],[2,"font-weight","bold"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Cc(2),u.Rb(3,"button",2),u.Cc(4," Add New Address "),u.Qb(),u.Qb(),u.Rb(5,"div",3),u.Nb(6,"div",4),u.Rb(7,"div",5),u.Ac(8,j,27,1,"table",6),u.Ac(9,L,2,0,"div",7),u.Qb(),u.Qb(),u.Qb(),u.Ac(10,N,2,1,"div",8)),2&t&&(u.zb(2),u.Ec(" ",e.pageTitle," "),u.zb(1),u.lc("routerLink",u.oc(5,B)),u.zb(5),u.lc("ngIf",e.addresses.length),u.zb(1),u.lc("ngIf",0==(null==e.addresses?null:e.addresses.length)),u.zb(1),u.lc("ngIf",e.errorMessage))},directives:[o.g,c.m,c.l,o.i],pipes:[c.e,c.d],styles:[""]}),t})();var T=r("wIdL"),V=r("1kSV");const U=function(t){return["/order/",t,"productsinfo"]},$=function(t){return["/merchant/",t,"info"]};function J(t,e){if(1&t){const t=u.Sb();u.Rb(0,"tr"),u.Rb(1,"td",14),u.Rb(2,"a",16),u.Cc(3),u.Qb(),u.Qb(),u.Rb(4,"td"),u.Rb(5,"span",17),u.dc("click",(function(){u.uc(t);const r=e.$implicit;return u.fc(2).ViewOrderedProducts(null==r?null:r.order_id)})),u.Cc(6," Ordered Products "),u.Qb(),u.Qb(),u.Rb(7,"td"),u.Rb(8,"a",16),u.Cc(9),u.Qb(),u.Qb(),u.Rb(10,"td"),u.Cc(11),u.Qb(),u.Rb(12,"td"),u.Cc(13),u.Qb(),u.Rb(14,"td"),u.Cc(15),u.Qb(),u.Rb(16,"td"),u.Cc(17),u.Qb(),u.Rb(18,"td"),u.Cc(19),u.Qb(),u.Rb(20,"td"),u.Cc(21),u.Qb(),u.Rb(22,"td"),u.Cc(23),u.gc(24,"date"),u.Qb(),u.Rb(25,"td",18),u.Cc(26),u.Qb(),u.Qb()}if(2&t){const t=e.$implicit;u.zb(2),u.lc("routerLink",u.pc(15,U,null==t?null:t.order_id)),u.zb(1),u.Ec(" ",null==t?null:t.order_id," "),u.zb(5),u.lc("routerLink",u.pc(17,$,null==t?null:t.store_id)),u.zb(1),u.Ec(" ",null==t?null:t.store_name," "),u.zb(2),u.Ec(" \u20b9 ",null==t?null:t.order_amount," "),u.zb(2),u.Dc(null==t?null:t.voucher_code),u.zb(2),u.Ec("\u20b9 ",null==t?null:t.discount_amount,""),u.zb(2),u.Ec("\u20b9 ",null==t?null:t.order_delivery_fee,""),u.zb(2),u.Ec("\u20b9 ",null==t?null:t.final_amount,""),u.zb(2),u.Dc(1==(null==t?null:t.payment_mode)?"Online":"Cash"),u.zb(2),u.Dc(u.ic(24,12,null==t?null:t.order_placing_date,"medium")),u.zb(3),u.Dc(null==t?null:t.order_status)}}function K(t,e){if(1&t&&(u.Rb(0,"table",13),u.Rb(1,"thead"),u.Rb(2,"tr"),u.Rb(3,"th",14),u.Cc(4,"Transaction Id"),u.Qb(),u.Rb(5,"th"),u.Cc(6,"Product Details"),u.Qb(),u.Rb(7,"th"),u.Cc(8,"Store Name"),u.Qb(),u.Rb(9,"th"),u.Cc(10,"Order Amount"),u.Qb(),u.Rb(11,"th"),u.Cc(12,"Voucher"),u.Qb(),u.Rb(13,"th"),u.Cc(14,"Discount"),u.Qb(),u.Rb(15,"th"),u.Cc(16,"Delivery Fee"),u.Qb(),u.Rb(17,"th"),u.Cc(18,"Payable Amount"),u.Qb(),u.Rb(19,"th"),u.Cc(20,"Payment Mode"),u.Qb(),u.Rb(21,"th"),u.Cc(22,"Order Date"),u.Qb(),u.Rb(23,"th"),u.Cc(24,"Status"),u.Qb(),u.Qb(),u.Qb(),u.Rb(25,"tbody"),u.Ac(26,J,27,19,"tr",15),u.Qb(),u.Qb()),2&t){const t=u.fc();u.zb(26),u.lc("ngForOf",t.customerOrders)}}function Y(t,e){if(1&t){const t=u.Sb();u.Rb(0,"app-pagination",19),u.dc("currentPage",(function(e){return u.uc(t),u.fc().currentPageFn(e)})),u.Qb()}if(2&t){const t=u.fc();u.lc("totalItemCount",t.order_total_count)}}function X(t,e){1&t&&(u.Rb(0,"div"),u.Cc(1," No Stores Data Found "),u.Qb())}function Z(t,e){if(1&t&&(u.Rb(0,"div",20),u.Cc(1),u.Qb()),2&t){const t=u.fc();u.zb(1),u.Ec(" Error: ",t.errorMessage,"\n")}}let H=(()=>{class t{constructor(t,e,r,c){this._activatedRoute=t,this.formBuilder=e,this._customerService=r,this.modalService=c,this.customerOrders=[],this.customerId="",this.pageTitle="Merchant Orders",this.filterBy="",this.errorMessage="",this.currentPage=1,this.pageSize=20,this.searchCriteriaForm=this.formBuilder.group({searchCriteria:[""]})}ViewOrderedProducts(t){const e=this.modalService.open(T.a);e.componentInstance.title="View Products",e.componentInstance.order_id=t}ngOnInit(){this.customerId=+this._activatedRoute.parent.params._value.customerId,this._customerService.fetchAllCustomerOrders(this.customerId,this.currentPage,this.pageSize,"").subscribe(t=>{this.order_total_count=t.customer_order_count[0].customer_orders_count,this.customerOrders=t.customer_orders_info,console.log(this.customerOrders),console.log(this.order_total_count)})}onChanges(){this.searchCriteriaForm.get("searchCriteria").valueChanges.pipe(Object(n.a)(t=>{}),Object(s.a)(),Object(i.a)(200),Object(a.a)(t=>(this.filterBy=t,this._customerService.fetchAllCustomerOrders(this.customerId,this.currentPage,this.pageSize,t)))).subscribe(t=>{this.order_total_count=t.customer_order_count[0].customer_orders_count,this.customerOrders=t.customer_orders_info})}currentPageFn(t){console.log(t),this._customerService.fetchAllCustomerOrders(this.customerId,t,this.pageSize,this.filterBy).subscribe(t=>{this.customerOrders=t.customer_orders_info})}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(o.a),u.Mb(p.c),u.Mb(h),u.Mb(V.b))},t.\u0275cmp=u.Gb({type:t,selectors:[["app-customer-orders"]],decls:15,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-2"],[1,"col-md-4"],[3,"formGroup"],["formControlName","searchCriteria","type","text","id","keyword","placeholder","Search Customer Order By Id","autocomplete","off","autofocus","",1,"form-control",3,"keyup"],[1,"table-responsive"],["style","width:1000px !important","class","table",4,"ngIf"],[3,"totalItemCount","currentPage",4,"ngIf"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"table",2,"width","1000px !important"],[2,"width","90px !important"],[4,"ngFor","ngForOf"],["target","_blank",3,"routerLink"],[2,"display","block","font-size","14px","cursor","pointer","color","blue",3,"click"],[2,"font-weight","bold"],[3,"totalItemCount","currentPage"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.Cc(2),u.Qb(),u.Rb(3,"div",2),u.Rb(4,"div",3),u.Rb(5,"div",4),u.Cc(6,"Filter by:"),u.Qb(),u.Rb(7,"div",5),u.Rb(8,"form",6),u.Rb(9,"input",7),u.dc("keyup",(function(){return e.onChanges()})),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(10,"div",8),u.Ac(11,K,27,1,"table",9),u.Ac(12,Y,1,1,"app-pagination",10),u.Ac(13,X,2,0,"div",11),u.Qb(),u.Qb(),u.Qb(),u.Ac(14,Z,2,1,"div",12)),2&t&&(u.zb(2),u.Ec(" ",e.pageTitle," "),u.zb(6),u.lc("formGroup",e.searchCriteriaForm),u.zb(3),u.lc("ngIf",e.customerOrders.length),u.zb(1),u.lc("ngIf",null==e.customerOrders?null:e.customerOrders.length),u.zb(1),u.lc("ngIf",0==(null==e.customerOrders?null:e.customerOrders.length)),u.zb(1),u.lc("ngIf",e.errorMessage))},directives:[p.u,p.l,p.e,p.b,p.k,p.d,c.m,c.l,o.i,f.a],pipes:[c.d],styles:[""]}),t})(),W=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Gb({type:t,selectors:[["app-customer-cart-info"]],decls:2,vars:0,template:function(t,e){1&t&&(u.Rb(0,"p"),u.Cc(1,"customer-cart-info works!"),u.Qb())},styles:[""]}),t})();var q=r("LRne");const tt=[{path:"",component:z,resolve:{customers:(()=>{class t{constructor(t){this.customerService=t}resolve(t,e){return this.customerService.fetchAllCustomers(1,20,"").pipe(Object(b.a)(t=>({customers:t.customers,customer_total_count:t.customer_total_count.customer_count,error:""})),Object(d.a)(t=>{const e="Retrieval error: "+t;return Object(q.a)({customers:null,error:e})}))}}return t.\u0275fac=function(e){return new(e||t)(u.Zb(h))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}},{path:":customerId",component:M,children:[{path:"",redirectTo:"info",pathMatch:"full"},{path:"info",component:E},{path:"customeraddresses",component:G},{path:"customerorders",component:H},{path:"customercart",component:W}]},{path:":customerId/edit",component:I}];let et=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},imports:[[o.j.forChild(tt)],o.j]}),t})();var rt=r("PCNd");let ct=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},imports:[[c.b,p.p,et,rt.a]]}),t})()}}]);