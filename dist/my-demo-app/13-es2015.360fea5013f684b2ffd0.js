(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{AehD:function(e,t,c){"use strict";c.r(t),c.d(t,"FeedbacksModule",(function(){return S}));var n=c("ofXK"),a=c("tyNb"),o=c("R5w1"),r=c("vkgz"),s=c("/uUt"),d=c("Kj3r"),i=c("eIep"),b=c("fXoL"),f=c("3Pt+"),u=c("cLCs");const l=["app-feedback-data",""],k=function(e){return["/feedbacks/feedbackinfo",e]},p=function(e){return["/customer",e]},h=function(e,t){return{"text-success":e,"text-danger":t}},g=function(e){return["/feedbacks",e,"edit"]};let m=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b.Kb({type:e,selectors:[["","app-feedback-data",""]],inputs:{feedBackInfo:"feedBackInfo"},attrs:l,decls:24,vars:31,consts:[[3,"routerLink"],["target","_blank",3,"routerLink"],[2,"width","50px"],[2,"font-weight","bold",3,"ngClass"],["type","button","target","_blank",1,"btn","btn-outline-secondary",3,"routerLink"]],template:function(e,t){1&e&&(b.Wb(0,"td"),b.Wb(1,"a",0),b.Lc(2),b.Vb(),b.Vb(),b.Wb(3,"td"),b.Wb(4,"a",1),b.Lc(5),b.Vb(),b.Vb(),b.Wb(6,"td",2),b.Wb(7,"a",1),b.Lc(8),b.Vb(),b.Vb(),b.Wb(9,"td"),b.Lc(10),b.Vb(),b.Wb(11,"td"),b.Lc(12),b.Vb(),b.Wb(13,"td"),b.Lc(14),b.Vb(),b.Wb(15,"td"),b.Lc(16),b.nc(17,"date"),b.nc(18,"date"),b.Vb(),b.Wb(19,"td",3),b.Lc(20),b.Vb(),b.Wb(21,"td"),b.Wb(22,"a",4),b.Lc(23," Edit "),b.Vb(),b.Vb()),2&e&&(b.Cb(1),b.tc("routerLink",b.xc(20,k,null==t.feedBackInfo?null:t.feedBackInfo.customer_feedback_id)),b.Cb(1),b.Nc(" ",null==t.feedBackInfo?null:t.feedBackInfo.customer_feedback_id," "),b.Cb(2),b.tc("routerLink",b.xc(22,p,null==t.feedBackInfo?null:t.feedBackInfo.customer_id)),b.Cb(1),b.Nc(" ",null==t.feedBackInfo?null:t.feedBackInfo.customer_id," "),b.Cb(2),b.tc("routerLink",b.xc(24,k,null==t.feedBackInfo?null:t.feedBackInfo.customer_feedback_id)),b.Cb(1),b.Nc(" ",null==t.feedBackInfo?null:t.feedBackInfo.customer_phone," "),b.Cb(2),b.Nc(" ",null==t.feedBackInfo?null:t.feedBackInfo.customer_name,"\n"),b.Cb(2),b.Nc(" ",null==t.feedBackInfo?null:t.feedBackInfo.feedback_text,"\n"),b.Cb(2),b.Nc(" ",null==t.feedBackInfo?null:t.feedBackInfo.action_by,"\n"),b.Cb(2),b.Oc(" ",b.pc(17,14,null==t.feedBackInfo?null:t.feedBackInfo.last_updated,"mediumDate")," ",b.pc(18,17,null==t.feedBackInfo?null:t.feedBackInfo.last_updated,"shortTime"),"\n"),b.Cb(3),b.tc("ngClass",b.yc(26,h,1===(null==t.feedBackInfo?null:t.feedBackInfo.status),0===(null==t.feedBackInfo?null:t.feedBackInfo.status))),b.Cb(1),b.Nc(" ",0===(null==t.feedBackInfo?null:t.feedBackInfo.status)?"Active":"Closed","\n"),b.Cb(2),b.tc("routerLink",b.xc(29,g,null==t.feedBackInfo?null:t.feedBackInfo.customer_feedback_id)))},directives:[a.i,n.l],pipes:[n.e],styles:['td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:14px}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:45px;height:20px;margin:20px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none;background-color:#ccc}.slider[_ngcontent-%COMP%]{cursor:pointer;top:0;bottom:0;background-color:#ccc}.slider[_ngcontent-%COMP%], .slider[_ngcontent-%COMP%]:before{position:absolute;left:0;right:0;transition:.4s}.slider[_ngcontent-%COMP%]:before{content:"";height:26px;width:26px;bottom:-3px;background-color:#2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translateX(20px)}.slider.round[_ngcontent-%COMP%]{border-radius:20px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),e})();var B=c("Exvd");function I(e,t){1&e&&b.Rb(0,"tr",16),2&e&&b.tc("feedBackInfo",t.$implicit)}function C(e,t){if(1&e&&(b.Wb(0,"table",13),b.Wb(1,"thead"),b.Wb(2,"tr"),b.Wb(3,"th",14),b.Lc(4,"Id"),b.Vb(),b.Wb(5,"th"),b.Lc(6,"Customer Id"),b.Vb(),b.Wb(7,"th"),b.Lc(8,"Phone"),b.Vb(),b.Wb(9,"th"),b.Lc(10,"Name"),b.Vb(),b.Wb(11,"th"),b.Lc(12,"Feedback"),b.Vb(),b.Wb(13,"th"),b.Lc(14,"Created By"),b.Vb(),b.Wb(15,"th"),b.Lc(16,"Last Updated"),b.Vb(),b.Wb(17,"th"),b.Lc(18,"Status"),b.Vb(),b.Rb(19,"th"),b.Vb(),b.Vb(),b.Wb(20,"tbody"),b.Jc(21,I,1,1,"tr",15),b.Vb(),b.Vb()),2&e){const e=b.mc();b.Cb(21),b.tc("ngForOf",e.feedBacks)}}function v(e,t){if(1&e){const e=b.Xb();b.Wb(0,"app-pagination",17),b.ic("currentPage",(function(t){return b.Dc(e),b.mc().currentPageFn(t)})),b.Vb()}if(2&e){const e=b.mc();b.tc("totalItemCount",e.feedBacktotalcount)}}function _(e,t){1&e&&(b.Wb(0,"div"),b.Lc(1," No FeedBack Data Found "),b.Vb())}function V(e,t){if(1&e&&(b.Wb(0,"div",18),b.Lc(1),b.Vb()),2&e){const e=b.mc();b.Cb(1),b.Nc(" Error: ",e.errorMessage,"\n")}}let W=(()=>{class e{constructor(e,t,c){this.formBuilder=e,this.feedBackService=t,this.activatedRoute=c,this.pageTitle="Feedbacks Dashboard",this.filterBy="",this.currentPage=1,this.pageSize=20,this.searchCriteriaForm=this.formBuilder.group({searchCriteria:[""]})}ngOnInit(){const e=this.activatedRoute.snapshot.data.resolvedFeedBacks;e instanceof o.a?this.errorMessage=e.errorMessage:(this.feedBacktotalcount=e.customer_feedback_count[0].customer_feedback_count,this.feedBacks=e.customer_feedback_info)}onChanges(){this.searchCriteriaForm.get("searchCriteria").valueChanges.pipe(Object(r.a)(e=>{}),Object(s.a)(),Object(d.a)(200),Object(i.a)(e=>(this.filterBy=e,this.feedBackService.fetchAllFeedBacks(this.currentPage,this.pageSize,e,"")))).subscribe(e=>{console.log(e),this.feedBacktotalcount=e.customer_feedback_count[0].customer_feedback_count,this.feedBacks=e.customer_feedback_info})}currentPageFn(e){console.log(e),this.feedBackService.fetchAllFeedBacks(e,this.pageSize,this.filterBy,"").subscribe(e=>{this.feedBacktotalcount=e.customer_feedback_count[0].customer_feedback_count,this.feedBacks=e.customer_feedback_info})}}return e.\u0275fac=function(t){return new(t||e)(b.Qb(f.d),b.Qb(u.a),b.Qb(a.a))},e.\u0275cmp=b.Kb({type:e,selectors:[["app-feedback-dashboard"]],decls:15,vars:6,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-2"],[1,"col-md-4"],[3,"formGroup"],["formControlName","searchCriteria","type","text","id","keyword","placeholder","Search FeedBack By Phone Number","autocomplete","off","autofocus","",1,"form-control",3,"keyup"],[1,"table-responsive"],["style","width:1200px !important","class","table",4,"ngIf"],[3,"totalItemCount","currentPage",4,"ngIf"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"table",2,"width","1200px !important"],[2,"width","90px !important"],["app-feedback-data","",3,"feedBackInfo",4,"ngFor","ngForOf"],["app-feedback-data","",3,"feedBackInfo"],[3,"totalItemCount","currentPage"],[1,"alert","alert-danger"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Lc(2),b.Vb(),b.Wb(3,"div",2),b.Wb(4,"div",3),b.Wb(5,"div",4),b.Lc(6,"Filter by:"),b.Vb(),b.Wb(7,"div",5),b.Wb(8,"form",6),b.Wb(9,"input",7),b.ic("keyup",(function(){return t.onChanges()})),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Wb(10,"div",8),b.Jc(11,C,22,1,"table",9),b.Jc(12,v,1,1,"app-pagination",10),b.Jc(13,_,2,0,"div",11),b.Vb(),b.Vb(),b.Vb(),b.Jc(14,V,2,1,"div",12)),2&e&&(b.Cb(2),b.Nc(" ",t.pageTitle," "),b.Cb(6),b.tc("formGroup",t.searchCriteriaForm),b.Cb(3),b.tc("ngIf",t.feedBacktotalcount),b.Cb(1),b.tc("ngIf",t.feedBacktotalcount),b.Cb(1),b.tc("ngIf",0==t.feedBacktotalcount),b.Cb(1),b.tc("ngIf",t.errorMessage))},directives:[f.w,f.n,f.f,f.c,f.m,f.e,n.n,n.m,m,B.a],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:14px}"]}),e})();var L=c("LRne"),y=c("JIr8");let M=(()=>{class e{constructor(e){this.feedBackService=e,this.pagenumber=1,this.pagesize=20,this.filterBy=""}resolve(e,t){return this.feedBackService.fetchAllFeedBacks(this.pagenumber,this.pagesize,this.filterBy,"").pipe(Object(y.a)(e=>Object(L.a)(e)))}}return e.\u0275fac=function(t){return new(t||e)(b.ec(u.a))},e.\u0275prov=b.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var O=c("ipeC");function F(e,t){if(1&e&&(b.Wb(0,"div",2),b.Wb(1,"div",0),b.Wb(2,"div",1),b.Wb(3,"span"),b.Lc(4),b.Wb(5,"span",8),b.Lc(6),b.nc(7,"date"),b.Vb(),b.Vb(),b.Vb(),b.Wb(8,"div",5),b.Lc(9),b.Vb(),b.Vb(),b.Vb()),2&e){const e=t.$implicit;b.Cb(4),b.Nc(" Message Id: ",null==e?null:e.message_id," "),b.Cb(2),b.Nc(" ",b.pc(7,3,null==e?null:e.last_updated,"medium")," "),b.Cb(3),b.Nc(" ",null==e?null:e.feedback_text," ")}}function w(e,t){if(1&e&&(b.Wb(0,"div"),b.Jc(1,F,10,6,"div",7),b.Vb()),2&e){const e=b.mc();b.Cb(1),b.tc("ngForOf",e.customerFeedbackMessages)}}const x=function(e){return["/feedbacks/",e,"edit"]},P=[{path:"",component:W,resolve:{resolvedFeedBacks:M}},{path:":feedbackId/edit",component:O.a},{path:"feedbackinfo/:feedbackId/message/:messageId",component:(()=>{class e{constructor(e){this.activatedRoute=e,this.pageTitle="Customer Feedback Messages"}ngOnInit(){this.feedbackId=this.activatedRoute.snapshot.paramMap.get("feedbackId");const e=this.activatedRoute.snapshot.data.resolvedFeedBackDetail;e instanceof o.a?this.errorMessage=e.errorMessage:(this.customerFeedbackMessages=e.customer_feedback_messages,this.customerInfo=e.customer_feedback_info[0],this.feedBackMessagestotalcount=e.customer_feedback_messages_count[0].customer_feedbacks_count,console.log(this.customerFeedbackMessages),console.log(this.feedBackMessagestotalcount),console.log(this.customerInfo))}}return e.\u0275fac=function(t){return new(t||e)(b.Qb(a.a))},e.\u0275cmp=b.Kb({type:e,selectors:[["app-feedback-detail-info"]],decls:10,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"row"],[1,"col-md-6"],["type","button",1,"btn","btn-outline-secondary",2,"float","right",3,"routerLink"],[1,"card-body"],[4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[2,"float","right","margin-left","10px"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Wb(2,"div",2),b.Wb(3,"div",3),b.Lc(4),b.Vb(),b.Wb(5,"div",3),b.Wb(6,"a",4),b.Lc(7," Add New FeedBack "),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Wb(8,"div",5),b.Jc(9,w,2,1,"div",6),b.Vb(),b.Vb()),2&e&&(b.Cb(4),b.Nc(" ",t.pageTitle," "),b.Cb(2),b.tc("routerLink",b.xc(3,x,t.feedbackId)),b.Cb(3),b.tc("ngIf",t.feedBackMessagestotalcount>0))},directives:[a.i,n.n,n.m],pipes:[n.e],styles:[""]}),e})(),resolve:{resolvedFeedBackDetail:(()=>{class e{constructor(e){this.feedBackService=e}resolve(e,t){return this.feedBackService.fetchFeedBackDetailById(+e.params.feedbackId).pipe(Object(y.a)(e=>Object(L.a)(e)))}}return e.\u0275fac=function(t){return new(t||e)(b.ec(u.a))},e.\u0275prov=b.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}];let N=(()=>{class e{}return e.\u0275mod=b.Ob({type:e}),e.\u0275inj=b.Nb({factory:function(t){return new(t||e)},imports:[[a.j.forChild(P)],a.j]}),e})();var j=c("PCNd");let S=(()=>{class e{}return e.\u0275mod=b.Ob({type:e}),e.\u0275inj=b.Nb({factory:function(t){return new(t||e)},imports:[[n.c,f.r,N,j.a]]}),e})()},R5w1:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));class n{}}}]);