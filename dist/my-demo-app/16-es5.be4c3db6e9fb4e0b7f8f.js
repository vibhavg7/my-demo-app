function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var c=e[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{lE2P:function(t,e,r){"use strict";r.r(e);var c=r("fXoL"),o=r("QJ7G"),a=r("tyNb"),i=r("ofXK"),n=r("Q6/5"),u=["class","card",4,"ngIf"],d=["class","alert alert-danger",4,"ngIf"],s=[1,"card"],l=[1,"card-header"],b=[1,"card-body"],p=[1,"row"],v=[1,"col-md-8"],g=[1,"col-md-4"],f=[3,"rating","ratingClicked"],m=[1,"center-block","img-responsive",3,"src","title"],C=[1,"card-footer"],h=[1,"btn","btn-outline-secondary",2,"width","80px",3,"click"],W=[1,"fa","fa-chevron-left"],Y=["type","button","target","_blank",1,"btn","btn-outline-secondary",2,"width","80px",3,"routerLink"],y=["/products/",0,"edit"];function D(t,e){if(1&t){var r=c.Zb();c.Yb(0,"div",s),c.Yb(1,"div",l),c.Mc(2),c.Wb(),c.Yb(3,"div",b),c.Yb(4,"div",p),c.Yb(5,"div",v),c.Yb(6,"div",p),c.Yb(7,"div",g),c.Mc(8,"Name:"),c.Wb(),c.Yb(9,"div",v),c.Mc(10),c.Wb(),c.Wb(),c.Yb(11,"div",p),c.Yb(12,"div",g),c.Mc(13,"Code:"),c.Wb(),c.Yb(14,"div",v),c.Mc(15),c.Wb(),c.Wb(),c.Yb(16,"div",p),c.Yb(17,"div",g),c.Mc(18,"Release Date:"),c.Wb(),c.Yb(19,"div",v),c.Mc(20),c.nc(21,"date"),c.Wb(),c.Wb(),c.Yb(22,"div",p),c.Yb(23,"div",g),c.Mc(24,"Last Updated:"),c.Wb(),c.Yb(25,"div",v),c.Mc(26),c.nc(27,"date"),c.Wb(),c.Wb(),c.Yb(28,"div",p),c.Yb(29,"div",g),c.Mc(30,"Description:"),c.Wb(),c.Yb(31,"div",v),c.Mc(32),c.Wb(),c.Wb(),c.Yb(33,"div",p),c.Yb(34,"div",g),c.Mc(35,"Price:"),c.Wb(),c.Yb(36,"div",v),c.Mc(37),c.Wb(),c.Wb(),c.Yb(38,"div",p),c.Yb(39,"div",g),c.Mc(40,"Star Rating:"),c.Wb(),c.Yb(41,"div",v),c.Yb(42,"app-star",f),c.jc("ratingClicked",(function(t){return c.Ac(r),c.mc().onRatingClicked(t)})),c.Wb(),c.Wb(),c.Wb(),c.Yb(43,"div",p),c.Yb(44,"div",g),c.Mc(45,"Category Name:"),c.Wb(),c.Yb(46,"div",v),c.Mc(47),c.Wb(),c.Wb(),c.Yb(48,"div",p),c.Yb(49,"div",g),c.Mc(50,"Available:"),c.Wb(),c.Yb(51,"div",v),c.Mc(52),c.Wb(),c.Wb(),c.Wb(),c.Yb(53,"div",g),c.Yb(54,"img",m),c.Ic(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Yb(55,"div",C),c.Yb(56,"button",h),c.jc("click",(function(t){return c.Ac(r),c.mc().onBack()})),c.Tb(57,"i",W),c.Mc(58," Back "),c.Wb(),c.Yb(59,"a",Y),c.Tb(60,"i",W),c.Mc(61," Edit "),c.Wb(),c.Wb(),c.Wb()}if(2&t){var o=c.mc();c.Cc(2),c.Oc(" ",o.pageTitle," "),c.Cc(10),c.Nc(null==o.productData?null:o.productData.productName),c.Cc(15),c.Nc(null==o.productData?null:o.productData.productCode),c.Cc(20),c.Nc(c.pc(21,15,null==o.productData?null:o.productData.releaseDate,"medium")),c.Cc(26),c.Nc(c.pc(27,18,null==o.productData?null:o.productData.lastUpdated,"medium")),c.Cc(32),c.Nc(null==o.productData?null:o.productData.description),c.Cc(37),c.Nc(null==o.productData?null:o.productData.price),c.Cc(42),c.sc("rating",null==o.productData?null:o.productData.starRating),c.Cc(47),c.Nc(null==o.productData?null:o.productData.categoryName),c.Cc(52),c.Nc(null==o.productData?null:o.productData.available?"Available":"Not Available"),c.Cc(54),c.Hc("width",200,"px"),c.Hc("margin",2,"px"),c.Jc(),c.uc("src","assets/product_images/",null==o.productData?null:o.productData.image_url,"",c.Bc),c.sc("title",null==o.productData?null:o.productData.productName),c.Cc(59),c.sc("routerLink",y)}}var _=[1,"alert","alert-danger"];function P(t,e){if(1&t&&(c.Yb(0,"div",_),c.Mc(1),c.Wb()),2&t){var r=c.mc();c.Cc(1),c.Oc("",r.errorMessage,"\n")}}var M,k,I,N=((M=function(){function t(e,r,c){_classCallCheck(this,t),this._productService=e,this.router=r,this._activatedRoute=c}return _createClass(t,[{key:"onBack",value:function(){this.router.navigate(["/products"],{queryParamsHandling:"preserve"})}},{key:"onEdit",value:function(){this.router.navigate(["products",this.productId,"edit"])}},{key:"ngOnInit",value:function(){var t=this._activatedRoute.snapshot.data.product;this.errorMessage=t.error,this.onProductRetrieved(t.product)}},{key:"onRatingClicked",value:function(t){console.log(t)}},{key:"onProductRetrieved",value:function(t){this.productData=t,this.pageTitle=this.productData?"Product Detail: ".concat(this.productData.productName):"No product found"}}]),t}()).ngComponentDef=c.Mb({type:M,selectors:[["ng-component"]],factory:function(t){return new(t||M)(c.Sb(o.a),c.Sb(a.f),c.Sb(a.a))},consts:2,vars:2,template:function(t,e){1&t&&(c.Kc(0,D,62,21,"div",u),c.Kc(1,P,2,1,"div",d)),2&t&&(c.sc("ngIf",e.productData),c.Cc(1),c.sc("ngIf",e.errorMessage))},directives:[i.m,n.a,a.i],pipes:[i.d],styles:[""]}),M),S=r("PCNd"),O=r("LRne"),w=r("lJxs"),j=r("JIr8"),R=((I=function(){function t(e){_classCallCheck(this,t),this.productDataService=e}return _createClass(t,[{key:"resolve",value:function(t,e){var r=+t.paramMap.get("id");if(isNaN(r)){var c="Product id is not a number:".concat(r);return console.error(c),Object(O.a)({product:null,error:c})}return this.productDataService.getProduct(r).pipe(Object(w.a)((function(t){return{product:t,error:""}})),Object(j.a)((function(t){var e="Retrieval error: ".concat(t);return Object(O.a)({product:null,error:e})})))}}]),t}()).ngInjectableDef=c.Ob({token:I,factory:function(t){return new(t||I)(c.hc(o.a))},providedIn:"root"}),I),F=((k=function(){function t(e){_classCallCheck(this,t),this.productDataService=e}return _createClass(t,[{key:"resolve",value:function(t,e){return this.productDataService.getProducts(1,20,"").pipe(Object(w.a)((function(t){return{product:t.products,product_total_count:t.productCount,error:""}})),Object(j.a)((function(t){var e="Retrieval error: ".concat(t);return Object(O.a)({product:null,error:e})})))}}]),t}()).ngInjectableDef=c.Ob({token:k,factory:function(t){return new(t||k)(c.hc(o.a))},providedIn:"root"}),k),K=r("vkgz"),T=r("/uUt"),x=r("Kj3r"),q=r("eIep"),A=r("kt0X"),E={showProductCode:!0,currentProduct:null,products:[]};function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TOGGLE_PRODUCT_CODE":return Object.assign({},t,{showProductCode:e.payload});default:return t}}var V=Object(A.m)("products"),L=Object(A.n)(V,(function(t){return t.showProductCode})),U=r("3Pt+"),G=r("Exvd"),J=r("CvK3"),Z=[4,"ngIf"];function H(t,e){if(1&t&&(c.Vb(0),c.Mc(1),c.Ub()),2&t){var r=c.mc();c.Cc(1),c.Oc(" - ",null==r.productData?null:r.productData.productCode,"\n")}}var $,z=(($=function(){function t(e){_classCallCheck(this,t),this.store=e,this.showProductCode=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.store.pipe(Object(A.o)(L)).subscribe((function(e){t.showProductCode=e}))}}]),t}()).ngComponentDef=c.Mb({type:$,selectors:[["app-product-shell-list-item"]],factory:function(t){return new(t||$)(c.Sb(A.h))},inputs:{productData:["productInfo1","productData"]},consts:3,vars:4,template:function(t,e){1&t&&(c.Mc(0),c.nc(1,"upperCaseName"),c.Kc(2,H,2,1,"ng-container",Z)),2&t&&(c.Oc("",c.oc(1,2,null==e.productData?null:e.productData.productName),"\n"),c.Cc(2),c.sc("ngIf",e.showProductCode))},directives:[i.m],pipes:[J.a],styles:[""]}),$),Q=[1,"card"],X=[1,"card-header"],tt=["type","button","target","_blank",1,"btn","btn-outline-secondary",2,"float","right",3,"routerLink"],et=[1,"card-body"],rt=[3,"formGroup"],ct=[1,"form-group"],ot=["formControlName","searchCriteria","type","text","id","inputError","autocomplete","off","autofocus","","placeholder","Search Products",1,"form-control",3,"keyup"],at=[1,"glyphicon","glyphicon-remove","form-control-feedback"],it=[4,"ngIf"],nt=[1,"card-footer"],ut=[1,"row"],dt=[1,"form-check","col-md-12"],st=["type","checkbox",1,"form-check-input",3,"checked","change"],lt=["class","alert alert-danger",4,"ngIf"],bt=[3,"totalItemCount","currentPage",4,"ngIf"],pt=[1,"list-group"],vt=["type","button","class","list-group-item",3,"ngClass","click",4,"ngFor","ngForOf"],gt=[3,"totalItemCount","currentPage"];function ft(t,e){if(1&t){var r=c.Zb();c.Yb(0,"app-pagination",gt),c.jc("currentPage",(function(t){return c.Ac(r),c.mc(2).currentPageFn(t)})),c.Wb()}if(2&t){var o=c.mc(2);c.sc("totalItemCount",o.productsCount)}}var mt=["type","button",1,"list-group-item",3,"ngClass","click"],Ct=[3,"productInfo1"],ht=function(t){return{active:t}};function Wt(t,e){if(1&t){var r=c.Zb();c.Yb(0,"button",mt),c.jc("click",(function(t){c.Ac(r);var o=e.$implicit;return c.mc(2).onSelected(o)})),c.Tb(1,"app-product-shell-list-item",Ct),c.Wb()}if(2&t){var o=e.$implicit,a=c.mc(2);c.sc("ngClass",c.vc(2,ht,(null==a.selectedProduct?null:a.selectedProduct.productId)==(null==o?null:o.productId))),c.Cc(1),c.sc("productInfo1",o)}}function Yt(t,e){if(1&t&&(c.Yb(0,"div"),c.Kc(1,ft,1,1,"app-pagination",bt),c.Yb(2,"div",pt),c.Kc(3,Wt,2,4,"button",vt),c.Wb(),c.Wb()),2&t){var r=c.mc();c.Cc(1),c.sc("ngIf",r.productsCount>0),c.Cc(3),c.sc("ngForOf",r.products)}}function yt(t,e){1&t&&(c.Yb(0,"div"),c.Yb(1,"span"),c.Mc(2,"No Products Found in catelog"),c.Wb(),c.Wb())}var Dt=[1,"alert","alert-danger"];function _t(t,e){if(1&t&&(c.Yb(0,"div",Dt),c.Mc(1),c.Wb()),2&t){var r=c.mc();c.Cc(1),c.Oc(" Error: ",r.errorMessage," ")}}var Pt,Mt=["/products/",0,"edit"],kt=((Pt=function(){function t(e,r,c,o,a){_classCallCheck(this,t),this._productService=e,this.router=r,this.formBuilder=c,this.store=o,this._activatedRoute=a,this.filterBy="",this.pageTitle="Products Listing",this.productsCount=0,this.Pages=[],this.pageSize=20,this.searchCriteriaForm=this.formBuilder.group({searchCriteria:[""]})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.currentPage=1,this.sub=this._productService.selectProductChanges$.subscribe((function(e){t.selectedProduct=e})),this.store.pipe(Object(A.o)(L)).subscribe((function(e){t.displayCode=e}));var e=this._activatedRoute.snapshot.data.products.product;this.productsCount=+this._activatedRoute.snapshot.data.products.product_total_count,this.onProductRetrieved(e)}},{key:"onChanges",value:function(){var t=this;this.searchCriteriaForm.get("searchCriteria").valueChanges.pipe(Object(K.a)((function(t){console.log(t)})),Object(T.a)(),Object(x.a)(2e3),Object(q.a)((function(e){return t.filterBy=e,console.log(t.filterBy),t._productService.getProducts(t.currentPage,t.pageSize,t.filterBy)}))).subscribe((function(e){t.onProductRetrieved(e.products),t.productsCount=e.productCount}))}},{key:"currentPageFn",value:function(t){var e=this;this.currentPage=t,this._productService.getProducts(this.currentPage,this.pageSize,this.filterBy).subscribe((function(t){e.onProductRetrieved(t.products)}))}},{key:"checkChanged",value:function(t){this.store.dispatch({type:"TOGGLE_PRODUCT_CODE",payload:t})}},{key:"onSelected",value:function(t){this._productService.changeSelectedProduct(t.productId)}},{key:"onProductRetrieved",value:function(t){this.products=t}},{key:"addProduct",value:function(){this.router.navigate(["products","0","edit"])}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe()}}]),t}()).ngComponentDef=c.Mb({type:Pt,selectors:[["app-product-shell-list"]],factory:function(t){return new(t||Pt)(c.Sb(o.a),c.Sb(a.f),c.Sb(U.c),c.Sb(A.h),c.Sb(a.a))},consts:20,vars:7,template:function(t,e){1&t&&(c.Yb(0,"div",Q),c.Yb(1,"div",X),c.Mc(2),c.Yb(3,"a",tt),c.Mc(4," Add New Product "),c.Wb(),c.Wb(),c.Yb(5,"div",et),c.Yb(6,"form",rt),c.Yb(7,"div",ct),c.Yb(8,"div"),c.Yb(9,"input",ot),c.jc("keyup",(function(t){return e.onChanges()})),c.Wb(),c.Tb(10,"span",at),c.Wb(),c.Wb(),c.Wb(),c.Kc(11,Yt,4,2,"div",it),c.Kc(12,yt,3,0,"div",it),c.Wb(),c.Yb(13,"div",nt),c.Yb(14,"div",ut),c.Yb(15,"div",dt),c.Yb(16,"label"),c.Yb(17,"input",st),c.jc("change",(function(t){return e.checkChanged(t.target.checked)})),c.Wb(),c.Mc(18," Display Product Code "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Kc(19,_t,2,1,"div",lt),c.Wb()),2&t&&(c.Cc(2),c.Oc(" ",e.pageTitle," "),c.Cc(3),c.sc("routerLink",Mt),c.Cc(6),c.sc("formGroup",e.searchCriteriaForm),c.Cc(11),c.sc("ngIf",e.productsCount>0),c.Cc(12),c.sc("ngIf",0==e.productsCount),c.Cc(17),c.sc("checked",e.displayCode),c.Cc(19),c.sc("ngIf",e.errorMessage))},directives:[a.i,U.v,U.l,U.e,U.b,U.k,U.d,i.m,i.l,G.a,i.k,z],styles:[""]}),Pt),It=r("chph"),Nt=r("1kSV"),St=["class","card card-primary",4,"ngIf"],Ot=[1,"card","card-primary"],wt=[1,"card-header"],jt=[1,"card-body"],Rt=[1,"row"],Ft=[1,"col-md-8"],Kt=[1,"col-md-4","product-detail-label"],Tt=[3,"rating","ratingClicked"],xt=[1,"col-md-4"],qt=["class","center-block img-responsive","src","assets/product_images/default_image.jpg",3,"title","width","margin",4,"ngIf"],At=["class","center-block img-responsive",3,"src","title","width","margin",4,"ngIf"],Et=["style","display:block;text-align:center;cursor:pointer;color:blue",3,"click",4,"ngIf"],Bt=[1,"card-footer"],Vt=[1,"row","mb-2"],Lt=[1,"btn","btn-primary","mr-3",3,"routerLink"],Ut=[1,"fa","fa-edit"],Gt=["class","alert alert-danger",4,"ngIf"],Jt=["src","assets/product_images/default_image.jpg",1,"center-block","img-responsive",3,"title"];function Zt(t,e){if(1&t&&(c.Yb(0,"img",Jt),c.Ic(),c.Wb()),2&t){var r=c.mc(2);c.Hc("width",200,"px"),c.Hc("margin",2,"px"),c.Jc(),c.sc("title",null==r.productData?null:r.productData.productName)}}var Ht=[1,"center-block","img-responsive",3,"src","title"];function $t(t,e){if(1&t&&(c.Yb(0,"img",Ht),c.Ic(),c.Wb()),2&t){var r=c.mc(2);c.Hc("width",200,"px"),c.Hc("margin",2,"px"),c.Jc(),c.tc("src",r.imageurl,c.Bc),c.sc("title",null==r.productData?null:r.productData.productName)}}var zt=[2,"display","block","text-align","center","cursor","pointer","color","blue",3,"click"];function Qt(t,e){if(1&t){var r=c.Zb();c.Yb(0,"span",zt),c.jc("click",(function(t){return c.Ac(r),c.mc(2).uploadImage()})),c.Mc(1," Upload Image "),c.Wb()}}function Xt(t,e){if(1&t){var r=c.Zb();c.Yb(0,"span",zt),c.jc("click",(function(t){return c.Ac(r),c.mc(2).uploadImage()})),c.Mc(1," Change Image "),c.Wb()}}var te=[1,"alert","alert-danger"];function ee(t,e){if(1&t&&(c.Yb(0,"div",te),c.Mc(1),c.Wb()),2&t){var r=c.mc(2);c.Cc(1),c.Oc("",r.errorMessage," ")}}var re=function(t){return["/products",t,"edit"]};function ce(t,e){if(1&t){var r=c.Zb();c.Yb(0,"div",Ot),c.Yb(1,"div",wt),c.Mc(2),c.Wb(),c.Yb(3,"div",jt),c.Yb(4,"div",Rt),c.Yb(5,"div",Ft),c.Yb(6,"div",Rt),c.Yb(7,"div",Kt),c.Mc(8,"Name:"),c.Wb(),c.Yb(9,"div",Ft),c.Mc(10),c.nc(11,"upperCaseName"),c.Wb(),c.Wb(),c.Yb(12,"div",Rt),c.Yb(13,"div",Kt),c.Mc(14,"Code:"),c.Wb(),c.Yb(15,"div",Ft),c.Mc(16),c.nc(17,"upperCaseName"),c.Wb(),c.Wb(),c.Yb(18,"div",Rt),c.Yb(19,"div",Kt),c.Mc(20,"Weight:"),c.Wb(),c.Yb(21,"div",Ft),c.Mc(22),c.Wb(),c.Wb(),c.Yb(23,"div",Rt),c.Yb(24,"div",Kt),c.Mc(25,"Release Date:"),c.Wb(),c.Yb(26,"div",Ft),c.Mc(27),c.nc(28,"date"),c.Wb(),c.Wb(),c.Yb(29,"div",Rt),c.Yb(30,"div",Kt),c.Mc(31,"Last Updated:"),c.Wb(),c.Yb(32,"div",Ft),c.Mc(33),c.nc(34,"date"),c.Wb(),c.Wb(),c.Yb(35,"div",Rt),c.Yb(36,"div",Kt),c.Mc(37,"Description:"),c.Wb(),c.Yb(38,"div",Ft),c.Mc(39),c.Wb(),c.Wb(),c.Yb(40,"div",Rt),c.Yb(41,"div",Kt),c.Mc(42,"Price:"),c.Wb(),c.Yb(43,"div",Ft),c.Mc(44),c.Wb(),c.Wb(),c.Yb(45,"div",Rt),c.Yb(46,"div",Kt),c.Mc(47,"Star Rating:"),c.Wb(),c.Yb(48,"div",Ft),c.Yb(49,"app-star",Tt),c.jc("ratingClicked",(function(t){return c.Ac(r),c.mc().onRatingClicked(t)})),c.Wb(),c.Wb(),c.Wb(),c.Yb(50,"div",Rt),c.Yb(51,"div",Kt),c.Mc(52,"Category Name:"),c.Wb(),c.Yb(53,"div",Ft),c.Mc(54),c.nc(55,"upperCaseName"),c.Wb(),c.Wb(),c.Yb(56,"div",Rt),c.Yb(57,"div",Kt),c.Mc(58,"Available:"),c.Wb(),c.Yb(59,"div",Ft),c.Mc(60),c.Wb(),c.Wb(),c.Wb(),c.Yb(61,"div",xt),c.Kc(62,Zt,1,3,"img",qt),c.Kc(63,$t,1,4,"img",At),c.Kc(64,Qt,2,0,"span",Et),c.Kc(65,Xt,2,0,"span",Et),c.Wb(),c.Wb(),c.Wb(),c.Yb(66,"div",Bt),c.Yb(67,"div",Vt),c.Yb(68,"div",Ft),c.Yb(69,"button",Lt),c.Tb(70,"i",Ut),c.Mc(71," Edit "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Kc(72,ee,2,1,"div",Gt),c.Wb()}if(2&t){var o=c.mc();c.Cc(2),c.Oc(" ",null==o.productData?null:o.productData.productName," "),c.Cc(10),c.Nc(c.oc(11,17,null==o.productData?null:o.productData.productName)),c.Cc(16),c.Nc(c.oc(17,19,null==o.productData?null:o.productData.productCode)),c.Cc(22),c.Oc(" ",null==o.productData?null:o.productData.product_weight?(null==o.productData?null:o.productData.product_weight)+" "+(null==o.productData?null:o.productData.weight_text):"Not Available"," "),c.Cc(27),c.Nc(c.pc(28,21,null==o.productData?null:o.productData.releaseDate,"short")),c.Cc(33),c.Nc(c.pc(34,24,null==o.productData?null:o.productData.lastUpdated,"short")),c.Cc(39),c.Nc(null==o.productData?null:o.productData.description),c.Cc(44),c.Nc(null==o.productData?null:o.productData.price),c.Cc(49),c.sc("rating",null==o.productData?null:o.productData.starRating),c.Cc(54),c.Nc(c.oc(55,27,null==o.productData?null:o.productData.categoryName)),c.Cc(60),c.Nc(null==o.productData?null:o.productData.available?"Available":"Not Available"),c.Cc(62),c.sc("ngIf",!o.imageurl),c.Cc(63),c.sc("ngIf",o.imageurl),c.Cc(64),c.sc("ngIf",!o.imageurl),c.Cc(65),c.sc("ngIf",o.imageurl),c.Cc(69),c.sc("routerLink",c.vc(29,re,o.productData.productId)),c.Cc(72),c.sc("ngIf",o.errorMessage)}}var oe,ae,ie=((oe=function(){function t(e,r){_classCallCheck(this,t),this.productService=e,this.modalService=r,this.pageTitle="Product Detail",this.imageurl="",this.productid=""}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.sub=this.productService.selectProductChanges$.subscribe((function(e){e&&(t.imageurl=e.image_url,t.productid=e.productId),t.productData=e,console.log(t.productData)}))}},{key:"onRatingClicked",value:function(t){}},{key:"uploadImage",value:function(){var t=this,e=this.modalService.open(It.a);e.componentInstance.title="Image Upload",e.componentInstance.image_type="products",e.componentInstance.id=this.productid,e.componentInstance.productImage.subscribe((function(e){t.imageurl=e.image_url,t.productService.updateProductImageUrl(t.imageurl,t.productid)}))}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe()}}]),t}()).ngComponentDef=c.Mb({type:oe,selectors:[["app-product-shell-detail"]],factory:function(t){return new(t||oe)(c.Sb(o.a),c.Sb(Nt.b))},consts:1,vars:1,template:function(t,e){1&t&&c.Kc(0,ce,73,31,"div",St),2&t&&c.sc("ngIf",e.productData)},directives:[i.m,n.a,a.g],pipes:[J.a,i.d],styles:[".product-detail-label[_ngcontent-%COMP%]{font-weight:700}"]}),oe),ne=[1,"row"],ue=[1,"scroll"],de=[1,"col-md-8"],se=((ae=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).ngComponentDef=c.Mb({type:ae,selectors:[["app-product-shell"]],factory:function(t){return new(t||ae)},consts:5,vars:0,template:function(t,e){1&t&&(c.Yb(0,"div",ne),c.Yb(1,"div",ue),c.Tb(2,"app-product-shell-list"),c.Wb(),c.Yb(3,"div",de),c.Tb(4,"app-product-shell-detail"),c.Wb(),c.Wb())},directives:[kt,ie],styles:["div.scroll[_ngcontent-%COMP%]{margin:4px,;padding:4px;width:350px;height:500px;overflow-x:auto;text-align:justify}"]}),ae),le=r("9d4Z"),be=[1,"jumbotron"],pe=[1,"container"],ve=[1,"row"],ge=[1,"col-md-6","offset-md-3"],fe=[3,"formGroup","ngSubmit"],me=[1,"form-group"],Ce=["type","text","formControlName","productName",1,"form-control",3,"ngClass"],he=["class","invalid-feedback",4,"ngIf"],We=["formControlName","storeCategoryName",1,"form-control",3,"change"],Ye=[3,"value",4,"ngFor","ngForOf"],ye=[1,"col-md-6"],De=["formControlName","storeSubCategoryName",1,"form-control",3,"change"],_e=["formControlName","subCategoryName",1,"form-control"],Pe=["formControlName","productWeightType",1,"form-control"],Me=["selected","","value","1"],ke=["value","2"],Ie=["value","3"],Ne=["value","5"],Se=["value","4"],Oe=["value","6"],we=["type","text","formControlName","productPrice",1,"form-control",3,"ngClass"],je=["type","text","formControlName","productWeight",1,"form-control",3,"ngClass"],Re=["type","text","formControlName","productCode",1,"form-control",3,"ngClass"],Fe=["row","3","formControlName","productDescription",1,"form-control",3,"ngClass"],Ke=["type","text","formControlName","productRating",1,"form-control",3,"ngClass"],Te=["for",""],xe=["formControlName","status",1,"form-control"],qe=["value","1"],Ae=["value","0"],Ee=[1,"btn","btn-primary","mr-3"],Be=[1,"fa","fa-save"],Ve=["class","btn btn-primary mr-3",3,"click",4,"ngIf"],Le=[1,"invalid-feedback"],Ue=[4,"ngIf"];function Ge(t,e){1&t&&(c.Yb(0,"div"),c.Mc(1,"Product Name is required"),c.Wb())}function Je(t,e){if(1&t&&(c.Yb(0,"div",Le),c.Kc(1,Ge,2,0,"div",Ue),c.Wb()),2&t){var r=c.mc();c.Cc(1),c.sc("ngIf",r.f.productName.errors.required)}}var Ze=[3,"value"];function He(t,e){if(1&t&&(c.Yb(0,"option",Ze),c.Mc(1),c.Wb()),2&t){var r=e.$implicit;c.tc("value",null==r?null:r.store_category_id),c.Cc(1),c.Oc(" ",r.store_category_name," ")}}function $e(t,e){if(1&t&&(c.Yb(0,"option",Ze),c.Mc(1),c.nc(2,"upperCaseName"),c.Wb()),2&t){var r=e.$implicit;c.tc("value",null==r?null:r.store_sub_category_id),c.Cc(1),c.Oc(" ",c.oc(2,2,r.store_sub_category)," ")}}function ze(t,e){if(1&t&&(c.Yb(0,"option",Ze),c.Mc(1),c.nc(2,"upperCaseName"),c.Wb()),2&t){var r=e.$implicit;c.tc("value",null==r?null:r.sub_category_id),c.Cc(1),c.Oc(" ",c.oc(2,2,r.sub_category_name)," ")}}function Qe(t,e){1&t&&(c.Yb(0,"div"),c.Mc(1,"Product Price is required"),c.Wb())}function Xe(t,e){if(1&t&&(c.Yb(0,"div",Le),c.Kc(1,Qe,2,0,"div",Ue),c.Wb()),2&t){var r=c.mc();c.Cc(1),c.sc("ngIf",r.f.productPrice.errors.required)}}function tr(t,e){1&t&&(c.Yb(0,"div"),c.Mc(1,"Product weight is required"),c.Wb())}function er(t,e){if(1&t&&(c.Yb(0,"div",Le),c.Kc(1,tr,2,0,"div",Ue),c.Wb()),2&t){var r=c.mc();c.Cc(1),c.sc("ngIf",r.f.productWeight.errors.required)}}function rr(t,e){1&t&&(c.Yb(0,"div"),c.Mc(1,"Product Code is required"),c.Wb())}function cr(t,e){if(1&t&&(c.Yb(0,"div",Le),c.Kc(1,rr,2,0,"div",Ue),c.Wb()),2&t){var r=c.mc();c.Cc(1),c.sc("ngIf",r.f.productCode.errors.required)}}function or(t,e){1&t&&(c.Yb(0,"div"),c.Mc(1,"Product Description is required"),c.Wb())}function ar(t,e){if(1&t&&(c.Yb(0,"div",Le),c.Kc(1,or,2,0,"div",Ue),c.Wb()),2&t){var r=c.mc();c.Cc(1),c.sc("ngIf",r.f.productDescription.errors.required)}}function ir(t,e){1&t&&(c.Yb(0,"div"),c.Mc(1,"Product Rating is required"),c.Wb())}function nr(t,e){if(1&t&&(c.Yb(0,"div",Le),c.Kc(1,ir,2,0,"div",Ue),c.Wb()),2&t){var r=c.mc();c.Cc(1),c.sc("ngIf",r.f.productRating.errors.required)}}var ur=[1,"btn","btn-primary","mr-3",3,"click"],dr=[1,"fa","fa-trash"];function sr(t,e){if(1&t){var r=c.Zb();c.Yb(0,"button",ur),c.jc("click",(function(t){return c.Ac(r),c.mc().deleteProduct()})),c.Tb(1,"i",dr),c.Mc(2," Delete "),c.Wb()}}var lr,br,pr=function(t){return{"is-invalid":t}},vr=[{path:"",component:se,resolve:{products:F}},{path:":id",component:N,resolve:{product:R}},{path:":id/edit",component:(lr=function(){function t(e,r,c,o,a){_classCallCheck(this,t),this.formBuilder=e,this._router=r,this._activatedRoute=c,this._categoryService=o,this._productService=a,this.addProductForm=this.formBuilder.group({productName:["",U.t.required],storeCategoryName:["",U.t.required],storeSubCategoryName:["",U.t.required],subCategoryName:[""],productWeightType:[""],productPrice:["",U.t.required],productWeight:[""],productCode:["",U.t.required],productDescription:["",U.t.required],productRating:["",U.t.required],status:["",U.t.required]})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._categoryService.getAllStoreCategory("").subscribe((function(e){t.storeCategories=e.store_categories,t.productId=t._activatedRoute.snapshot.paramMap.get("id"),0!==t.productId&&(t.productData=t._activatedRoute.snapshot.data.productData.product,t.addProductForm.get("storeCategoryName").setValue(t.productData.store_category_id),t.addProductForm.get("storeSubCategoryName").setValue(t.productData.store_sub_category_id),t.addProductForm.get("subCategoryName").setValue(t.productData.sub_category_id),t.addProductForm.get("productName").setValue(t.productData.productName),t.addProductForm.get("productPrice").setValue(t.productData.price),t.addProductForm.get("productCode").setValue(t.productData.productCode),t.addProductForm.get("productWeightType").setValue(t.productData.productWeightType),t.addProductForm.get("productWeight").setValue(t.productData.product_weight),t.addProductForm.get("productDescription").setValue(t.productData.description),t.addProductForm.get("productRating").setValue(t.productData.starRating),t.addProductForm.get("status").setValue(t.productData.available),console.log(t.productData),t.storeCategoryChange(t.productData.store_category_id,+t.productData.store_sub_category_id))}))}},{key:"fetchSubCategories",value:function(t){}},{key:"deleteProduct",value:function(){var t=this;0!=this.productId&&confirm("Are you sure to delete ")&&this._productService.deleteProduct(this.productId).subscribe((function(e){console.log(e),t._router.navigate(["products"])}))}},{key:"onSubmit",value:function(){var t=this;console.log(this.addProductForm.value),this.submitted=!0,this.addProductForm.invalid||(0==this.productId?this._productService.createProduct(this.addProductForm.value).subscribe((function(e){200==e.status?t._router.navigate(["products"]):400==e.status&&alert("Product Not Added . Internal Server Error")}),(function(t){console.log(t)})):this._productService.updateProduct(this.addProductForm.value,this.productId).subscribe((function(e){console.log(e),200==e.status?t._router.navigate(["products"]):400==e.status&&alert("Product Not Added . Internal Server Error")}),(function(e){t.errorMessage=e})))}},{key:"storeCategoryChange",value:function(t,e){var r=this;this.storeSubCategoryData=[],this.subCategoryData=[],this._categoryService.getStoreCategoryData(+t).subscribe((function(t){r.storeSubCategoryData=t.store_categories[0].store_sub_category_name,0==+e||(r.subCategoryData=r.storeSubCategoryData.filter((function(t){return t.store_sub_category_id===e}))[0].sub_category_data)}))}},{key:"storeSubCategoryChange",value:function(t){var e=this;this.storeSubCategoryData.filter((function(r){r.store_sub_category_id===+t&&(e.subCategoryData=r.sub_category_data,e.subCategoryData.length<1&&(e.addProductForm.patchValue({subCategoryName:""}),e.subCategoryData=[]))}))}},{key:"f",get:function(){return this.addProductForm.controls}}]),t}(),lr.ngComponentDef=c.Mb({type:lr,selectors:[["app-product-shell-add"]],factory:function(t){return new(t||lr)(c.Sb(U.c),c.Sb(a.f),c.Sb(a.a),c.Sb(le.a),c.Sb(o.a))},consts:89,vars:29,template:function(t,e){1&t&&(c.Yb(0,"div",be),c.Yb(1,"div",pe),c.Yb(2,"div",ve),c.Yb(3,"div",ge),c.Yb(4,"h2"),c.Mc(5,"Add New Product"),c.Wb(),c.Yb(6,"form",fe),c.jc("ngSubmit",(function(t){return e.onSubmit()})),c.Yb(7,"div",me),c.Yb(8,"label"),c.Mc(9,"Product Name"),c.Wb(),c.Tb(10,"input",Ce),c.Kc(11,Je,2,1,"div",he),c.Wb(),c.Yb(12,"div",me),c.Yb(13,"label"),c.Mc(14,"Store Category Name"),c.Wb(),c.Yb(15,"div"),c.Yb(16,"select",We),c.jc("change",(function(t){return e.storeCategoryChange(t.target.value,0)})),c.Kc(17,He,2,2,"option",Ye),c.Wb(),c.Wb(),c.Wb(),c.Yb(18,"div",ve),c.Yb(19,"div",ye),c.Yb(20,"div",me),c.Yb(21,"label"),c.Mc(22,"Store Sub Category"),c.Wb(),c.Yb(23,"div"),c.Yb(24,"select",De),c.jc("change",(function(t){return e.storeSubCategoryChange(t.target.value)})),c.Kc(25,$e,3,4,"option",Ye),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Yb(26,"div",ye),c.Yb(27,"div",me),c.Yb(28,"label"),c.Mc(29,"Sub Category"),c.Wb(),c.Yb(30,"div"),c.Yb(31,"select",_e),c.Kc(32,ze,3,4,"option",Ye),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Yb(33,"div",me),c.Yb(34,"label"),c.Mc(35,"Weight Type"),c.Wb(),c.Yb(36,"div"),c.Yb(37,"select",Pe),c.Yb(38,"option",Me),c.Mc(39,"kg"),c.Wb(),c.Yb(40,"option",ke),c.Mc(41,"gms"),c.Wb(),c.Yb(42,"option",Ie),c.Mc(43,"litre"),c.Wb(),c.Yb(44,"option",Ne),c.Mc(45,"ml"),c.Wb(),c.Yb(46,"option",Se),c.Mc(47,"packet"),c.Wb(),c.Yb(48,"option",Oe),c.Mc(49,"pieces"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Yb(50,"div",me),c.Yb(51,"label"),c.Mc(52,"Orignal Price(M.R.P)"),c.Wb(),c.Tb(53,"input",we),c.Kc(54,Xe,2,1,"div",he),c.Wb(),c.Yb(55,"div",me),c.Yb(56,"label"),c.Mc(57,"Product Weight"),c.Wb(),c.Tb(58,"input",je),c.Kc(59,er,2,1,"div",he),c.Wb(),c.Yb(60,"div",me),c.Yb(61,"label"),c.Mc(62,"Product Code"),c.Wb(),c.Tb(63,"input",Re),c.Kc(64,cr,2,1,"div",he),c.Wb(),c.Yb(65,"div",me),c.Yb(66,"label"),c.Mc(67,"Product Desciption"),c.Wb(),c.Tb(68,"textarea",Fe),c.Kc(69,ar,2,1,"div",he),c.Wb(),c.Yb(70,"div",me),c.Yb(71,"label"),c.Mc(72,"Product Rating"),c.Wb(),c.Tb(73,"input",Ke),c.Kc(74,nr,2,1,"div",he),c.Wb(),c.Yb(75,"div",me),c.Yb(76,"label",Te),c.Mc(77,"Status"),c.Wb(),c.Yb(78,"div"),c.Yb(79,"select",xe),c.Yb(80,"option",qe),c.Mc(81,"Enabled"),c.Wb(),c.Yb(82,"option",Ae),c.Mc(83,"Disabled"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Yb(84,"div",me),c.Yb(85,"button",Ee),c.Tb(86,"i",Be),c.Mc(87," Save"),c.Wb(),c.Kc(88,sr,3,0,"button",Ve),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Cc(6),c.sc("formGroup",e.addProductForm),c.Cc(10),c.sc("ngClass",c.vc(17,pr,e.submitted&&e.f.productName.errors)),c.Cc(11),c.sc("ngIf",e.submitted&&e.f.productName.errors),c.Cc(17),c.sc("ngForOf",e.storeCategories),c.Cc(25),c.sc("ngForOf",e.storeSubCategoryData),c.Cc(32),c.sc("ngForOf",e.subCategoryData),c.Cc(53),c.sc("ngClass",c.vc(19,pr,e.submitted&&e.f.productPrice.errors)),c.Cc(54),c.sc("ngIf",e.submitted&&e.f.productPrice.errors),c.Cc(58),c.sc("ngClass",c.vc(21,pr,e.submitted&&e.f.productWeight.errors)),c.Cc(59),c.sc("ngIf",e.submitted&&e.f.productWeight.errors),c.Cc(63),c.sc("ngClass",c.vc(23,pr,e.submitted&&e.f.productCode.errors)),c.Cc(64),c.sc("ngIf",e.submitted&&e.f.productCode.errors),c.Cc(68),c.sc("ngClass",c.vc(25,pr,e.submitted&&e.f.productDescription.errors)),c.Cc(69),c.sc("ngIf",e.submitted&&e.f.productDescription.errors),c.Cc(73),c.sc("ngClass",c.vc(27,pr,e.submitted&&e.f.productRating.errors)),c.Cc(74),c.sc("ngIf",e.submitted&&e.f.productRating.errors),c.Cc(88),c.sc("ngIf",0!=e.productId))},directives:[U.v,U.l,U.e,U.b,U.k,U.d,i.k,i.m,U.s,i.l,U.o,U.u],pipes:[J.a],styles:[""]}),lr),resolve:{productData:R}}],gr=((br=function t(){_classCallCheck(this,t)}).ngModuleDef=c.Qb({type:br}),br.ngInjectorDef=c.Pb({factory:function(t){return new(t||br)},imports:[[a.j.forChild(vr)],a.j]}),br);a.j.forChild(vr),r.d(e,"ProductModule",(function(){return mr}));var fr,mr=((fr=function t(){_classCallCheck(this,t)}).ngModuleDef=c.Qb({type:fr}),fr.ngInjectorDef=c.Pb({factory:function(t){return new(t||fr)},providers:[],imports:[[A.j.forFeature("products",B),gr,U.q,S.a]]}),fr);A.j.forFeature("products",B)}}]);