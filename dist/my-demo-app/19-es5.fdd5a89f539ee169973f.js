function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var c=e[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{lE2P:function(t,e,r){"use strict";r.r(e),r.d(e,"ProductModule",(function(){return It}));var c=r("PCNd"),o=r("tyNb"),a=r("fXoL"),i=r("QJ7G"),n=r("ofXK"),u=r("Q6/5"),d=function(){return["/products/",0,"edit"]};function s(t,e){if(1&t){var r=a.Sb();a.Rb(0,"div",2),a.Rb(1,"div",3),a.Dc(2),a.Qb(),a.Rb(3,"div",4),a.Rb(4,"div",5),a.Rb(5,"div",6),a.Rb(6,"div",5),a.Rb(7,"div",7),a.Dc(8,"Name:"),a.Qb(),a.Rb(9,"div",6),a.Dc(10),a.Qb(),a.Qb(),a.Rb(11,"div",5),a.Rb(12,"div",7),a.Dc(13,"Code:"),a.Qb(),a.Rb(14,"div",6),a.Dc(15),a.Qb(),a.Qb(),a.Rb(16,"div",5),a.Rb(17,"div",7),a.Dc(18,"Release Date:"),a.Qb(),a.Rb(19,"div",6),a.Dc(20),a.gc(21,"date"),a.Qb(),a.Qb(),a.Rb(22,"div",5),a.Rb(23,"div",7),a.Dc(24,"Last Updated:"),a.Qb(),a.Rb(25,"div",6),a.Dc(26),a.gc(27,"date"),a.Qb(),a.Qb(),a.Rb(28,"div",5),a.Rb(29,"div",7),a.Dc(30,"Description:"),a.Qb(),a.Rb(31,"div",6),a.Dc(32),a.Qb(),a.Qb(),a.Rb(33,"div",5),a.Rb(34,"div",7),a.Dc(35,"Price:"),a.Qb(),a.Rb(36,"div",6),a.Dc(37),a.Qb(),a.Qb(),a.Rb(38,"div",5),a.Rb(39,"div",7),a.Dc(40,"Star Rating:"),a.Qb(),a.Rb(41,"div",6),a.Rb(42,"app-star",8),a.dc("ratingClicked",(function(t){return a.vc(r),a.fc().onRatingClicked(t)})),a.Qb(),a.Qb(),a.Qb(),a.Rb(43,"div",5),a.Rb(44,"div",7),a.Dc(45,"Category Name:"),a.Qb(),a.Rb(46,"div",6),a.Dc(47),a.Qb(),a.Qb(),a.Rb(48,"div",5),a.Rb(49,"div",7),a.Dc(50,"Available:"),a.Qb(),a.Rb(51,"div",6),a.Dc(52),a.Qb(),a.Qb(),a.Qb(),a.Rb(53,"div",7),a.Nb(54,"img",9),a.Qb(),a.Qb(),a.Qb(),a.Rb(55,"div",10),a.Rb(56,"button",11),a.dc("click",(function(){return a.vc(r),a.fc().onBack()})),a.Nb(57,"i",12),a.Dc(58," Back "),a.Qb(),a.Rb(59,"a",13),a.Nb(60,"i",12),a.Dc(61," Edit "),a.Qb(),a.Qb(),a.Qb()}if(2&t){var c=a.fc();a.zb(2),a.Fc(" ",c.pageTitle," "),a.zb(8),a.Ec(null==c.productData?null:c.productData.productName),a.zb(5),a.Ec(null==c.productData?null:c.productData.productCode),a.zb(5),a.Ec(a.ic(21,17,null==c.productData?null:c.productData.releaseDate,"medium")),a.zb(6),a.Ec(a.ic(27,20,null==c.productData?null:c.productData.lastUpdated,"medium")),a.zb(6),a.Ec(null==c.productData?null:c.productData.description),a.zb(5),a.Ec(null==c.productData?null:c.productData.price),a.zb(5),a.mc("rating",null==c.productData?null:c.productData.starRating),a.zb(5),a.Ec(null==c.productData?null:c.productData.categoryName),a.zb(5),a.Ec(null!=c.productData&&c.productData.available?"Available":"Not Available"),a.zb(2),a.Ac("width",200,"px")("margin",2,"px"),a.oc("src","assets/product_images/",null==c.productData?null:c.productData.image_url,"",a.wc),a.mc("title",null==c.productData?null:c.productData.productName),a.zb(5),a.mc("routerLink",a.pc(23,d))}}function b(t,e){if(1&t&&(a.Rb(0,"div",14),a.Dc(1),a.Qb()),2&t){var r=a.fc();a.zb(1),a.Fc("",r.errorMessage,"\n")}}var l,p,f,g=((l=function(){function t(e,r,c){_classCallCheck(this,t),this._productService=e,this.router=r,this._activatedRoute=c}return _createClass(t,[{key:"onBack",value:function(){this.router.navigate(["/products"],{queryParamsHandling:"preserve"})}},{key:"onEdit",value:function(){this.router.navigate(["products",this.productId,"edit"])}},{key:"ngOnInit",value:function(){var t=this._activatedRoute.snapshot.data.product;this.errorMessage=t.error,this.onProductRetrieved(t.product)}},{key:"onRatingClicked",value:function(t){console.log(t)}},{key:"onProductRetrieved",value:function(t){this.productData=t,this.pageTitle=this.productData?"Product Detail: "+this.productData.productName:"No product found"}}]),t}()).\u0275fac=function(t){return new(t||l)(a.Mb(i.a),a.Mb(o.f),a.Mb(o.a))},l.\u0275cmp=a.Gb({type:l,selectors:[["ng-component"]],decls:2,vars:2,consts:[["class","card",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-8"],[1,"col-md-4"],[3,"rating","ratingClicked"],[1,"center-block","img-responsive",3,"src","title"],[1,"card-footer"],[1,"btn","btn-outline-secondary",2,"width","80px",3,"click"],[1,"fa","fa-chevron-left"],["type","button","target","_blank",1,"btn","btn-outline-secondary",2,"width","80px",3,"routerLink"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(a.Bc(0,s,62,24,"div",0),a.Bc(1,b,2,1,"div",1)),2&t&&(a.mc("ngIf",e.productData),a.zb(1),a.mc("ngIf",e.errorMessage))},directives:[n.m,u.a,o.i],pipes:[n.d],styles:[""]}),l),v=r("LRne"),m=r("lJxs"),h=r("JIr8"),R=((f=function(){function t(e){_classCallCheck(this,t),this.productDataService=e}return _createClass(t,[{key:"resolve",value:function(t,e){var r=+t.paramMap.get("id");if(isNaN(r)){var c="Product id is not a number:"+r;return console.error(c),Object(v.a)({product:null,error:c})}return this.productDataService.getProduct(r).pipe(Object(m.a)((function(t){return{product:t,error:""}})),Object(h.a)((function(t){var e="Retrieval error: "+t;return Object(v.a)({product:null,error:e})})))}}]),t}()).\u0275fac=function(t){return new(t||f)(a.Zb(i.a))},f.\u0275prov=a.Ib({token:f,factory:f.\u0275fac,providedIn:"root"}),f),D=((p=function(){function t(e){_classCallCheck(this,t),this.productDataService=e}return _createClass(t,[{key:"resolve",value:function(t,e){return this.productDataService.getProducts(1,20,"").pipe(Object(m.a)((function(t){return{product:t.products,product_total_count:t.productCount,error:""}})),Object(h.a)((function(t){var e="Retrieval error: "+t;return Object(v.a)({product:null,error:e})})))}}]),t}()).\u0275fac=function(t){return new(t||p)(a.Zb(i.a))},p.\u0275prov=a.Ib({token:p,factory:p.\u0275fac,providedIn:"root"}),p),Q=r("vkgz"),C=r("/uUt"),y=r("Kj3r"),P=r("eIep"),k=r("kt0X"),_={showProductCode:!0,currentProduct:null,products:[]};function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TOGGLE_PRODUCT_CODE":return Object.assign(Object.assign({},t),{showProductCode:e.payload});default:return t}}var N=Object(k.k)("products"),z=Object(k.l)(N,(function(t){return t.showProductCode})),S=r("3Pt+"),F=r("Exvd"),w=r("CvK3");function O(t,e){if(1&t&&(a.Pb(0),a.Dc(1),a.Ob()),2&t){var r=a.fc();a.zb(1),a.Fc(" - ",null==r.productData?null:r.productData.productCode,"\n")}}var B,x=((B=function(){function t(e){_classCallCheck(this,t),this.store=e,this.showProductCode=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.store.pipe(Object(k.m)(z)).subscribe((function(e){t.showProductCode=e}))}}]),t}()).\u0275fac=function(t){return new(t||B)(a.Mb(k.h))},B.\u0275cmp=a.Gb({type:B,selectors:[["app-product-shell-list-item"]],inputs:{productData:["productInfo1","productData"]},decls:3,vars:4,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(a.Dc(0),a.gc(1,"upperCaseName"),a.Bc(2,O,2,1,"ng-container",0)),2&t&&(a.Fc("",a.hc(1,2,null==e.productData?null:e.productData.productName),"\n"),a.zb(2),a.mc("ngIf",e.showProductCode))},directives:[n.m],pipes:[w.a],styles:[""]}),B);function E(t,e){if(1&t){var r=a.Sb();a.Rb(0,"app-pagination",17),a.dc("currentPage",(function(t){return a.vc(r),a.fc(2).currentPageFn(t)})),a.Qb()}if(2&t){var c=a.fc(2);a.mc("totalItemCount",c.productsCount)}}var M=function(t){return{active:t}};function q(t,e){if(1&t){var r=a.Sb();a.Rb(0,"button",18),a.dc("click",(function(){a.vc(r);var t=e.$implicit;return a.fc(2).onSelected(t)})),a.Nb(1,"app-product-shell-list-item",19),a.Qb()}if(2&t){var c=e.$implicit,o=a.fc(2);a.mc("ngClass",a.qc(2,M,(null==o.selectedProduct?null:o.selectedProduct.productId)==(null==c?null:c.productId))),a.zb(1),a.mc("productInfo1",c)}}function j(t,e){if(1&t&&(a.Rb(0,"div"),a.Bc(1,E,1,1,"app-pagination",14),a.Rb(2,"div",15),a.Bc(3,q,2,4,"button",16),a.Qb(),a.Qb()),2&t){var r=a.fc();a.zb(1),a.mc("ngIf",r.productsCount>0),a.zb(2),a.mc("ngForOf",r.products)}}function A(t,e){1&t&&(a.Rb(0,"div"),a.Rb(1,"span"),a.Dc(2,"No Products Found in catelog"),a.Qb(),a.Qb())}function G(t,e){if(1&t&&(a.Rb(0,"div",20),a.Dc(1),a.Qb()),2&t){var r=a.fc();a.zb(1),a.Fc(" Error: ",r.errorMessage," ")}}var T,L=function(){return["/products/",0,"edit"]},V=((T=function(){function t(e,r,c,o,a){_classCallCheck(this,t),this._productService=e,this.router=r,this.formBuilder=c,this.store=o,this._activatedRoute=a,this.filterBy="",this.pageTitle="Products Listing",this.productsCount=0,this.Pages=[],this.pageSize=20,this.searchCriteriaForm=this.formBuilder.group({searchCriteria:[""]})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.currentPage=1,this.sub=this._productService.selectProductChanges$.subscribe((function(e){t.selectedProduct=e})),this.store.pipe(Object(k.m)(z)).subscribe((function(e){t.displayCode=e}));var e=this._activatedRoute.snapshot.data.products.product;this.productsCount=+this._activatedRoute.snapshot.data.products.product_total_count,console.log(e),console.log(this.productsCount),this.onProductRetrieved(e)}},{key:"onChanges",value:function(){var t=this;this.searchCriteriaForm.get("searchCriteria").valueChanges.pipe(Object(Q.a)((function(t){console.log(t)})),Object(C.a)(),Object(y.a)(2e3),Object(P.a)((function(e){return t.filterBy=e,console.log(t.filterBy),t._productService.getProducts(t.currentPage,t.pageSize,t.filterBy)}))).subscribe((function(e){t.onProductRetrieved(e.products),t.productsCount=e.productCount}))}},{key:"currentPageFn",value:function(t){var e=this;this.currentPage=t,this._productService.getProducts(this.currentPage,this.pageSize,this.filterBy).subscribe((function(t){e.onProductRetrieved(t.products)}))}},{key:"checkChanged",value:function(t){this.store.dispatch({type:"TOGGLE_PRODUCT_CODE",payload:t})}},{key:"onSelected",value:function(t){this._productService.changeSelectedProduct(t.productId)}},{key:"onProductRetrieved",value:function(t){this.products=t}},{key:"addProduct",value:function(){this.router.navigate(["products","0","edit"])}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||T)(a.Mb(i.a),a.Mb(o.f),a.Mb(S.c),a.Mb(k.h),a.Mb(o.a))},T.\u0275cmp=a.Gb({type:T,selectors:[["app-product-shell-list"]],decls:20,vars:8,consts:[[1,"card"],[1,"card-header"],["type","button",1,"btn","btn-outline-secondary",2,"float","right",3,"routerLink"],[1,"card-body"],[3,"formGroup"],[1,"form-group"],["formControlName","searchCriteria","type","text","id","inputError","autocomplete","off","autofocus","","placeholder","Search Products",1,"form-control",3,"keyup"],[1,"glyphicon","glyphicon-remove","form-control-feedback"],[4,"ngIf"],[1,"card-footer"],[1,"row"],[1,"form-check","col-md-12"],["type","checkbox",1,"form-check-input",3,"checked","change"],["class","alert alert-danger",4,"ngIf"],[3,"totalItemCount","currentPage",4,"ngIf"],[1,"list-group"],["type","button","class","list-group-item",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"totalItemCount","currentPage"],["type","button",1,"list-group-item",3,"ngClass","click"],[3,"productInfo1"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.Dc(2),a.Rb(3,"a",2),a.Dc(4," Add New Product "),a.Qb(),a.Qb(),a.Rb(5,"div",3),a.Rb(6,"form",4),a.Rb(7,"div",5),a.Rb(8,"div"),a.Rb(9,"input",6),a.dc("keyup",(function(){return e.onChanges()})),a.Qb(),a.Nb(10,"span",7),a.Qb(),a.Qb(),a.Qb(),a.Bc(11,j,4,2,"div",8),a.Bc(12,A,3,0,"div",8),a.Qb(),a.Rb(13,"div",9),a.Rb(14,"div",10),a.Rb(15,"div",11),a.Rb(16,"label"),a.Rb(17,"input",12),a.dc("change",(function(t){return e.checkChanged(t.target.checked)})),a.Qb(),a.Dc(18," Display Product Code "),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Bc(19,G,2,1,"div",13),a.Qb()),2&t&&(a.zb(2),a.Fc(" ",e.pageTitle," "),a.zb(1),a.mc("routerLink",a.pc(7,L)),a.zb(3),a.mc("formGroup",e.searchCriteriaForm),a.zb(5),a.mc("ngIf",e.productsCount>0),a.zb(1),a.mc("ngIf",0==e.productsCount),a.zb(5),a.mc("checked",e.displayCode),a.zb(2),a.mc("ngIf",e.errorMessage))},directives:[o.i,S.u,S.l,S.e,S.b,S.k,S.d,n.m,n.l,F.a,n.k,x],styles:[""]}),T),W=r("chph"),U=r("1kSV");function J(t,e){if(1&t&&a.Nb(0,"img",17),2&t){var r=a.fc(2);a.Ac("width",200,"px")("margin",2,"px"),a.mc("title",null==r.productData?null:r.productData.productName)}}function $(t,e){if(1&t&&a.Nb(0,"img",18),2&t){var r=a.fc(2);a.Ac("width",200,"px")("margin",2,"px"),a.nc("src",r.imageurl,a.wc),a.mc("title",null==r.productData?null:r.productData.productName)}}function K(t,e){if(1&t){var r=a.Sb();a.Rb(0,"span",19),a.dc("click",(function(){return a.vc(r),a.fc(2).uploadImage()})),a.Dc(1," Upload Image "),a.Qb()}}function X(t,e){if(1&t){var r=a.Sb();a.Rb(0,"span",19),a.dc("click",(function(){return a.vc(r),a.fc(2).uploadImage()})),a.Dc(1," Change Image "),a.Qb()}}function Z(t,e){if(1&t&&(a.Rb(0,"div",20),a.Dc(1),a.Qb()),2&t){var r=a.fc(2);a.zb(1),a.Fc("",r.errorMessage," ")}}var H=function(t){return["/products",t,"edit"]};function Y(t,e){if(1&t){var r=a.Sb();a.Rb(0,"div",1),a.Rb(1,"div",2),a.Dc(2),a.Qb(),a.Rb(3,"div",3),a.Rb(4,"div",4),a.Rb(5,"div",5),a.Rb(6,"div",4),a.Rb(7,"div",6),a.Dc(8,"Name:"),a.Qb(),a.Rb(9,"div",5),a.Dc(10),a.gc(11,"upperCaseName"),a.Qb(),a.Qb(),a.Rb(12,"div",4),a.Rb(13,"div",6),a.Dc(14,"Code:"),a.Qb(),a.Rb(15,"div",5),a.Dc(16),a.gc(17,"upperCaseName"),a.Qb(),a.Qb(),a.Rb(18,"div",4),a.Rb(19,"div",6),a.Dc(20,"Weight:"),a.Qb(),a.Rb(21,"div",5),a.Dc(22),a.Qb(),a.Qb(),a.Rb(23,"div",4),a.Rb(24,"div",6),a.Dc(25,"Release Date:"),a.Qb(),a.Rb(26,"div",5),a.Dc(27),a.gc(28,"date"),a.Qb(),a.Qb(),a.Rb(29,"div",4),a.Rb(30,"div",6),a.Dc(31,"Last Updated:"),a.Qb(),a.Rb(32,"div",5),a.Dc(33),a.gc(34,"date"),a.Qb(),a.Qb(),a.Rb(35,"div",4),a.Rb(36,"div",6),a.Dc(37,"Description:"),a.Qb(),a.Rb(38,"div",5),a.Dc(39),a.Qb(),a.Qb(),a.Rb(40,"div",4),a.Rb(41,"div",6),a.Dc(42,"Price:"),a.Qb(),a.Rb(43,"div",5),a.Dc(44),a.Qb(),a.Qb(),a.Rb(45,"div",4),a.Rb(46,"div",6),a.Dc(47,"Star Rating:"),a.Qb(),a.Rb(48,"div",5),a.Rb(49,"app-star",7),a.dc("ratingClicked",(function(t){return a.vc(r),a.fc().onRatingClicked(t)})),a.Qb(),a.Qb(),a.Qb(),a.Rb(50,"div",4),a.Rb(51,"div",6),a.Dc(52,"Category Name:"),a.Qb(),a.Rb(53,"div",5),a.Dc(54),a.gc(55,"upperCaseName"),a.Qb(),a.Qb(),a.Rb(56,"div",4),a.Rb(57,"div",6),a.Dc(58,"Available:"),a.Qb(),a.Rb(59,"div",5),a.Dc(60),a.Qb(),a.Qb(),a.Qb(),a.Rb(61,"div",8),a.Bc(62,J,1,5,"img",9),a.Bc(63,$,1,6,"img",10),a.Bc(64,K,2,0,"span",11),a.Bc(65,X,2,0,"span",11),a.Qb(),a.Qb(),a.Qb(),a.Rb(66,"div",12),a.Rb(67,"div",13),a.Rb(68,"div",5),a.Rb(69,"button",14),a.Nb(70,"i",15),a.Dc(71," Edit "),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Bc(72,Z,2,1,"div",16),a.Qb()}if(2&t){var c=a.fc();a.zb(2),a.Fc(" ",null==c.productData?null:c.productData.productName," "),a.zb(8),a.Ec(a.hc(11,17,null==c.productData?null:c.productData.productName)),a.zb(6),a.Ec(a.hc(17,19,null==c.productData?null:c.productData.productCode)),a.zb(6),a.Fc(" ",null!=c.productData&&c.productData.product_weight?(null==c.productData?null:c.productData.product_weight)+" "+(null==c.productData?null:c.productData.weight_text):"Not Available"," "),a.zb(5),a.Ec(a.ic(28,21,null==c.productData?null:c.productData.releaseDate,"short")),a.zb(6),a.Ec(a.ic(34,24,null==c.productData?null:c.productData.lastUpdated,"short")),a.zb(6),a.Ec(null==c.productData?null:c.productData.description),a.zb(5),a.Fc("\u20b9 ",null==c.productData?null:c.productData.price,""),a.zb(5),a.mc("rating",null==c.productData?null:c.productData.starRating),a.zb(5),a.Ec(a.hc(55,27,null==c.productData?null:c.productData.categoryName)),a.zb(6),a.Ec(null!=c.productData&&c.productData.available?"Available":"Not Available"),a.zb(2),a.mc("ngIf",!c.imageurl),a.zb(1),a.mc("ngIf",c.imageurl),a.zb(1),a.mc("ngIf",!c.imageurl),a.zb(1),a.mc("ngIf",c.imageurl),a.zb(4),a.mc("routerLink",a.qc(29,H,c.productData.productId)),a.zb(3),a.mc("ngIf",c.errorMessage)}}var tt,et,rt=((et=function(){function t(e,r){_classCallCheck(this,t),this.productService=e,this.modalService=r,this.pageTitle="Product Detail",this.imageurl="",this.productid=""}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.sub=this.productService.selectProductChanges$.subscribe((function(e){e&&(t.imageurl=e.image_url,t.productid=e.productId),t.productData=e,console.log(t.productData)}))}},{key:"onRatingClicked",value:function(t){}},{key:"ngOnChanges",value:function(){console.log("child component")}},{key:"uploadImage",value:function(){var t=this,e=this.modalService.open(W.a);e.componentInstance.title="Image Upload",e.componentInstance.image_type="products",e.componentInstance.id=this.productid,e.componentInstance.productImage.subscribe((function(e){t.imageurl=e.image_url,t.productService.updateProductImageUrl(t.imageurl,t.productid)}))}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||et)(a.Mb(i.a),a.Mb(U.f))},et.\u0275cmp=a.Gb({type:et,selectors:[["app-product-shell-detail"]],features:[a.xb],decls:1,vars:1,consts:[["class","card card-primary",4,"ngIf"],[1,"card","card-primary"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-8"],[1,"col-md-4","product-detail-label"],[3,"rating","ratingClicked"],[1,"col-md-4"],["class","center-block img-responsive","src","assets/product_images/default_image.jpg",3,"title","width","margin",4,"ngIf"],["class","center-block img-responsive",3,"src","title","width","margin",4,"ngIf"],["style","display:block;text-align:center;cursor:pointer;color:blue",3,"click",4,"ngIf"],[1,"card-footer"],[1,"row","mb-2"],[1,"btn","btn-primary","mr-3",3,"routerLink"],[1,"fa","fa-edit"],["class","alert alert-danger",4,"ngIf"],["src","assets/product_images/default_image.jpg",1,"center-block","img-responsive",3,"title"],[1,"center-block","img-responsive",3,"src","title"],[2,"display","block","text-align","center","cursor","pointer","color","blue",3,"click"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&a.Bc(0,Y,73,31,"div",0),2&t&&a.mc("ngIf",e.productData)},directives:[n.m,u.a,o.g],pipes:[w.a,n.d],styles:[".product-detail-label[_ngcontent-%COMP%]{font-weight:700}"]}),et),ct=((tt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||tt)},tt.\u0275cmp=a.Gb({type:tt,selectors:[["app-product-shell"]],decls:5,vars:0,consts:[[1,"row"],[1,"scroll"],[1,"col-md-8"]],template:function(t,e){1&t&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.Nb(2,"app-product-shell-list"),a.Qb(),a.Rb(3,"div",2),a.Nb(4,"app-product-shell-detail"),a.Qb(),a.Qb())},directives:[V,rt],styles:["div.scroll[_ngcontent-%COMP%]{margin:4px,4px;padding:4px;width:350px;height:500px;overflow-x:hidden;overflow-x:auto;text-align:justify}"]}),tt),ot=r("9d4Z");function at(t,e){1&t&&(a.Rb(0,"div"),a.Dc(1,"Product Name is required"),a.Qb())}function it(t,e){if(1&t&&(a.Rb(0,"div",32),a.Bc(1,at,2,0,"div",33),a.Qb()),2&t){var r=a.fc();a.zb(1),a.mc("ngIf",r.f.productName.errors.required)}}function nt(t,e){if(1&t&&(a.Rb(0,"option",34),a.Dc(1),a.Qb()),2&t){var r=e.$implicit;a.nc("value",null==r?null:r.store_category_id),a.zb(1),a.Fc(" ",r.store_category_name," ")}}function ut(t,e){if(1&t&&(a.Rb(0,"option",34),a.Dc(1),a.gc(2,"upperCaseName"),a.Qb()),2&t){var r=e.$implicit;a.nc("value",null==r?null:r.store_sub_category_id),a.zb(1),a.Fc(" ",a.hc(2,2,r.store_sub_category)," ")}}function dt(t,e){if(1&t&&(a.Rb(0,"option",34),a.Dc(1),a.gc(2,"upperCaseName"),a.Qb()),2&t){var r=e.$implicit;a.nc("value",null==r?null:r.sub_category_id),a.zb(1),a.Fc(" ",a.hc(2,2,r.sub_category_name)," ")}}function st(t,e){1&t&&(a.Rb(0,"div"),a.Dc(1,"Product Price is required"),a.Qb())}function bt(t,e){if(1&t&&(a.Rb(0,"div",32),a.Bc(1,st,2,0,"div",33),a.Qb()),2&t){var r=a.fc();a.zb(1),a.mc("ngIf",r.f.productPrice.errors.required)}}function lt(t,e){1&t&&(a.Rb(0,"div"),a.Dc(1,"Product weight is required"),a.Qb())}function pt(t,e){if(1&t&&(a.Rb(0,"div",32),a.Bc(1,lt,2,0,"div",33),a.Qb()),2&t){var r=a.fc();a.zb(1),a.mc("ngIf",r.f.productWeight.errors.required)}}function ft(t,e){1&t&&(a.Rb(0,"div"),a.Dc(1,"Product Code is required"),a.Qb())}function gt(t,e){if(1&t&&(a.Rb(0,"div",32),a.Bc(1,ft,2,0,"div",33),a.Qb()),2&t){var r=a.fc();a.zb(1),a.mc("ngIf",r.f.productCode.errors.required)}}function vt(t,e){1&t&&(a.Rb(0,"div"),a.Dc(1,"Product Description is required"),a.Qb())}function mt(t,e){if(1&t&&(a.Rb(0,"div",32),a.Bc(1,vt,2,0,"div",33),a.Qb()),2&t){var r=a.fc();a.zb(1),a.mc("ngIf",r.f.productDescription.errors.required)}}function ht(t,e){1&t&&(a.Rb(0,"div"),a.Dc(1,"Product Rating is required"),a.Qb())}function Rt(t,e){if(1&t&&(a.Rb(0,"div",32),a.Bc(1,ht,2,0,"div",33),a.Qb()),2&t){var r=a.fc();a.zb(1),a.mc("ngIf",r.f.productRating.errors.required)}}function Dt(t,e){if(1&t){var r=a.Sb();a.Rb(0,"button",35),a.dc("click",(function(){return a.vc(r),a.fc().deleteProduct()})),a.Nb(1,"i",36),a.Dc(2," Delete "),a.Qb()}}var Qt,Ct,yt,Pt=function(t){return{"is-invalid":t}},kt=[{path:"",component:ct,resolve:{products:D}},{path:":id",component:g,resolve:{product:R}},{path:":id/edit",component:(Qt=function(){function t(e,r,c,o,a){_classCallCheck(this,t),this.formBuilder=e,this.router=r,this.activatedRoute=c,this.categoryService=o,this.productService=a,this.disableForm=!1,this.addProductForm=this.formBuilder.group({productName:["",S.s.required],storeCategoryName:["",S.s.required],storeSubCategoryName:["",S.s.required],subCategoryName:[""],productWeightType:[""],productPrice:["",S.s.required],productWeight:[""],productCode:["",S.s.required],productDescription:["",S.s.required],productRating:["",S.s.required],status:["",S.s.required]})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.categoryService.getAllStoreCategory("").subscribe((function(e){t.storeCategories=e.store_categories,t.productId=t.activatedRoute.snapshot.paramMap.get("id"),0!==t.productId&&(t.productData=t.activatedRoute.snapshot.data.productData.product,t.addProductForm.get("storeCategoryName").setValue(t.productData.store_category_id),t.addProductForm.get("storeSubCategoryName").setValue(t.productData.store_sub_category_id),t.addProductForm.get("subCategoryName").setValue(t.productData.sub_category_id),t.addProductForm.get("productName").setValue(t.productData.productName),t.addProductForm.get("productPrice").setValue(t.productData.price),t.addProductForm.get("productCode").setValue(t.productData.productCode),t.addProductForm.get("productWeightType").setValue(t.productData.productWeightType),t.addProductForm.get("productWeight").setValue(t.productData.product_weight),t.addProductForm.get("productDescription").setValue(t.productData.description),t.addProductForm.get("productRating").setValue(t.productData.starRating),t.addProductForm.get("status").setValue(t.productData.available),t.storeCategoryChange(t.productData.store_category_id,+t.productData.store_sub_category_id))}))}},{key:"deleteProduct",value:function(){var t=this;0!==this.productId&&confirm("Are you sure to delete ")&&this.productService.deleteProduct(this.productId).subscribe((function(e){console.log(e),t.router.navigate(["products"])}))}},{key:"onSubmit",value:function(){var t=this;if(!this.disableForm){if(this.submitted=!0,this.disableForm=!0,this.addProductForm.invalid)return void(this.disableForm=!1);0==+this.productId?this.productService.createProduct(this.addProductForm.value).subscribe((function(e){200===e.status?t.router.navigate(["products"]):400===e.status&&(alert("Product Not Added . Internal Server Error"),t.disableForm=!1)}),(function(e){t.disableForm=!1,console.log(e)})):this.productService.updateProduct(this.addProductForm.value,this.productId).subscribe((function(e){console.log(e),200===e.status?t.router.navigate(["products"]):400===e.status&&(alert("Product Not Added . Internal Server Error"),t.disableForm=!1)}),(function(e){t.disableForm=!1,t.errorMessage=e}))}}},{key:"storeCategoryChange",value:function(t,e){var r=this;this.storeSubCategoryData=[],this.subCategoryData=[],this.categoryService.getStoreCategoryData(+t).subscribe((function(t){r.storeSubCategoryData=t.store_categories[0].store_sub_category_name,0==+e||(r.subCategoryData=r.storeSubCategoryData.filter((function(t){return t.store_sub_category_id===e}))[0].sub_category_data)}))}},{key:"storeSubCategoryChange",value:function(t){var e=this;this.storeSubCategoryData.filter((function(r){r.store_sub_category_id===+t&&(e.subCategoryData=r.sub_category_data,e.subCategoryData.length<1&&(e.addProductForm.patchValue({subCategoryName:""}),e.subCategoryData=[]))}))}},{key:"f",get:function(){return this.addProductForm.controls}}]),t}(),Qt.\u0275fac=function(t){return new(t||Qt)(a.Mb(S.c),a.Mb(o.f),a.Mb(o.a),a.Mb(ot.a),a.Mb(i.a))},Qt.\u0275cmp=a.Gb({type:Qt,selectors:[["app-product-shell-add"]],decls:89,vars:30,consts:[[1,"jumbotron"],[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","productName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","storeCategoryName",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6"],["formControlName","storeSubCategoryName",1,"form-control",3,"change"],["formControlName","subCategoryName",1,"form-control"],["type","text","formControlName","productPrice",1,"form-control",3,"ngClass"],["formControlName","productWeightType",1,"form-control"],["selected","","value","1"],["value","2"],["value","3"],["value","5"],["value","4"],["value","6"],["type","text","formControlName","productWeight",1,"form-control",3,"ngClass"],["type","text","formControlName","productCode",1,"form-control",3,"ngClass"],["row","3","formControlName","productDescription",1,"form-control",3,"ngClass"],["type","text","formControlName","productRating",1,"form-control",3,"ngClass"],["for",""],["formControlName","status",1,"form-control"],["value","1"],["value","0"],[1,"btn","btn-primary","mr-3",3,"disabled"],[1,"fa","fa-save"],["class","btn btn-primary mr-3",3,"click",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"btn","btn-primary","mr-3",3,"click"],[1,"fa","fa-trash"]],template:function(t,e){1&t&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.Rb(2,"div",2),a.Rb(3,"div",3),a.Rb(4,"h2"),a.Dc(5,"Add New Product"),a.Qb(),a.Rb(6,"form",4),a.dc("ngSubmit",(function(){return e.onSubmit()})),a.Rb(7,"div",5),a.Rb(8,"label"),a.Dc(9,"Product Name"),a.Qb(),a.Nb(10,"input",6),a.Bc(11,it,2,1,"div",7),a.Qb(),a.Rb(12,"div",5),a.Rb(13,"label"),a.Dc(14,"Store Category Name"),a.Qb(),a.Rb(15,"div"),a.Rb(16,"select",8),a.dc("change",(function(t){return e.storeCategoryChange(t.target.value,0)})),a.Bc(17,nt,2,2,"option",9),a.Qb(),a.Qb(),a.Qb(),a.Rb(18,"div",2),a.Rb(19,"div",10),a.Rb(20,"div",5),a.Rb(21,"label"),a.Dc(22,"Store Sub Category"),a.Qb(),a.Rb(23,"div"),a.Rb(24,"select",11),a.dc("change",(function(t){return e.storeSubCategoryChange(t.target.value)})),a.Bc(25,ut,3,4,"option",9),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(26,"div",10),a.Rb(27,"div",5),a.Rb(28,"label"),a.Dc(29,"Sub Category"),a.Qb(),a.Rb(30,"div"),a.Rb(31,"select",12),a.Bc(32,dt,3,4,"option",9),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(33,"div",5),a.Rb(34,"label"),a.Dc(35,"Orignal Price(M.R.P)"),a.Qb(),a.Nb(36,"input",13),a.Bc(37,bt,2,1,"div",7),a.Qb(),a.Rb(38,"div",5),a.Rb(39,"label"),a.Dc(40,"Weight Type"),a.Qb(),a.Rb(41,"div"),a.Rb(42,"select",14),a.Rb(43,"option",15),a.Dc(44,"kg"),a.Qb(),a.Rb(45,"option",16),a.Dc(46,"gms"),a.Qb(),a.Rb(47,"option",17),a.Dc(48,"litre"),a.Qb(),a.Rb(49,"option",18),a.Dc(50,"ml"),a.Qb(),a.Rb(51,"option",19),a.Dc(52,"packet"),a.Qb(),a.Rb(53,"option",20),a.Dc(54,"pieces"),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(55,"div",5),a.Rb(56,"label"),a.Dc(57,"Product Weight"),a.Qb(),a.Nb(58,"input",21),a.Bc(59,pt,2,1,"div",7),a.Qb(),a.Rb(60,"div",5),a.Rb(61,"label"),a.Dc(62,"Product Code"),a.Qb(),a.Nb(63,"input",22),a.Bc(64,gt,2,1,"div",7),a.Qb(),a.Rb(65,"div",5),a.Rb(66,"label"),a.Dc(67,"Product Desciption"),a.Qb(),a.Nb(68,"textarea",23),a.Bc(69,mt,2,1,"div",7),a.Qb(),a.Rb(70,"div",5),a.Rb(71,"label"),a.Dc(72,"Product Rating"),a.Qb(),a.Nb(73,"input",24),a.Bc(74,Rt,2,1,"div",7),a.Qb(),a.Rb(75,"div",5),a.Rb(76,"label",25),a.Dc(77,"Status"),a.Qb(),a.Rb(78,"div"),a.Rb(79,"select",26),a.Rb(80,"option",27),a.Dc(81,"Enabled"),a.Qb(),a.Rb(82,"option",28),a.Dc(83,"Disabled"),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(84,"div",5),a.Rb(85,"button",29),a.Nb(86,"i",30),a.Dc(87," Save"),a.Qb(),a.Bc(88,Dt,3,0,"button",31),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb()),2&t&&(a.zb(6),a.mc("formGroup",e.addProductForm),a.zb(4),a.mc("ngClass",a.qc(18,Pt,e.submitted&&e.f.productName.errors)),a.zb(1),a.mc("ngIf",e.submitted&&e.f.productName.errors),a.zb(6),a.mc("ngForOf",e.storeCategories),a.zb(8),a.mc("ngForOf",e.storeSubCategoryData),a.zb(7),a.mc("ngForOf",e.subCategoryData),a.zb(4),a.mc("ngClass",a.qc(20,Pt,e.submitted&&e.f.productPrice.errors)),a.zb(1),a.mc("ngIf",e.submitted&&e.f.productPrice.errors),a.zb(21),a.mc("ngClass",a.qc(22,Pt,e.submitted&&e.f.productWeight.errors)),a.zb(1),a.mc("ngIf",e.submitted&&e.f.productWeight.errors),a.zb(4),a.mc("ngClass",a.qc(24,Pt,e.submitted&&e.f.productCode.errors)),a.zb(1),a.mc("ngIf",e.submitted&&e.f.productCode.errors),a.zb(4),a.mc("ngClass",a.qc(26,Pt,e.submitted&&e.f.productDescription.errors)),a.zb(1),a.mc("ngIf",e.submitted&&e.f.productDescription.errors),a.zb(4),a.mc("ngClass",a.qc(28,Pt,e.submitted&&e.f.productRating.errors)),a.zb(1),a.mc("ngIf",e.submitted&&e.f.productRating.errors),a.zb(11),a.mc("disabled",e.disableForm),a.zb(3),a.mc("ngIf",0!=e.productId))},directives:[S.u,S.l,S.e,S.b,S.k,S.d,n.k,n.m,S.r,n.l,S.o,S.t],pipes:[w.a],styles:[""]}),Qt),resolve:{productData:R}}],_t=((yt=function t(){_classCallCheck(this,t)}).\u0275mod=a.Kb({type:yt}),yt.\u0275inj=a.Jb({factory:function(t){return new(t||yt)},imports:[[o.j.forChild(kt)],o.j]}),yt),It=((Ct=function t(){_classCallCheck(this,t)}).\u0275mod=a.Kb({type:Ct}),Ct.\u0275inj=a.Jb({factory:function(t){return new(t||Ct)},providers:[],imports:[[k.i.forFeature("products",I),_t,S.p,c.a]]}),Ct)}}]);