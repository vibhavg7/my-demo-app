(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{AehD:function(e,t,c){"use strict";c.r(t);var r=c("fXoL"),o=c("ofXK"),n=c("tyNb"),a=c("R5w1"),s=c("vkgz"),i=c("/uUt"),d=c("Kj3r"),b=c("eIep"),u=c("3Pt+"),l=c("z6cu"),f=c("tk/3"),m=c("lJxs"),p=c("JIr8");let h=(()=>{class e{constructor(e){this.httpClient=e,this.customerServiceUrl="https://api.grostep.com/customerapi/"}fetchAllFeedBacks(e,t,c){const r={};return r.page_number=e,r.page_size=t,r.filterBy=c,this.httpClient.post(`${this.customerServiceUrl}customerFeedback`,r).pipe(Object(s.a)(e=>{}),Object(m.a)(e=>e),Object(p.a)(this.handleError))}addNewFeedBack(e){const t=JSON.parse(localStorage.getItem("currentUser")),c={};c.customer_id=e.customer_id,c.name=e.name,c.email=e.email,c.phone=e.phone,c.message=e.message,c.parentId=0,c.actionBy=t.employee_id,c.customerCity=e.customerCity,c.ticketMode=2;const r=`${this.customerServiceUrl}addCustomerFeedback`,o=new f.c({"Content-Type":"application/json"});return this.httpClient.post(r,c,{headers:o}).pipe(Object(s.a)(e=>{}),Object(m.a)(e=>e),Object(p.a)(e=>this.handleError(e)))}editFeedBack(e,t){}handleError(e){const t=new a.a;return t.errorNumber=100,t.errorMessage=`Server returned code: ${e.status}, error message is: ${e.message}`,t.friendlyMessage="An error retriving data",Object(l.a)(t)}}return e.ngInjectableDef=r.Ob({token:e,factory:function(t){return new(t||e)(r.hc(f.a))},providedIn:"root"}),e})();const g=["app-feedback-data",""],k=[2,"width","50px"],v=["rows","2","cols","40"],C=[2,"font-weight","bold"];let B=(()=>{class e{constructor(){}ngOnInit(){}}return e.ngComponentDef=r.Mb({type:e,selectors:[["","app-feedback-data",""]],factory:function(t){return new(t||e)},inputs:{feedBackInfo:"feedBackInfo"},attrs:g,consts:18,vars:8,template:function(e,t){1&e&&(r.Yb(0,"td"),r.Mc(1),r.Wb(),r.Yb(2,"td",k),r.Mc(3),r.Wb(),r.Yb(4,"td"),r.Mc(5),r.Wb(),r.Yb(6,"td"),r.Yb(7,"textarea",v),r.Mc(8),r.Wb(),r.Wb(),r.Yb(9,"td"),r.Mc(10),r.Wb(),r.Yb(11,"td"),r.Mc(12),r.Wb(),r.Yb(13,"td"),r.Mc(14),r.Wb(),r.Yb(15,"td",C),r.Mc(16),r.Wb(),r.Tb(17,"td")),2&e&&(r.Cc(1),r.Oc(" ",null==t.feedBackInfo?null:t.feedBackInfo.customer_feedback_id,"\n"),r.Cc(3),r.Oc(" ",null==t.feedBackInfo?null:t.feedBackInfo.customer_phone," "),r.Cc(5),r.Oc(" ",null==t.feedBackInfo?null:t.feedBackInfo.customer_name,"\n"),r.Cc(8),r.Oc("      ",null==t.feedBackInfo?null:t.feedBackInfo.customer_feedback,"\n  "),r.Cc(10),r.Oc(" ",null==t.feedBackInfo?null:t.feedBackInfo.city,"\n"),r.Cc(12),r.Oc(" ",null==t.feedBackInfo?null:t.feedBackInfo.mode,"\n"),r.Cc(14),r.Oc(" ",null==t.feedBackInfo?null:t.feedBackInfo.action_by,"\n"),r.Cc(16),r.Oc(" ",1===(null==t.feedBackInfo?null:t.feedBackInfo.status)?"Created":"Completed","\n"))},styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:45px;height:20px;margin:20px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none;background-color:#ccc}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:0;right:0;bottom:-3px;background-color:#2196f3;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translateX(20px)}.slider.round[_ngcontent-%COMP%]{border-radius:20px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),e})();var W=c("Exvd");const Y=[1,"card"],I=[1,"card-header"],M=[1,"card-body"],y=[1,"row"],F=[1,"col-md-2"],_=[1,"col-md-4"],O=[3,"formGroup"],w=["formControlName","searchCriteria","type","text","id","keyword","placeholder","Search FeedBack By Phone Number","autocomplete","off","autofocus","",1,"form-control",3,"keyup"],S=[1,"col-md-6"],j=["type","button","target","_blank",1,"btn","btn-outline-secondary",2,"float","right",3,"routerLink"],N=[1,"table-responsive"],P=["style","width:1200px !important","class","table",4,"ngIf"],x=[3,"totalItemCount","currentPage",4,"ngIf"],A=[4,"ngIf"],K=["class","alert alert-danger",4,"ngIf"],D=[1,"table",2,"width","1200px !important"],T=[2,"width","90px !important"],q=["app-feedback-data","",3,"feedBackInfo",4,"ngFor","ngForOf"],z=["app-feedback-data","",3,"feedBackInfo"];function G(e,t){1&e&&r.Tb(0,"tr",z),2&e&&r.sc("feedBackInfo",t.$implicit)}function E(e,t){if(1&e&&(r.Yb(0,"table",D),r.Yb(1,"thead"),r.Yb(2,"tr"),r.Yb(3,"th",T),r.Mc(4,"Id"),r.Wb(),r.Yb(5,"th"),r.Mc(6,"Phone"),r.Wb(),r.Yb(7,"th"),r.Mc(8,"Name"),r.Wb(),r.Yb(9,"th"),r.Mc(10,"Feedback"),r.Wb(),r.Yb(11,"th"),r.Mc(12,"City"),r.Wb(),r.Yb(13,"th"),r.Mc(14,"Mode"),r.Wb(),r.Yb(15,"th"),r.Mc(16,"Action By"),r.Wb(),r.Yb(17,"th"),r.Mc(18,"Status"),r.Wb(),r.Tb(19,"th"),r.Wb(),r.Wb(),r.Yb(20,"tbody"),r.Kc(21,G,1,1,"tr",q),r.Wb(),r.Wb()),2&e){const e=r.mc();r.Cc(21),r.sc("ngForOf",e.feedBacks)}}const R=[3,"totalItemCount","currentPage"];function J(e,t){if(1&e){const e=r.Zb();r.Yb(0,"app-pagination",R),r.jc("currentPage",(function(t){return r.Ac(e),r.mc().currentPageFn(t)})),r.Wb()}if(2&e){const e=r.mc();r.sc("totalItemCount",e.feedBacktotalcount)}}function U(e,t){1&e&&(r.Yb(0,"div"),r.Mc(1," No FeedBack Data Found "),r.Wb())}const $=[1,"alert","alert-danger"];function L(e,t){if(1&e&&(r.Yb(0,"div",$),r.Mc(1),r.Wb()),2&e){const e=r.mc();r.Cc(1),r.Oc(" Error: ",e.errorMessage,"\n")}}const X=["/feedbacks/",0,"edit"];let Q=(()=>{class e{constructor(e,t,c){this.formBuilder=e,this.feedBackService=t,this.activatedRoute=c,this.pageTitle="Feedbacks Dashboard",this.filterBy="",this.currentPage=1,this.pageSize=20,this.searchCriteriaForm=this.formBuilder.group({searchCriteria:[""]})}ngOnInit(){const e=this.activatedRoute.snapshot.data.resolvedFeedBacks;e instanceof a.a?this.errorMessage=e.errorMessage:(this.feedBacktotalcount=e.customer_feedback_count[0].customer_feedback_count,this.feedBacks=e.customer_feedback_info)}onChanges(){this.searchCriteriaForm.get("searchCriteria").valueChanges.pipe(Object(s.a)(e=>{}),Object(i.a)(),Object(d.a)(200),Object(b.a)(e=>(this.filterBy=e,this.feedBackService.fetchAllFeedBacks(this.currentPage,this.pageSize,e)))).subscribe(e=>{console.log(e),this.feedBacktotalcount=e.customer_feedback_count[0].customer_feedback_count,this.feedBacks=e.customer_feedback_info})}currentPageFn(e){this.feedBackService.fetchAllFeedBacks(e,this.pageSize,this.filterBy).subscribe(e=>{this.feedBacktotalcount=e.customer_feedback_count.customer_feedback_count,this.feedBacks=e.customer_feedback_info})}}return e.ngComponentDef=r.Mb({type:e,selectors:[["app-feedback-dashboard"]],factory:function(t){return new(t||e)(r.Sb(u.c),r.Sb(h),r.Sb(n.a))},consts:18,vars:7,template:function(e,t){1&e&&(r.Yb(0,"div",Y),r.Yb(1,"div",I),r.Mc(2),r.Wb(),r.Yb(3,"div",M),r.Yb(4,"div",y),r.Yb(5,"div",F),r.Mc(6,"Filter by:"),r.Wb(),r.Yb(7,"div",_),r.Yb(8,"form",O),r.Yb(9,"input",w),r.jc("keyup",(function(e){return t.onChanges()})),r.Wb(),r.Wb(),r.Wb(),r.Yb(10,"div",S),r.Yb(11,"a",j),r.Mc(12," Add New FeedBack "),r.Wb(),r.Wb(),r.Wb(),r.Yb(13,"div",N),r.Kc(14,E,22,1,"table",P),r.Kc(15,J,1,1,"app-pagination",x),r.Kc(16,U,2,0,"div",A),r.Wb(),r.Wb(),r.Wb(),r.Kc(17,L,2,1,"div",K)),2&e&&(r.Cc(2),r.Oc(" ",t.pageTitle," "),r.Cc(8),r.sc("formGroup",t.searchCriteriaForm),r.Cc(11),r.sc("routerLink",X),r.Cc(14),r.sc("ngIf",t.feedBacktotalcount),r.Cc(15),r.sc("ngIf",t.feedBacktotalcount),r.Cc(16),r.sc("ngIf",0==t.feedBacktotalcount),r.Cc(17),r.sc("ngIf",t.errorMessage))},directives:[u.v,u.l,u.e,u.b,u.k,u.d,n.i,o.m,o.l,B,W.a],styles:[""]}),e})();var Z=c("LRne");const H=[1,"jumbotron"],V=[1,"container"],ee=[1,"row"],te=[1,"col-md-6","offset-md-3"],ce=[3,"formGroup","ngSubmit"],re=[1,"col-md-6"],oe=[1,"form-group"],ne=["type","text","formControlName","customer_id",1,"form-control"],ae=["type","text","formControlName","name",1,"form-control",3,"ngClass"],se=["class","invalid-feedback",4,"ngIf"],ie=["type","text","formControlName","phone","maxlength","10","minlength","10",1,"form-control",3,"ngClass"],de=["type","text","formControlName","email",1,"form-control"],be=["row","3","formControlName","message",1,"form-control",3,"ngClass"],ue=["formControlName","customerCity",1,"form-control"],le=["selected","","value","Noida"],fe=["selected","","value","Gurgaon"],me=["selected","","value","Ghaziabad"],pe=["selected","","value","Agra"],he=[1,"btn","btn-primary",3,"disabled"],ge=[1,"invalid-feedback"],ke=[4,"ngIf"];function ve(e,t){1&e&&(r.Yb(0,"div"),r.Mc(1,"Customer Name is required"),r.Wb())}function Ce(e,t){if(1&e&&(r.Yb(0,"div",ge),r.Kc(1,ve,2,0,"div",ke),r.Wb()),2&e){const e=r.mc();r.Cc(1),r.sc("ngIf",e.f.name.errors.required)}}function Be(e,t){1&e&&(r.Yb(0,"div"),r.Mc(1,"Phone Number is required"),r.Wb())}function We(e,t){if(1&e&&(r.Yb(0,"div",ge),r.Kc(1,Be,2,0,"div",ke),r.Wb()),2&e){const e=r.mc();r.Cc(1),r.sc("ngIf",e.f.phone.errors.required)}}function Ye(e,t){1&e&&(r.Yb(0,"div"),r.Mc(1,"Feedback message is required"),r.Wb())}function Ie(e,t){if(1&e&&(r.Yb(0,"div",ge),r.Kc(1,Ye,2,0,"div",ke),r.Wb()),2&e){const e=r.mc();r.Cc(1),r.sc("ngIf",e.f.message.errors.required)}}const Me=function(e){return{"is-invalid":e}},ye=[{path:"",component:Q,resolve:{resolvedFeedBacks:(()=>{class e{constructor(e){this.feedBackService=e,this.pagenumber=1,this.pagesize=20,this.filterBy=""}resolve(e,t){return this.feedBackService.fetchAllFeedBacks(this.pagenumber,this.pagesize,this.filterBy).pipe(Object(p.a)(e=>Object(Z.a)(e)))}}return e.ngInjectableDef=r.Ob({token:e,factory:function(t){return new(t||e)(r.hc(h))},providedIn:"root"}),e})()}},{path:":feedbackId/edit",component:(()=>{class e{constructor(e,t,c,r){this.formBuilder=e,this.activatedRoute=t,this.feedBackService=c,this.router=r,this.addFeedBackForm=this.formBuilder.group({customer_id:[""],name:["",u.t.required],email:[""],phone:["",u.t.required],message:["",u.t.required],customerCity:[""]})}get f(){return this.addFeedBackForm.controls}ngOnInit(){this.feedbackId=+this.activatedRoute.snapshot.params.feedbackId}onSubmit(){this.submitted=!0,this.addFeedBackForm.invalid||0===this.feedbackId&&this.feedBackService.addNewFeedBack(this.addFeedBackForm.value).subscribe(e=>{console.log(e),"200"==e.status&&this.router.navigate(["feedbacks"]),"400"==e.status&&alert("FeedBack Not Added . Internal Server Error")},e=>{this.errorMessage=e})}}return e.ngComponentDef=r.Mb({type:e,selectors:[["app-feedback-edit"]],factory:function(t){return new(t||e)(r.Sb(u.c),r.Sb(n.a),r.Sb(h),r.Sb(n.f))},consts:49,vars:14,template:function(e,t){1&e&&(r.Yb(0,"div",H),r.Yb(1,"div",V),r.Yb(2,"div",ee),r.Yb(3,"div",te),r.Yb(4,"h2"),r.Mc(5,"Add New FeedBack"),r.Wb(),r.Yb(6,"form",ce),r.jc("ngSubmit",(function(e){return t.onSubmit()})),r.Yb(7,"div",ee),r.Yb(8,"div",re),r.Yb(9,"div",oe),r.Yb(10,"label"),r.Mc(11,"Customer Id"),r.Wb(),r.Tb(12,"input",ne),r.Wb(),r.Wb(),r.Yb(13,"div",re),r.Yb(14,"div",oe),r.Yb(15,"label"),r.Mc(16,"Customer Name"),r.Wb(),r.Tb(17,"input",ae),r.Kc(18,Ce,2,1,"div",se),r.Wb(),r.Wb(),r.Wb(),r.Yb(19,"div",oe),r.Yb(20,"label"),r.Mc(21,"Customer Phone"),r.Wb(),r.Tb(22,"input",ie),r.Kc(23,We,2,1,"div",se),r.Wb(),r.Yb(24,"div",oe),r.Yb(25,"label"),r.Mc(26,"Customer Email"),r.Wb(),r.Tb(27,"input",de),r.Wb(),r.Yb(28,"div",oe),r.Yb(29,"label"),r.Mc(30,"Customer Feedback"),r.Wb(),r.Tb(31,"textarea",be),r.Kc(32,Ie,2,1,"div",se),r.Wb(),r.Yb(33,"div",oe),r.Yb(34,"label"),r.Mc(35,"City"),r.Wb(),r.Yb(36,"div"),r.Yb(37,"select",ue),r.Yb(38,"option",le),r.Mc(39,"Noida"),r.Wb(),r.Yb(40,"option",fe),r.Mc(41,"Gurgaon"),r.Wb(),r.Yb(42,"option",me),r.Mc(43,"Ghaziabad"),r.Wb(),r.Yb(44,"option",pe),r.Mc(45,"Agra"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Yb(46,"div",oe),r.Yb(47,"button",he),r.Mc(48,"Save"),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&e&&(r.Cc(6),r.sc("formGroup",t.addFeedBackForm),r.Cc(17),r.sc("ngClass",r.vc(8,Me,t.submitted&&t.f.name.errors)),r.Cc(18),r.sc("ngIf",t.submitted&&t.f.name.errors),r.Cc(22),r.sc("ngClass",r.vc(10,Me,t.submitted&&t.f.phone.errors)),r.Cc(23),r.sc("ngIf",t.submitted&&t.f.phone.errors),r.Cc(31),r.sc("ngClass",r.vc(12,Me,t.submitted&&t.f.message.errors)),r.Cc(32),r.sc("ngIf",t.submitted&&t.f.message.errors),r.Cc(47),r.sc("disabled",!t.addFeedBackForm.valid))},directives:[u.v,u.l,u.e,u.b,u.k,u.d,o.k,o.m,u.g,u.h,u.s,u.o,u.u],styles:[""]}),e})()}];let Fe=(()=>{class e{}return e.ngModuleDef=r.Qb({type:e}),e.ngInjectorDef=r.Pb({factory:function(t){return new(t||e)},imports:[[n.j.forChild(ye)],n.j]}),e})();n.j.forChild(ye);var _e=c("PCNd");c.d(t,"FeedbacksModule",(function(){return Oe}));let Oe=(()=>{class e{}return e.ngModuleDef=r.Qb({type:e}),e.ngInjectorDef=r.Pb({factory:function(t){return new(t||e)},imports:[[o.b,u.q,Fe,_e.a]]}),e})()}}]);