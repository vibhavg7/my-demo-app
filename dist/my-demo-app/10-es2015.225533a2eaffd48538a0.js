(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Ak7V:function(t,e,r){"use strict";r.r(e),r.d(e,"CategoryModule",(function(){return pt}));var o=r("ofXK"),a=r("tyNb"),i=r("vkgz"),s=r("/uUt"),c=r("Kj3r"),n=r("eIep"),b=r("chph"),g=r("fXoL"),l=r("9d4Z"),u=r("QJ7G"),d=r("1kSV"),m=r("3Pt+"),y=r("CvK3");function h(t,e){if(1&t&&g.Rb(0,"img",24),2&t){const t=g.mc(3);g.Ic("width",t.imageWidth,"px")("height",t.imageHeight,"px")("margin",t.imageMargin,"px")}}function f(t,e){if(1&t){const t=g.Xb();g.Wb(0,"span",25),g.ic("click",(function(){g.Dc(t);const e=g.mc().$implicit;return g.mc(2).uploadImage(e.store_sub_category_id)})),g.Lc(1," Upload Image "),g.Vb()}}function p(t,e){if(1&t&&g.Rb(0,"img",26),2&t){const t=g.mc().$implicit,e=g.mc(2);g.Ic("height",e.imageHeight,"px")("width",e.imageWidth,"px")("margin",e.imageMargin,"px"),g.uc("src",null==t?null:t.store_sub_category_image_url,g.Ec),g.tc("title",t.store_sub_category)}}function C(t,e){if(1&t){const t=g.Xb();g.Wb(0,"span",25),g.ic("click",(function(){g.Dc(t);const e=g.mc().$implicit;return g.mc(2).uploadImage(e.store_sub_category_id)})),g.Lc(1," Change Image "),g.Vb()}}function v(t,e){if(1&t){const t=g.Xb();g.Wb(0,"i",27),g.ic("click",(function(){g.Dc(t);const e=g.mc().$implicit;return g.mc(2).activesubcategory(null==e?null:e.store_sub_category_id)})),g.Vb()}}const _=function(t){return["/category/storesubcategories",t]};function V(t,e){if(1&t){const t=g.Xb();g.Wb(0,"div",36),g.Wb(1,"div",37),g.Wb(2,"a",19),g.Lc(3),g.Vb(),g.Vb(),g.Wb(4,"div",37),g.Wb(5,"a",19),g.Lc(6),g.nc(7,"upperCaseName"),g.Vb(),g.Vb(),g.Wb(8,"div",37),g.Wb(9,"i",38),g.ic("click",(function(){g.Dc(t);const r=e.$implicit,o=g.mc(3).$implicit;return g.mc(2).addSubCat(null==o?null:o.store_sub_category_id,null==r?null:r.sub_category_id)})),g.Vb(),g.Wb(10,"i",21),g.ic("click",(function(){g.Dc(t);const r=e.$implicit,o=g.mc(3).$implicit;return g.mc(2).deleteSubCategory(null==r?null:r.sub_category_id,null==o?null:o.store_sub_category_id)})),g.Vb(),g.Vb(),g.Vb()}if(2&t){const t=e.$implicit;g.Cb(2),g.tc("routerLink",g.xc(6,_,null==t?null:t.sub_category_id)),g.Cb(1),g.Nc(" ",null==t?null:t.sub_category_id," "),g.Cb(2),g.tc("routerLink",g.xc(8,_,null==t?null:t.sub_category_id)),g.Cb(1),g.Nc(" ",g.oc(7,4,null==t?null:t.sub_category_name)," ")}}function W(t,e){if(1&t){const t=g.Xb();g.Wb(0,"div",30),g.Wb(1,"div",31),g.Wb(2,"div",32),g.Lc(3," Category Id "),g.Vb(),g.Wb(4,"div",32),g.Lc(5," Catergory Name "),g.Vb(),g.Wb(6,"div",32),g.Wb(7,"button",33),g.ic("click",(function(){g.Dc(t);const e=g.mc(2).$implicit;return g.mc(2).addSubCat(null==e?null:e.store_sub_category_id,0)})),g.Lc(8," Add Sub Category "),g.Vb(),g.Vb(),g.Vb(),g.Wb(9,"div",34),g.Jc(10,V,11,10,"div",35),g.Vb(),g.Vb()}if(2&t){const t=g.mc(2).$implicit;g.Cb(10),g.tc("ngForOf",null==t?null:t.sub_category_data)}}function S(t,e){if(1&t){const t=g.Xb();g.Wb(0,"i",28),g.ic("click",(function(){g.Dc(t);const e=g.mc().$implicit;return g.mc(2).activesubcategory(null==e?null:e.store_sub_category_id)})),g.Jc(1,W,11,1,"div",29),g.Vb()}if(2&t){const t=g.mc().$implicit;g.Cb(1),g.tc("ngIf",null==t?null:t.isActive)}}const I=function(t){return["/category/storesubcategories",t,"edit"]};function N(t,e){if(1&t){const t=g.Xb();g.Wb(0,"tr"),g.Wb(1,"td"),g.Jc(2,h,1,6,"img",16),g.Jc(3,f,2,0,"span",17),g.Jc(4,p,1,8,"img",18),g.Jc(5,C,2,0,"span",17),g.Vb(),g.Wb(6,"td"),g.Wb(7,"a",19),g.Lc(8),g.Vb(),g.Vb(),g.Wb(9,"td"),g.Wb(10,"a",19),g.Lc(11),g.nc(12,"upperCaseName"),g.Vb(),g.Vb(),g.Wb(13,"td"),g.Rb(14,"i",20),g.Wb(15,"i",21),g.ic("click",(function(){g.Dc(t);const r=e.$implicit;return g.mc(2).deleteStoreSubCategory(null==r?null:r.store_sub_category_id)})),g.Vb(),g.Jc(16,v,1,0,"i",22),g.Jc(17,S,2,1,"i",23),g.Vb(),g.Vb()}if(2&t){const t=e.$implicit;g.Cb(2),g.tc("ngIf",!(null!=t&&t.store_sub_category_image_url)),g.Cb(1),g.tc("ngIf",!(null!=t&&t.store_sub_category_image_url)),g.Cb(1),g.tc("ngIf",null==t?null:t.store_sub_category_image_url),g.Cb(1),g.tc("ngIf",null==t?null:t.store_sub_category_image_url),g.Cb(2),g.tc("routerLink",g.xc(13,_,null==t?null:t.store_sub_category_id)),g.Cb(1),g.Nc(" ",null==t?null:t.store_sub_category_id," "),g.Cb(2),g.tc("routerLink",g.xc(15,_,null==t?null:t.store_sub_category_id)),g.Cb(1),g.Nc(" ",g.oc(12,11,null==t?null:t.store_sub_category)," "),g.Cb(3),g.tc("routerLink",g.xc(17,I,null==t?null:t.store_sub_category_id)),g.Cb(2),g.tc("ngIf",!(null!=t&&t.isActive)),g.Cb(1),g.tc("ngIf",null==t?null:t.isActive)}}function k(t,e){if(1&t&&(g.Wb(0,"table",14),g.Wb(1,"thead"),g.Wb(2,"tr"),g.Rb(3,"th"),g.Wb(4,"th"),g.Lc(5,"Category Id"),g.Vb(),g.Wb(6,"th"),g.Lc(7,"Category Name"),g.Vb(),g.Rb(8,"th"),g.Vb(),g.Vb(),g.Wb(9,"tbody"),g.Jc(10,N,18,19,"tr",15),g.Vb(),g.Vb()),2&t){const t=g.mc();g.Cb(10),g.tc("ngForOf",t.storeSubCategoryData)}}function F(t,e){1&t&&(g.Wb(0,"div"),g.Lc(1," No Sub Category Data Found "),g.Vb())}function L(t,e){if(1&t&&(g.Wb(0,"div",39),g.Lc(1),g.Vb()),2&t){const t=g.mc();g.Cb(1),g.Nc(" Error: ",t.errorMessage,"\n")}}const w=function(){return["/category/storesubcategories/",0,"edit"]};let x=(()=>{class t{constructor(t,e,r,o,a,i){this.categoryService=t,this.productService=e,this.activatedRoute=r,this.modalService=o,this.formBuilder=a,this.route=i,this.imageWidth=80,this.imageHeight=80,this.imageMargin=2,this.subCategories=[],this.pageTitle="",this.displaytype="AC",this.filterBy="",this.searchCriteriaForm=this.formBuilder.group({searchCriteria:[""]})}ngOnInit(){this.categories=this.activatedRoute.snapshot.data.storesubcategorydata.storesubcategorydata[0],this.storeSubCategoryData=this.categories.store_sub_category_name,this.storeSubCategoryData.map(t=>(t.isActive=!1,t)),console.log(this.storeSubCategoryData),this.pageTitle=this.categories.main_category+" Sub Category",this.errorMessage=this.activatedRoute.snapshot.data.storesubcategorydata.error}activesubcategory(t){this.storeSubCategoryData.map(e=>{e.store_sub_category_id===t&&(e.isActive=!e.isActive)})}onChanges(){this.searchCriteriaForm.get("searchCriteria").valueChanges.pipe(Object(i.a)(t=>{}),Object(s.a)(),Object(c.a)(200),Object(n.a)(t=>(this.filterBy=t,this.categoryService.getStoreSubCategoryData(this.storeCategoryId,this.filterBy)))).subscribe(t=>{console.log(t),this.categories=t.store_sub_categories})}addNewCategory(){this.route.navigate(["category",0,"edit"])}deleteStoreSubCategory(t){confirm("Are you sure to delete ")&&this.categoryService.deleteStoreSubCategory(t).subscribe(t=>{console.log(t);for(let e=0;e<this.storeSubCategoryData.length;e++)this.storeSubCategoryData[e].store_sub_category_id===+t.store_sub_category_id&&this.categories.store_sub_category_name.splice(e,1)})}deleteSubCategory(t,e){confirm("Are you sure to delete ")&&this.categoryService.deleteSubCategory(t).subscribe(r=>{200===r.status&&this.storeSubCategoryData.map(r=>{if(r.store_sub_category_id===e){const e=r.sub_category_data.findIndex(e=>e.sub_category_id===t);r.sub_category_data.splice(e,1)}})})}addSubCat(t,e){this.route.navigate([`category/storesubcategories/${this.activatedRoute.snapshot.params.id}/storesub/${t}/sub/${e}/edit`])}getAllProducts(){this.productService.getProducts(1,25,"").subscribe({next:t=>{this.products=t.products,this.products=this.products},error:t=>this.errorMessage=t})}categoryProductInfo(t){this.productService.getcategoryProductInfo(t).subscribe({next:t=>{this.products=t.products,console.log(this.products)},error:t=>this.errorMessage=t})}showSubCategories(t){this.subCategories=t.sub_categories,console.log(this.subCategories)}uploadImage(t){const e=this.modalService.open(b.a);e.componentInstance.title="Image Upload",e.componentInstance.id=t,e.componentInstance.image_type="subcategories",e.componentInstance.productImage.subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(g.Qb(l.a),g.Qb(u.a),g.Qb(a.a),g.Qb(d.f),g.Qb(m.d),g.Qb(a.f))},t.\u0275cmp=g.Kb({type:t,selectors:[["app-category-list"]],decls:17,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-2"],[1,"col-md-4"],[3,"formGroup"],["formControlName","searchCriteria","type","text","id","keyword","placeholder","Search Subcategory By Name","autocomplete","off","autofocus","",1,"form-control"],[1,"col-md-6"],[1,"btn","btn-outline-secondary",2,"float","right",3,"routerLink"],[1,"table-responsive"],["class","table",4,"ngIf"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],["src","assets/product_images/default_image.jpg",3,"width","height","margin",4,"ngIf"],["style","display:block;font-size:14px;cursor:pointer;color:blue",3,"click",4,"ngIf"],[3,"src","title","height","width","margin",4,"ngIf"],[3,"routerLink"],[1,"fa","fa-edit",3,"routerLink"],[1,"fa","fa-trash",3,"click"],["class","fa fa-angle-down",3,"click",4,"ngIf"],["class","fa fa-angle-up",3,"click",4,"ngIf"],["src","assets/product_images/default_image.jpg"],[2,"display","block","font-size","14px","cursor","pointer","color","blue",3,"click"],[3,"src","title"],[1,"fa","fa-angle-down",3,"click"],[1,"fa","fa-angle-up",3,"click"],["id","resp-table","style","background: #eee;",4,"ngIf"],["id","resp-table",2,"background","#eee"],["id","resp-table-header"],[1,"table-header-cell"],[1,"btn","btn-outline-secondary",2,"float","right",3,"click"],["id","resp-table-body"],["class","resp-table-row",4,"ngFor","ngForOf"],[1,"resp-table-row"],[1,"table-body-cell"],[1,"fa","fa-edit",3,"click"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(g.Wb(0,"div",0),g.Wb(1,"div",1),g.Lc(2),g.Vb(),g.Wb(3,"div",2),g.Wb(4,"div",3),g.Wb(5,"div",4),g.Lc(6,"Filter by:"),g.Vb(),g.Wb(7,"div",5),g.Wb(8,"form",6),g.Rb(9,"input",7),g.Vb(),g.Vb(),g.Wb(10,"div",8),g.Wb(11,"button",9),g.Lc(12," Add Store Sub Category "),g.Vb(),g.Vb(),g.Vb(),g.Wb(13,"div",10),g.Jc(14,k,11,1,"table",11),g.Jc(15,F,2,0,"div",12),g.Vb(),g.Vb(),g.Vb(),g.Jc(16,L,2,1,"div",13)),2&t&&(g.Cb(2),g.Nc(" ",e.pageTitle," "),g.Cb(6),g.tc("formGroup",e.searchCriteriaForm),g.Cb(3),g.tc("routerLink",g.wc(6,w)),g.Cb(3),g.tc("ngIf",null==e.storeSubCategoryData?null:e.storeSubCategoryData.length),g.Cb(1),g.tc("ngIf",0==(null==e.storeSubCategoryData?null:e.storeSubCategoryData.length)),g.Cb(1),g.tc("ngIf",e.errorMessage))},directives:[m.w,m.n,m.f,m.c,m.m,m.e,a.g,o.n,o.m,a.i],pipes:[y.a],styles:["i[_ngcontent-%COMP%]{border:1px solid #000;padding:6px;margin:5px 5px 0 0;float:right}.up[_ngcontent-%COMP%]{transform:rotate(-135deg);-webkit-transform:rotate(-135deg)}#resp-table[_ngcontent-%COMP%]{width:100%;height:200px;display:table;text-align:center;border-bottom:1px solid #000}#resp-table-caption[_ngcontent-%COMP%]{display:table-caption;text-align:center;font-size:20px}#resp-table-header[_ngcontent-%COMP%]{display:table-header-group;font-weight:700;text-align:center;font-size:15px}.table-header-cell[_ngcontent-%COMP%]{text-align:center;display:table-cell;padding:10px;border-bottom:1px solid #000}#resp-table-body[_ngcontent-%COMP%]{text-align:center;display:table-row-group}.resp-table-row[_ngcontent-%COMP%]{text-align:center;display:table-row}.table-body-cell[_ngcontent-%COMP%]{text-align:center;display:table-cell}#resp-table-footer[_ngcontent-%COMP%]{display:table-footer-group;background-color:grey;font-weight:700;font-size:25px;color:hsla(0,0%,100%,.45)}.table-footer-cell[_ngcontent-%COMP%]{display:table-cell;padding:10px;text-align:justify;border-bottom:1px solid #000}"]}),t})(),R=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=g.Kb({type:t,selectors:[["app-category-detail"]],decls:2,vars:0,template:function(t,e){1&t&&(g.Wb(0,"p"),g.Lc(1,"category-detail works!"),g.Vb())},styles:[""]}),t})();function O(t,e){1&t&&(g.Wb(0,"div"),g.Lc(1,"Category Name is required"),g.Vb())}function M(t,e){if(1&t&&(g.Wb(0,"div",16),g.Jc(1,O,2,0,"div",17),g.Vb()),2&t){const t=g.mc();g.Cb(1),g.tc("ngIf",t.f.categoryName.errors.required)}}function J(t,e){if(1&t&&(g.Wb(0,"option",18),g.Lc(1),g.Vb()),2&t){const t=e.$implicit;g.uc("value",null==t?null:t.store_category_id),g.Cb(1),g.Nc(" ",t.store_category_name," ")}}function D(t,e){1&t&&(g.Wb(0,"div"),g.Lc(1,"Category Ranking is required"),g.Vb())}function j(t,e){if(1&t&&(g.Wb(0,"div",16),g.Jc(1,D,2,0,"div",17),g.Vb()),2&t){const t=g.mc();g.Cb(1),g.tc("ngIf",t.f.categoryRanking.errors.required)}}const A=function(t){return{"is-invalid":t}};let Q=(()=>{class t{constructor(t,e,r,o){this.categoryService=t,this.router=e,this.activatedRoute=r,this.formBuilder=o,this.disableForm=!1,this.pageTitle="Add Category",this.addCategoryForm=this.formBuilder.group({categoryName:["",m.u.required],storeCategoryName:["",m.u.required],categoryRanking:[""],status:[""]})}get f(){return this.addCategoryForm.controls}ngOnInit(){this.categoryId=+this.activatedRoute.snapshot.params.categoryId,0!==this.categoryId&&this.categoryService.getSubCategoryData(this.categoryId).subscribe(t=>{console.log(t),this.addCategoryForm.get("categoryName").setValue(t[0].name),this.addCategoryForm.get("storeCategoryName").setValue(t[0].store_category_id),this.addCategoryForm.get("categoryRanking").setValue(t[0].ranking),this.addCategoryForm.get("status").setValue(t[0].status)}),this.categoryService.storeCategories.subscribe(t=>{this.storeCategories=t.store_categories})}onSubmit(){if(!this.disableForm){if(this.submitted=!0,this.disableForm=!0,this.addCategoryForm.invalid)return void(this.disableForm=!1);0===this.categoryId?this.categoryService.addNewStoreSubCategory(this.addCategoryForm.value).subscribe(t=>{200==+t.status&&this.router.navigate(["category/storesubcategories",this.addCategoryForm.value.storeCategoryName]),400===t.status&&(alert("Category Not Added . Internal Server Error"),this.disableForm=!1)},t=>{this.errorMessage=t,this.disableForm=!1}):this.categoryService.editStoreSubCategory(this.addCategoryForm.value,this.categoryId).subscribe(t=>{200===t.status&&this.router.navigate(["category/storecategories"]),400===t.status&&(alert("Category Not Added . Internal Server Error"),this.disableForm=!1)},t=>{this.errorMessage=t,this.disableForm=!1})}}}return t.\u0275fac=function(e){return new(e||t)(g.Qb(l.a),g.Qb(a.f),g.Qb(a.a),g.Qb(m.d))},t.\u0275cmp=g.Kb({type:t,selectors:[["app-category-add"]],decls:35,vars:11,consts:[[1,"jumbotron"],[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","categoryName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","storeCategoryName",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","categoryRanking",1,"form-control",3,"ngClass"],["for",""],["formControlName","status",1,"form-control"],["value","1"],["value","0"],[1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(t,e){1&t&&(g.Wb(0,"div",0),g.Wb(1,"div",1),g.Wb(2,"div",2),g.Wb(3,"div",3),g.Wb(4,"h2"),g.Lc(5,"Add New Sub Category"),g.Vb(),g.Wb(6,"form",4),g.ic("ngSubmit",(function(){return e.onSubmit()})),g.Wb(7,"div",5),g.Wb(8,"label"),g.Lc(9,"Category Name"),g.Vb(),g.Rb(10,"input",6),g.Jc(11,M,2,1,"div",7),g.Vb(),g.Wb(12,"div",5),g.Wb(13,"label"),g.Lc(14,"Store Category Name"),g.Vb(),g.Wb(15,"div"),g.Wb(16,"select",8),g.Jc(17,J,2,2,"option",9),g.Vb(),g.Vb(),g.Vb(),g.Wb(18,"div",5),g.Wb(19,"label"),g.Lc(20,"Category Ranking"),g.Vb(),g.Rb(21,"input",10),g.Jc(22,j,2,1,"div",7),g.Vb(),g.Wb(23,"div",5),g.Wb(24,"label",11),g.Lc(25,"Status"),g.Vb(),g.Wb(26,"div"),g.Wb(27,"select",12),g.Wb(28,"option",13),g.Lc(29,"Enabled"),g.Vb(),g.Wb(30,"option",14),g.Lc(31,"Disabled"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Wb(32,"div",5),g.Wb(33,"button",15),g.Lc(34,"Save"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb()),2&t&&(g.Cb(6),g.tc("formGroup",e.addCategoryForm),g.Cb(4),g.tc("ngClass",g.xc(7,A,e.submitted&&e.f.categoryName.errors)),g.Cb(1),g.tc("ngIf",e.submitted&&e.f.categoryName.errors),g.Cb(6),g.tc("ngForOf",e.storeCategories),g.Cb(4),g.tc("ngClass",g.xc(9,A,e.submitted&&e.f.categoryRanking.errors)),g.Cb(1),g.tc("ngIf",e.submitted&&e.f.categoryRanking.errors),g.Cb(11),g.tc("disabled",!e.addCategoryForm.valid||e.disableForm))},directives:[m.w,m.n,m.f,m.c,m.m,m.e,o.l,o.n,m.t,o.m,m.q,m.v],styles:[""]}),t})();const $=["app-shopper-category-data",""];function P(t,e){if(1&t&&g.Rb(0,"img",9),2&t){const t=g.mc();g.Ic("width",t.imageWidth,"px")("height",t.imageHeight,"px")("margin",t.imageMargin,"px")}}function q(t,e){if(1&t){const t=g.Xb();g.Wb(0,"span",10),g.ic("click",(function(){g.Dc(t);const e=g.mc();return e.uploadImage(e.storeCategory.store_category_id)})),g.Lc(1," Upload Image "),g.Vb()}}function B(t,e){if(1&t&&g.Rb(0,"img",11),2&t){const t=g.mc();g.Ic("height",t.imageHeight,"px")("width",t.imageWidth,"px")("margin",t.imageMargin,"px"),g.uc("src",null==t.storeCategory?null:t.storeCategory.image_url,g.Ec),g.tc("title",t.storeCategory.store_category_name)}}function X(t,e){if(1&t){const t=g.Xb();g.Wb(0,"span",10),g.ic("click",(function(){g.Dc(t);const e=g.mc();return e.uploadImage(e.storeCategory.store_category_id)})),g.Lc(1," Change Image "),g.Vb()}}const E=function(t){return["/category/storesubcategories",t]},G=function(t){return["/category/storecategories",t,"edit"]};let K=(()=>{class t{constructor(t,e){this.modalService=t,this._categoryService=e,this.deletestorecategory=new g.o,this.imageWidth=80,this.imageHeight=80,this.imageMargin=2}ngOnInit(){}ngOnChange(){}uploadImage(t){const e=this.modalService.open(b.a);e.componentInstance.title="Image Upload",e.componentInstance.id=t,e.componentInstance.image_type="category",e.componentInstance.productImage.subscribe(t=>{this.storeCategory.store_image_url=t.image_url})}deleteCategory(t){confirm("Are you sure to delete ")&&this._categoryService.deleteStoreCategory(t).subscribe(t=>{console.log(t),this.deletestorecategory.emit(t)})}}return t.\u0275fac=function(e){return new(e||t)(g.Qb(d.f),g.Qb(l.a))},t.\u0275cmp=g.Kb({type:t,selectors:[["","app-shopper-category-data",""]],inputs:{storeCategory:["storeCategoryInfo","storeCategory"]},outputs:{deletestorecategory:"deletestorecategory"},attrs:$,decls:25,vars:21,consts:[["src","assets/product_images/default_image.jpg",3,"width","height","margin",4,"ngIf"],["style","display:block;font-size:14px;cursor:pointer;color:blue",3,"click",4,"ngIf"],[3,"src","title","height","width","margin",4,"ngIf"],[3,"routerLink"],[2,"font-weight","bold"],[1,"btn","btn-outline-secondary","mr-3",3,"routerLink"],[1,"fa","fa-edit"],[1,"btn","btn-outline-secondary","mr-3",3,"click"],[1,"fa","fa-trash"],["src","assets/product_images/default_image.jpg"],[2,"display","block","font-size","14px","cursor","pointer","color","blue",3,"click"],[3,"src","title"]],template:function(t,e){1&t&&(g.Wb(0,"td"),g.Jc(1,P,1,6,"img",0),g.Jc(2,q,2,0,"span",1),g.Jc(3,B,1,8,"img",2),g.Jc(4,X,2,0,"span",1),g.Vb(),g.Wb(5,"td"),g.Wb(6,"a",3),g.Lc(7),g.Vb(),g.Vb(),g.Wb(8,"td"),g.Wb(9,"a",3),g.Lc(10),g.Vb(),g.Vb(),g.Wb(11,"td"),g.Lc(12),g.Vb(),g.Wb(13,"td",4),g.Lc(14),g.Vb(),g.Wb(15,"td"),g.Lc(16),g.nc(17,"date"),g.Vb(),g.Wb(18,"td"),g.Wb(19,"button",5),g.Rb(20,"i",6),g.Lc(21,"Edit "),g.Vb(),g.Wb(22,"button",7),g.ic("click",(function(){return e.deleteCategory(null==e.storeCategory?null:e.storeCategory.store_category_id)})),g.Rb(23,"i",8),g.Lc(24," Delete "),g.Vb(),g.Vb()),2&t&&(g.Cb(1),g.tc("ngIf",!(null!=e.storeCategory&&e.storeCategory.image_url)),g.Cb(1),g.tc("ngIf",!(null!=e.storeCategory&&e.storeCategory.image_url)),g.Cb(1),g.tc("ngIf",null==e.storeCategory?null:e.storeCategory.image_url),g.Cb(1),g.tc("ngIf",null==e.storeCategory?null:e.storeCategory.image_url),g.Cb(2),g.tc("routerLink",g.xc(15,E,e.storeCategory.store_category_id)),g.Cb(1),g.Nc(" ",null==e.storeCategory?null:e.storeCategory.store_category_id," "),g.Cb(2),g.tc("routerLink",g.xc(17,E,e.storeCategory.store_category_id)),g.Cb(1),g.Nc(" ",null==e.storeCategory?null:e.storeCategory.store_category_name," "),g.Cb(2),g.Mc(null==e.storeCategory?null:e.storeCategory.store_category_ranking),g.Cb(2),g.Mc(null!=e.storeCategory&&e.storeCategory.status?"Available":"Not Available"),g.Cb(2),g.Mc(g.pc(17,12,e.storeCategory.last_updated,"short")),g.Cb(3),g.tc("routerLink",g.xc(19,G,null==e.storeCategory?null:e.storeCategory.store_category_id)))},directives:[o.n,a.i,a.g],pipes:[o.e],styles:[""]}),t})();function z(t,e){if(1&t){const t=g.Xb();g.Wb(0,"tr",16),g.ic("deletestorecategory",(function(e){return g.Dc(t),g.mc(2).deletestorecategory(e)})),g.Vb()}2&t&&g.tc("storeCategoryInfo",e.$implicit)}function H(t,e){if(1&t&&(g.Wb(0,"div",13),g.Wb(1,"table",14),g.Wb(2,"thead"),g.Wb(3,"tr"),g.Rb(4,"th"),g.Wb(5,"th"),g.Lc(6,"SCId"),g.Vb(),g.Wb(7,"th"),g.Lc(8,"Category Name"),g.Vb(),g.Wb(9,"th"),g.Lc(10,"Ranking"),g.Vb(),g.Wb(11,"th"),g.Lc(12,"Status"),g.Vb(),g.Wb(13,"th"),g.Lc(14,"Last Updated"),g.Vb(),g.Rb(15,"th"),g.Vb(),g.Vb(),g.Wb(16,"tbody"),g.Jc(17,z,1,1,"tr",15),g.Vb(),g.Vb(),g.Vb()),2&t){const t=g.mc();g.Cb(17),g.tc("ngForOf",t.storeCategories)}}function U(t,e){1&t&&(g.Wb(0,"div"),g.Lc(1," No Store Categories Found "),g.Vb())}function T(t,e){if(1&t&&(g.Wb(0,"div",17),g.Lc(1),g.Vb()),2&t){const t=g.mc();g.Cb(1),g.Nc(" Error: ",t.errorMessage,"\n")}}const Z=function(){return["/category/storecategories/",0,"edit"]};let Y=(()=>{class t{constructor(t,e,r,o){this._categoryServce=t,this.modalService=e,this.formBuilder=r,this._activatedRoute=o,this.storeCategories=[],this.pageTitle="Store Categories",this.showImage=!1,this.displaytype="SC",this.filterBy="",this.currentPage=1,this.pageSize=20,this.imageWidth=80,this.imageHeight=80,this.imageMargin=2,this.searchCriteriaForm=this.formBuilder.group({searchCriteria:[""]})}ngOnInit(){this.storeCategories=this._activatedRoute.snapshot.data.storeCategoriesdata.categories,this.errorMessage=this._activatedRoute.snapshot.data.storeCategoriesdata.error}uploadImage(t){const e=this.modalService.open(b.a);e.componentInstance.title="Image Upload",e.componentInstance.id=t,e.componentInstance.image_type="category",e.componentInstance.productImage.subscribe(t=>{this.storeCategories.filter(e=>e.store_category_id==t.store_category_id).store_image_url=t.image_url})}deletestorecategory(t){let e=+t.category_id;for(var r=0;r<this.storeCategories.length;r++)this.storeCategories[r].store_category_id===e&&this.storeCategories.splice(r,1)}onChanges(){this.searchCriteriaForm.get("searchCriteria").valueChanges.pipe(Object(i.a)(t=>{console.log(t)}),Object(s.a)(),Object(c.a)(200),Object(n.a)(t=>(this.filterBy=t,this._categoryServce.getAllStoreCategory(t)))).subscribe(t=>{this.storeCategories=t.store_categories},t=>{this.errorMessage=t})}toggleImage(){this.showImage=!this.showImage}}return t.\u0275fac=function(e){return new(e||t)(g.Qb(l.a),g.Qb(d.f),g.Qb(m.d),g.Qb(a.a))},t.\u0275cmp=g.Kb({type:t,selectors:[["app-shopper-category"]],decls:16,vars:7,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-md-2"],[1,"col-md-4"],[3,"formGroup"],["formControlName","searchCriteria","type","text","id","searchCriteria","placeholder","Search Category By Name","name","searchCriteria","autocomplete","off","autofocus","",1,"form-control",3,"keyup"],[1,"col-md-6"],[1,"btn","btn-outline-secondary",2,"float","right",3,"routerLink"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"table-responsive"],[1,"table"],["app-shopper-category-data","",3,"storeCategoryInfo","deletestorecategory",4,"ngFor","ngForOf"],["app-shopper-category-data","",3,"storeCategoryInfo","deletestorecategory"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(g.Wb(0,"div",0),g.Wb(1,"div",1),g.Lc(2),g.Vb(),g.Wb(3,"div",2),g.Wb(4,"div",3),g.Wb(5,"div",4),g.Lc(6,"Filter by:"),g.Vb(),g.Wb(7,"div",5),g.Wb(8,"form",6),g.Wb(9,"input",7),g.ic("keyup",(function(){return e.onChanges()})),g.Vb(),g.Vb(),g.Vb(),g.Wb(10,"div",8),g.Wb(11,"button",9),g.Lc(12," Add Store Category "),g.Vb(),g.Vb(),g.Vb(),g.Jc(13,H,18,1,"div",10),g.Jc(14,U,2,0,"div",11),g.Vb(),g.Vb(),g.Jc(15,T,2,1,"div",12)),2&t&&(g.Cb(2),g.Nc(" ",e.pageTitle," "),g.Cb(6),g.tc("formGroup",e.searchCriteriaForm),g.Cb(3),g.tc("routerLink",g.wc(6,Z)),g.Cb(2),g.tc("ngIf",(null==e.storeCategories?null:e.storeCategories.length)>0),g.Cb(1),g.tc("ngIf",0==(null==e.storeCategories?null:e.storeCategories.length)),g.Cb(1),g.tc("ngIf",e.errorMessage))},directives:[m.w,m.n,m.f,m.c,m.m,m.e,a.g,o.n,o.m,K],styles:[""]}),t})();function tt(t,e){1&t&&(g.Wb(0,"div"),g.Lc(1,"Store Category Name is required"),g.Vb())}function et(t,e){if(1&t&&(g.Wb(0,"div",14),g.Jc(1,tt,2,0,"div",15),g.Vb()),2&t){const t=g.mc();g.Cb(1),g.tc("ngIf",t.f.storeCategoryName.errors.required)}}function rt(t,e){1&t&&(g.Wb(0,"div"),g.Lc(1,"Store Category Ranking is required"),g.Vb())}function ot(t,e){if(1&t&&(g.Wb(0,"div",14),g.Jc(1,rt,2,0,"div",15),g.Vb()),2&t){const t=g.mc();g.Cb(1),g.tc("ngIf",t.f.storeCategoryRanking.errors.required)}}const at=function(t){return{"is-invalid":t}};let it=(()=>{class t{constructor(t,e,r,o){this.activatedRoute=t,this.categoryService=e,this.router=r,this.formBuilder=o,this.disableForm=!1,this.addStoreCategoryForm=this.formBuilder.group({storeCategoryName:["",m.u.required],storeCategoryRanking:["",m.u.required],status:[""]})}get f(){return this.addStoreCategoryForm.controls}ngOnInit(){this.storeCategoryId=+this.activatedRoute.snapshot.params.storeCategoryId,0!==this.storeCategoryId&&this.categoryService.getStoreCategory(this.storeCategoryId).subscribe(t=>{const e=t.category;console.log(e),this.addStoreCategoryForm.get("storeCategoryName").setValue(e[0].store_category_name),this.addStoreCategoryForm.get("storeCategoryRanking").setValue(e[0].store_category_ranking),this.addStoreCategoryForm.get("status").setValue(e[0].status)})}onSubmit(){if(!this.disableForm){if(this.submitted=!0,this.disableForm=!0,this.addStoreCategoryForm.invalid)return void(this.disableForm=!1);""===this.storeCategoryId?this.categoryService.addNewStoreCategory(this.addStoreCategoryForm.value).subscribe(t=>{200==+t.status&&this.router.navigate(["category/storecategories"]),400==+t.status&&(alert("Category Not Added . Internal Server Error"),this.disableForm=!1)},t=>{this.errorMessage=t,this.disableForm=!1}):this.categoryService.editStoreCategory(this.addStoreCategoryForm.value,this.storeCategoryId).subscribe(t=>{200==+t.status&&this.router.navigate(["category/storecategories"]),400==+t.status&&(alert("Category Not Added . Internal Server Error"),this.disableForm=!1)},t=>{this.errorMessage=t,this.disableForm=!1})}}}return t.\u0275fac=function(e){return new(e||t)(g.Qb(a.a),g.Qb(l.a),g.Qb(a.f),g.Qb(m.d))},t.\u0275cmp=g.Kb({type:t,selectors:[["app-add-store-category"]],decls:29,vars:10,consts:[[1,"jumbotron"],[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","storeCategoryName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","storeCategoryRanking",1,"form-control",3,"ngClass"],["for","productNameId"],["formControlName","status",1,"form-control"],["value","1"],["value","0"],[1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,e){1&t&&(g.Wb(0,"div",0),g.Wb(1,"div",1),g.Wb(2,"div",2),g.Wb(3,"div",3),g.Wb(4,"h2"),g.Lc(5,"Add New Store Category"),g.Vb(),g.Wb(6,"form",4),g.ic("ngSubmit",(function(){return e.onSubmit()})),g.Wb(7,"div",5),g.Wb(8,"label"),g.Lc(9,"Store Category Name"),g.Vb(),g.Rb(10,"input",6),g.Jc(11,et,2,1,"div",7),g.Vb(),g.Wb(12,"div",5),g.Wb(13,"label"),g.Lc(14,"Store Category Ranking"),g.Vb(),g.Rb(15,"input",8),g.Jc(16,ot,2,1,"div",7),g.Vb(),g.Wb(17,"div",5),g.Wb(18,"label",9),g.Lc(19,"Status"),g.Vb(),g.Wb(20,"div"),g.Wb(21,"select",10),g.Wb(22,"option",11),g.Lc(23,"Enabled"),g.Vb(),g.Wb(24,"option",12),g.Lc(25,"Disabled"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Wb(26,"div",5),g.Wb(27,"button",13),g.Lc(28,"Save"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb()),2&t&&(g.Cb(6),g.tc("formGroup",e.addStoreCategoryForm),g.Cb(4),g.tc("ngClass",g.xc(6,at,e.submitted&&e.f.storeCategoryName.errors)),g.Cb(1),g.tc("ngIf",e.submitted&&e.f.storeCategoryName.errors),g.Cb(4),g.tc("ngClass",g.xc(8,at,e.submitted&&e.f.storeCategoryRanking.errors)),g.Cb(1),g.tc("ngIf",e.submitted&&e.f.storeCategoryRanking.errors),g.Cb(11),g.tc("disabled",!e.addStoreCategoryForm.valid||e.disableForm))},directives:[m.w,m.n,m.f,m.c,m.m,m.e,o.l,o.n,m.t,m.q,m.v],styles:[""]}),t})();var st=r("LRne"),ct=r("lJxs"),nt=r("JIr8");let bt=(()=>{class t{constructor(t){this.categoryService=t}resolve(t,e){return this.categoryService.getAllStoreCategory("").pipe(Object(ct.a)(t=>({categories:t.store_categories,error:""})),Object(nt.a)(t=>{const e="Retrieval error: "+t;return Object(st.a)({categories:null,error:e})}))}}return t.\u0275fac=function(e){return new(e||t)(g.ec(l.a))},t.\u0275prov=g.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gt=(()=>{class t{constructor(t){this.categoryService=t}resolve(t,e){const r=t.paramMap.get("id");return this.categoryService.getStoreSubCategoryData(r,"").pipe(Object(i.a)(t=>{}),Object(ct.a)(t=>({storesubcategorydata:t.store_categories,error:""})),Object(nt.a)(t=>{const e="Retrieval error: "+t;return Object(st.a)({storesubcategorydata:null,error:e})}))}}return t.\u0275fac=function(e){return new(e||t)(g.ec(l.a))},t.\u0275prov=g.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function lt(t,e){1&t&&(g.Wb(0,"div"),g.Lc(1,"Sub Category Name is required"),g.Vb())}function ut(t,e){if(1&t&&(g.Wb(0,"div",11),g.Jc(1,lt,2,0,"div",12),g.Vb()),2&t){const t=g.mc();g.Cb(1),g.tc("ngIf",t.f.subcategoryName.errors.required)}}function dt(t,e){if(1&t&&(g.Wb(0,"option",13),g.Lc(1),g.nc(2,"upperCaseName"),g.Vb()),2&t){const t=e.$implicit;g.uc("value",null==t?null:t.store_sub_category_id),g.Cb(1),g.Nc(" ",g.oc(2,2,t.store_sub_category)," ")}}const mt=function(t){return{"is-invalid":t}},yt=[{path:"storecategories",component:Y,resolve:{storeCategoriesdata:bt}},{path:"storecategories/:storeCategoryId/edit",component:it},{path:"storesubcategories/:categoryId/storesub/:storesubcat/sub/:subcategory/edit",component:(()=>{class t{constructor(t,e,r,o){this._categoryService=t,this._router=e,this._activatedRoute=r,this.formBuilder=o,this.disableForm=!1,this.addSubCategoryForm=this.formBuilder.group({subcategoryName:["",m.u.required],subcategoryId:[""],storeCategoryName:["",m.u.required]})}get f(){return this.addSubCategoryForm.controls}ngOnInit(){this.categoryId=+this._activatedRoute.snapshot.params.categoryId,this.subcategoryId=+this._activatedRoute.snapshot.params.subcategory,this.storesubcategoryId=+this._activatedRoute.snapshot.params.storesubcat,console.log(this.storesubcategoryId),0!==this.subcategoryId&&this._categoryService.getSubCategoryData(this.subcategoryId).subscribe(t=>{this.addSubCategoryForm.get("subcategoryName").setValue(t[0].name),this.addSubCategoryForm.get("subcategoryId").setValue(t[0].category_id)}),this._categoryService.getStoreSubCategoryData(this.categoryId,"").subscribe(t=>{this.storeSubCategories=t.store_categories[0].store_sub_category_name,this.addSubCategoryForm.get("storeCategoryName").setValue(this.storesubcategoryId)})}onSubmit(){if(!this.disableForm){if(this.submitted=!0,this.disableForm=!0,this.addSubCategoryForm.invalid)return void(this.disableForm=!1);0==+this.subcategoryId?this._categoryService.addNewSubCategory(this.addSubCategoryForm.value).subscribe(t=>{200==+t.status&&this._router.navigate(["category/storesubcategories",this.categoryId]),400==+t.status&&(alert("Category Not Added . Internal Server Error"),this.disableForm=!1)},t=>{this.errorMessage=t,this.disableForm=!1}):this._categoryService.editSubCategory(this.addSubCategoryForm.value).subscribe(t=>{200===t.status&&this._router.navigate(["category/storesubcategories",this.categoryId]),400===t.status&&(alert("Category Not Added . Internal Server Error"),this.disableForm=!1)},t=>{this.errorMessage=t,this.disableForm=!1})}}}return t.\u0275fac=function(e){return new(e||t)(g.Qb(l.a),g.Qb(a.f),g.Qb(a.a),g.Qb(m.d))},t.\u0275cmp=g.Kb({type:t,selectors:[["app-add-sub-category"]],decls:21,vars:7,consts:[[1,"jumbotron"],[1,"container"],[1,"row"],[1,"col-md-6","offset-md-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","subcategoryName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","storeCategoryName",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(t,e){1&t&&(g.Wb(0,"div",0),g.Wb(1,"div",1),g.Wb(2,"div",2),g.Wb(3,"div",3),g.Wb(4,"h2"),g.Lc(5,"Add New Sub Category"),g.Vb(),g.Wb(6,"form",4),g.ic("ngSubmit",(function(){return e.onSubmit()})),g.Wb(7,"div",5),g.Wb(8,"label"),g.Lc(9,"Sub Category Name"),g.Vb(),g.Rb(10,"input",6),g.Jc(11,ut,2,1,"div",7),g.Vb(),g.Wb(12,"div",5),g.Wb(13,"label"),g.Lc(14,"Store Sub Category"),g.Vb(),g.Wb(15,"div"),g.Wb(16,"select",8),g.Jc(17,dt,3,4,"option",9),g.Vb(),g.Vb(),g.Vb(),g.Wb(18,"div",5),g.Wb(19,"button",10),g.Lc(20,"Save"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Vb()),2&t&&(g.Cb(6),g.tc("formGroup",e.addSubCategoryForm),g.Cb(4),g.tc("ngClass",g.xc(5,mt,e.submitted&&e.f.subcategoryName.errors)),g.Cb(1),g.tc("ngIf",e.submitted&&e.f.subcategoryName.errors),g.Cb(6),g.tc("ngForOf",e.storeSubCategories),g.Cb(2),g.tc("disabled",!e.addSubCategoryForm.valid||e.disableForm))},directives:[m.w,m.n,m.f,m.c,m.m,m.e,o.l,o.n,m.t,o.m,m.q,m.v],pipes:[y.a],styles:[""]}),t})()},{path:"storesubcategories/:id",component:x,resolve:{storesubcategorydata:gt}},{path:"storesubcategories/:categoryId/edit",component:Q},{path:"",component:x},{path:":id",component:R},{path:":id/edit",component:Q}];let ht=(()=>{class t{}return t.\u0275mod=g.Ob({type:t}),t.\u0275inj=g.Nb({factory:function(e){return new(e||t)},imports:[[a.j.forChild(yt)],a.j]}),t})();var ft=r("PCNd");let pt=(()=>{class t{}return t.\u0275mod=g.Ob({type:t}),t.\u0275inj=g.Nb({factory:function(e){return new(e||t)},imports:[[m.r,o.c,ft.a,ft.a,ht]]}),t})()},PCNd:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var o=r("ofXK"),a=r("3Pt+"),i=r("tyNb"),s=r("fXoL");let c=(()=>{class t{}return t.\u0275mod=s.Ob({type:t}),t.\u0275inj=s.Nb({factory:function(e){return new(e||t)},imports:[[o.c,a.r,i.j,a.g],o.c,a.g]}),t})()}}]);